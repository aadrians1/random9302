(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({"/home/node/app/api/services/widgetScores/blanksScore.js":[function(require,module,exports){
"use strict";var he=require("he");function _isCorrectAnswerForBlank(e,n,s,r){if(!s&&!r)return!1;if(!(_.isUndefined(s)||_.isUndefined(s.blanks)||_.isUndefined(s.blanks[e])))return!0===s.blanks[e];if(!_.isUndefined(n)&&!_.isUndefined(r)&&!_.isUndefined(r.blanks)&&!_.isUndefined(r.blanks[e])&&_.isString(n)&&_.isString(r.blanks[e])){var a=he.decode(n.toLocaleLowerCase().trim());return!r.blanks[e].toLocaleLowerCase().trim().localeCompare(a)}return!1}module.exports=function(e,n,s){var r=n&&n.blanks?n.blanks:{},a=e&&e.solution&&e.solution.blanks?e.solution.blanks:{};if(!_.isEmpty(e.blankText)){a={};var i,t=/<wmblank\s?(?:id="(.+?)")?(?:.+?)?>?(.+?)<\/wmblank>/g;do{var l=Object.keys(a).length;if(i=t.exec(e.blankText)){var o=!!i[1]?i[1]:"blank_"+l;a[o]=i[2].replace(/\&nbsp;/g," ")}}while(i);var k=Object.keys(a).length,b={score:{value:0,right_answers:0,num_questions:k},autoAssessment:{}};return _.forEach(r,function(e,r){if(a&&a[r])if(_isCorrectAnswerForBlank(r,a[r],s,n)){var i=1/k;b.score.value+=i,b.score.right_answers++,b.autoAssessment[r]=!0}else b.autoAssessment[r]=!1}),s&&s.blanks&&Object.keys(s).length&&(b.blanks=s.blanks),b}};

},{"he":"/home/node/app/node_modules/he/he.js"}],"/home/node/app/api/services/widgetScores/imageTagScore.js":[function(require,module,exports){
"use strict";var _=require("lodash");function _isCorrectAnswerForTag(e,s,t){if(!_.isUndefined(t)&&!_.isUndefined(t.tags)&&!_.isUndefined(t.tags[e.addedOn]))return t.tags[e.addedOn];if(!_.isUndefined(s)&&!_.isUndefined(s.tags)){var n=_.keyBy(s.tags,"addedOn");if(_.isObject(n)){var r=n[e.addedOn];if(_.isString(e.text)&&!_.isUndefined(r)&&_.isString(r.text))return e.text.toLowerCase().trim()===r.text.toLowerCase().trim()}}return!1}module.exports=function(e,s,t){var n=e.tags.length,r={score:{value:0,right_answers:0,num_questions:n},autoAssessment:{}};return _.forEach(e.tags,function(e,i){if(_isCorrectAnswerForTag(e,s,t)){var a=1/n;r.score.value+=a,r.score.right_answers++,r.autoAssessment[e.addedOn]=!0}else r.autoAssessment[e.addedOn]=!1}),t&&(r.tags=t.tags),r};

},{"lodash":false}],"/home/node/app/api/services/widgetScores/matchingScore.js":[function(require,module,exports){
"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return s=r.done,r},e:function(r){i=!0,o=r},f:function(){try{s||null==t.return||t.return()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var _=require("lodash");module.exports=function(r,e,t){var n,a=r.pairs,o=a.length,s={score:{value:0,right_answers:0,num_questions:o},autoAssessment:{}},i=_createForOfIteratorHelper(a);try{for(i.s();!(n=i.n()).done;){var u=n.value,l=!1;if(e&&!_.isUndefined(e.targets)&&parseInt(e.targets[u.seqid])===u.seqid&&(l=!0),l){var f=1/o;s.score.value+=f,s.score.right_answers++,s.autoAssessment[u.seqid]=!0}else s.autoAssessment[u.seqid]=!1}}catch(r){i.e(r)}finally{i.f()}return s};

},{"lodash":false}],"/home/node/app/api/services/widgetScores/multipleChoiceScore.js":[function(require,module,exports){
"use strict";var _=require("lodash");module.exports=function(e,s,n){var i=e.options,r=0;if(!_.isUndefined(i)&&_.isObject(i)){var t=_.filter(i,function(e){return!_.isUndefined(e)&&e.checked});r=t.length}var o={score:{value:0,right_answers:0,num_questions:r},autoAssessment:{}};return _.forEach(i,function(e,n){var i=!1;if(s)if(_.isUndefined(s.options)||_.isUndefined(s.options[n])||_.isUndefined(e)||_.isUndefined(e.checked)||(i=e.checked===s.options[n].checked),i){var t=1/r;o.score.value+=t,o.score.right_answers++,o.autoAssessment[n]=!0}else o.autoAssessment[n]=!1;else o.autoAssessment=!1}),o.score.right_answers=Math.min(o.score.right_answers,r),o.score.value=Math.min(o.score.value,1),o};

},{"lodash":false}],"/home/node/app/api/services/widgetScores/sortingScore.js":[function(require,module,exports){
"use strict";var _=require("lodash");function _isCorrectAnswerForItem(e,s,n,t){if(_.isUndefined(t)||_.isUndefined(t[n])||_.isUndefined(t[n].items)||!t[n].items.length)return!1;var r=!1;return _.forEach(t[n].items,function(e){e.index===s.index&&(r=!0)}),r}module.exports=function(e,s){var n=0,t=e.groups||{};t&&_.forEach(t,function(e,s){e.items&&e.items.length&&(n+=e.items.length)});var r={score:{value:0,right_answers:0,num_questions:n||0},autoAssessment:{}},i=s&&s.groups?s.groups:{};return _.forEach(t,function(e,s){r.autoAssessment[s]||(r.autoAssessment[s]={}),!_.isUndefined(e.items)&&e.items.length&&_.forEach(e.items,function(t,o){if(_isCorrectAnswerForItem(e,t,s,i)){var u=1/n;r.score.value+=u,r.score.right_answers++,r.autoAssessment[s][t.index]=!0}else r.autoAssessment[s][t.index]=!1})}),r};

},{"lodash":false}],"/home/node/app/api/services/widgetScores/tableScore.js":[function(require,module,exports){
"use strict";var _=require("lodash");function _isCorrectTableCellAnswer(e,s,i,r,a){if(_.isUndefined(e))return!1;if(a&&a.tablerows&&a.tablerows[s]&&a.tablerows[s].cols&&a.tablerows[s].cols[i])return a.tablerows[s].cols[i];var n;if(r&&r.tablerows&&r.tablerows[s]&&r.tablerows[s].cols&&r.tablerows[s].cols[i]&&(n=r.tablerows[s].cols[i]),_.isUndefined(n))return!1;if(_.isUndefined(e.media)||_.isUndefined(n.media)){if(!_.isUndefined(e.text)&&!_.isUndefined(n.text)){var t=e.text.replace(/<(?:.|\n)*?>/gm,"").trim().toLocaleLowerCase();if(!t)return!1;if(t==n.text.replace(/<(?:.|\n)*?>/gm,"").trim().toLocaleLowerCase())return!0}}else{if(!_.isUndefined(e.media.image)&&!_.isUndefined(n.media.image))return e.media.image==n.media.image;if(!(_.isUndefined(e.media.audio)||_.isUndefined(e.media.audio.url)||_.isUndefined(n.media.audio)||_.isUndefined(n.media.audio.url)))return e.media.audio.url==n.media.audio.url;sails.log.warn("Malformated tableCell => recieved media, but image / audio were not defined")}return!1}module.exports=function(e,s,i){var r=e.tablerows,a=0;_.forEach(r,function(e,s){_.forEach(e.cols,function(e){e.isAnswer&&a++})});var n={score:{value:0,right_answers:0,num_questions:a},autoAssessment:{}};return _.forEach(r,function(e,r){n.autoAssessment[r]||(n.autoAssessment[r]={}),_.forEach(e.cols,function(e,t){if(e.isAnswer)if(_isCorrectTableCellAnswer(e,r,t,s,i)){var o=1/a;n.score.value+=o,n.score.right_answers++,n.autoAssessment[r][t]=!0}else n.autoAssessment[r][t]=!1})}),i&&i.tablerows&&(n.tablerows=i.tablerows),n};

},{"lodash":false}],"/home/node/app/api/services/widgetScores/wordsearchScore.js":[function(require,module,exports){
"use strict";var _=require("lodash");module.exports=function(r,s){if(_.isEmpty(r.grid))return null;var e=r.grid.words.length,n=s&&s.foundWords?s.foundWords.length:0;return{score:{value:(e&&!isNaN(e)?1/e:0)*n,right_answers:n,num_questions:e}}};

},{"lodash":false}],"/home/node/app/assets/js/admin/gallery-admin.component.js":[function(require,module,exports){
"use strict";function galleryAdminComponent(){return{templateUrl:"/js/admin/gallery-admin.component.html",controller:galleryAdminController,bindings:{onCacheRefresh:"="}}}function galleryAdminController(e,r,n){var l=this;l.isHideBar=!1,l.refreshCache=function(){l.refreshingGallery=!0,n.post("/gallery/refresh").success(function(e){l.refreshingGallery=!1,l.onCacheRefresh&&l.onCacheRefresh()}).error(function(e){l.refreshingGallery=!1,console.log("fail refreshing gallery",e)})},l.refreshingGallery=!1}angular.module("wizer").component("galleryAdmin",galleryAdminComponent()),galleryAdminController.$inject=["$scope","$attrs","$http"];

},{}],"/home/node/app/assets/js/admin/index.js":[function(require,module,exports){
"use strict";require("./gallery-admin.component"),require("./worksheet-info-controller"),require("./user-settings");

},{"./gallery-admin.component":"/home/node/app/assets/js/admin/gallery-admin.component.js","./user-settings":"/home/node/app/assets/js/admin/user-settings/index.js","./worksheet-info-controller":"/home/node/app/assets/js/admin/worksheet-info-controller.js"}],"/home/node/app/assets/js/admin/user-settings/index.js":[function(require,module,exports){
"use strict";require("./user-settings-admin.component"),require("./user-settings.service");

},{"./user-settings-admin.component":"/home/node/app/assets/js/admin/user-settings/user-settings-admin.component.js","./user-settings.service":"/home/node/app/assets/js/admin/user-settings/user-settings.service.js"}],"/home/node/app/assets/js/admin/user-settings/user-settings-admin.component.js":[function(require,module,exports){
"use strict";!function(){function t(){return{templateUrl:"/js/admin/user-settings/user-settings-admin.component.html",controller:n}}function n(t,n,e,i){var r=this;r.onSearchEmail=function(t){if(angular.isUndefined(t))return;e.getUserSettings(t).then(function(t){r.userSettings=t.data.settings},function(t){r.errors.searchEmail=t.data})}}angular.module("wizer").component("userSettingsAdmin",t()).controller("userSettingsAdmin",t()),n.$inject=["$scope","$attrs","userSettingsSvc","$mdDialog"]}();

},{}],"/home/node/app/assets/js/admin/user-settings/user-settings.service.js":[function(require,module,exports){
"use strict";!function(){function e(e,t){var n=e.$new(!0);return n.getUserSettings=function(e){return t.post("/admin/userSettings",{email:e})},n}e.$inject=["$rootScope","$http"],angular.module("wizer").config(["$mdThemingProvider",function(e){e.theme("docs-dark","default").primaryPalette("yellow").dark()}]).service("userSettingsSvc",e),e.$inject=["$rootScope","$http"]}();

},{}],"/home/node/app/assets/js/admin/worksheet-info-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("AdminWorksheetInfoCTRL",["$scope","$attrs","$http",function(n,t,e){n.updateThumbnail=function(t){n.updatingThumbnail=!0,e.get("/worksheet/updateThumbnail?wsToken="+n.worksheet.token+"&delay="+1e3*t).success(function(t){n.updatingThumbnail=!1}).error(function(t){n.updatingThumbnail=!1,console.log("fail updatingThumbnail",t)})}}]);

},{}],"/home/node/app/assets/js/api/api-constants.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var isDev="localhost:1337"===location.host.toLowerCase()||"local.wizer.me"===location.host.toLowerCase(),isStage="stgapp.wizer.me"===location.host.toLowerCase(),isSecondary="secondary.wizer.me"===location.host.toLowerCase(),isProd=!isDev&&!isStage&&!isSecondary,root=isDev?"https://local.wizer.me":isStage?"https://stgapp.wizer.me":isSecondary?"https://secondary.wizer.me":"https://app.wizer.me",API={isDev:isDev,isStage:isStage,isSecondary:isSecondary,isProd:isProd,root:root},_default=API;exports.default=_default;

},{}],"/home/node/app/assets/js/api/api.module.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _apiConstants=_interopRequireDefault(require("./api-constants"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=angular.module("wizer.api",[]).constant("API",_apiConstants.default);exports.default=_default;

},{"./api-constants":"/home/node/app/assets/js/api/api-constants.js"}],"/home/node/app/assets/js/app.dependencies.js":[function(require,module,exports){
"use strict";require("./config"),require("./services"),require("./login"),require("./reducers"),require("./worksheet"),require("./help-wizard"),require("./admin"),require("./classes"),require("./dashboard"),require("./editor"),require("./gallery"),require("./learner-profile"),require("./learners-area"),require("./parent-learners-area"),require("./payments"),require("./resources"),require("./side-menu"),require("./signup"),require("./social-share"),require("./student"),require("./unsorted");

},{"./admin":"/home/node/app/assets/js/admin/index.js","./classes":"/home/node/app/assets/js/classes/index.js","./config":"/home/node/app/assets/js/config/index.js","./dashboard":"/home/node/app/assets/js/dashboard/index.js","./editor":"/home/node/app/assets/js/editor/index.js","./gallery":"/home/node/app/assets/js/gallery/index.js","./help-wizard":"/home/node/app/assets/js/help-wizard/index.js","./learner-profile":"/home/node/app/assets/js/learner-profile/index.js","./learners-area":"/home/node/app/assets/js/learners-area/index.js","./login":"/home/node/app/assets/js/login/index.js","./parent-learners-area":"/home/node/app/assets/js/parent-learners-area/index.js","./payments":"/home/node/app/assets/js/payments/index.js","./reducers":"/home/node/app/assets/js/reducers/index.js","./resources":"/home/node/app/assets/js/resources/index.js","./services":"/home/node/app/assets/js/services/index.js","./side-menu":"/home/node/app/assets/js/side-menu/index.js","./signup":"/home/node/app/assets/js/signup/index.js","./social-share":"/home/node/app/assets/js/social-share/index.js","./student":"/home/node/app/assets/js/student/index.js","./unsorted":"/home/node/app/assets/js/unsorted/index.js","./worksheet":"/home/node/app/assets/js/worksheet/index.js"}],"/home/node/app/assets/js/app.js":[function(require,module,exports){
"use strict";require("./vendor"),require("core-js/stable"),require("regenerator-runtime/runtime"),require("angular-spinner");var _angularAnimate=_interopRequireDefault(require("angular-animate")),_angularRoute=_interopRequireDefault(require("angular-route")),_angularMessages=_interopRequireDefault(require("angular-messages")),_angularSanitize=_interopRequireDefault(require("angular-sanitize"));require("angularjs-dropdown-multiselect");var _angularMaterial=_interopRequireDefault(require("angular-material"));require("angularjs-slider");var _angulartics=_interopRequireDefault(require("angulartics")),_angularticsGoogleAnalytics=_interopRequireDefault(require("angulartics-google-analytics"));require("angular-progress-button-styles/dist/angular-progress-button-styles");var _ngFlowStandalone=_interopRequireDefault(require("@flowjs/ng-flow/dist/ng-flow-standalone"));require("angular-moment-picker");var _angularMoment=_interopRequireDefault(require("angular-moment"));require("angular-ui-switch"),require("angular-ui-bootstrap"),require("angular-ui-router"),require("angular-froala");var _angularUiValidate=_interopRequireDefault(require("angular-ui-validate"));require("angular-ui-tree"),require("ng-infinite-scroll"),require("angular-ui-keypress"),require("md-color-picker/dist/mdColorPicker"),require("s3upload-coffee-javascript"),require("./api/api.module"),require("./google-drive/google-drive.module"),require("./assesments/assesments.module");var _youtube=require("./unsorted/youtube.filter"),_urlencode=require("./unsorted/urlencode.filter");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}window.Flow=_ngFlowStandalone.default;var env="unittest",match=location.host.match(/([a-z]+)\./);match&&match.length>1&&match[1].length>0&&(env=match[0]);var wizerDependencies=["wizer.api","ui.bootstrap","wizerServices",_angularAnimate.default,"flow","angularSpinner",_angularUiValidate.default,"ui.keypress","youtube",_angularRoute.default,_angulartics.default,_angularticsGoogleAnalytics.default,_angularMoment.default,"angular-progress-button-styles","google-classroom","uiSwitch","wizer-login",_angularMaterial.default,_angularMessages.default,_angularSanitize.default,"mdColorPicker","wizer.angulartics.intercom","ui.tree","infinite-scroll","froala","ui.router","rzSlider","moment-picker","angularjs-dropdown-multiselect","wizer.gallery","wizer.reducers","wizer.dashboard","wizer.resources","wizer.worksheet","wizer.assesments","wizer.learnerProfile","wizer.classes","wizer.parentClasses","wizer.student","wizer.helpWizard","wizer.gdrive"],wizerApp=angular.module("wizer",wizerDependencies,["$compileProvider",function(e){e.directive("compile",["$compile",function(e){return function(r,t,n){r.$watch(function(e){return e.$eval(n.compile)},function(n){t.html(n),e(t.contents())(r)})}}])}]);wizerApp.config(["$httpProvider",function(e){e.interceptors.push("noCacheInterceptor")}]).run(["$rootScope",function(e){$("#app-loader").hide(),$("#app-wrap-container").show(),document.angularRunning=!0,soundManager.setup({flashVersion:9,debugMode:!0,preferFlash:!1,waitForWindowLoad:!0,defaultOptions:{volume:100}}),console.log("Angular run")}]).factory("noCacheInterceptor",function(){return{request:function(e){if(e.url.startsWith("/partials/"))return e.url="".concat(e.url,"?version=").concat(wizerVersion),e;if("GET"===e.method){var r=-1===e.url.indexOf("?")?"?":"&";e.url=e.url+r+"nc="+Math.random()}return e}}}).config(["$provide",function(e){e.decorator("$templateCache",["$delegate",function(e){var r=e.get;return e.get=function(e){var t=e.replace(/(\?|\&)nc=[0-9\.]+/g,""),n=window.JST&&window.JST["assets"+(t.startsWith("/")?t:"/".concat(t))];return n?n():r(t)},e}])}]).config(["flowFactoryProvider",function(e){e.defaults={target:"/upload",permanentErrors:[404,500,501],maxChunkRetries:1,chunkRetryInterval:5e3,simultaneousUploads:4,progressCallbacksInterval:100,singleFile:!0,chunkSize:2097152}}]).config(["$analyticsProvider",function(e){e.virtualPageviews(!0),e.firstPageview(!0),e.withAutoBase(!0)}]).config(["moment",function(e){require("moment-timezone"),e.fn.from=function(r,t){return Math.abs(r.diff(this))<2e4?"just now":e.duration({to:this,from:r}).locale(this.locale()).humanize(!t)},e.fn.fromNow=function(r){return Math.abs(e().diff(this))<2e4?"just now":this.from(e(),r)}}]).config(["$locationProvider","$routeProvider",function(e,r){e.html5Mode(!0),r.when("/login",{templateUrl:"/templates/login.html",controller:"UserLoginCTRL"}).when("/signup",{templateUrl:"/templates/signup.html",controller:"SignupCTRL"}).when("/userinfo",{template:"<div flex welcome-steps></div>"}).when("/forgot",{templateUrl:"/templates/forgot.html",controller:"ForgotPassCTRL"}).when("/reset/:token",{templateUrl:"/templates/reset.html",controller:"ResetPassCTRL"}).otherwise({controller:function(){}})}]).config(["$mdThemingProvider",function(e){e.theme("default")}]).filter("escape",function(){return window.encodeURIComponent}).value("gapiKey","AIzaSyAurk5duBvLaAnRn47GZlf_atuRkgj8Mz4").config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$window",function(e,r){return function(t,n){r.trackJs&&r.trackJs.track(t),e(t,n)}}])}]),wizerApp.constant("fflip",window.features?window.features:{}),wizerApp.constant("WS_STATE_CONST",{EDIT:{value:1},SOLVE:{value:2},PREVIEW:{value:3},ASSESS:{value:4},EMBED:{value:5}}),require("./app.dependencies"),wizerApp.filter("yttruncate",_youtube.youtubeTruncateFilter).filter("ISO8601duration",_youtube.ISO8601DurationFilter).filter("ytdurationconverter",_youtube.youtubeDurationConverter).filter("urlencode",_urlencode.URLEncodeFilter);

},{"./api/api.module":"/home/node/app/assets/js/api/api.module.js","./app.dependencies":"/home/node/app/assets/js/app.dependencies.js","./assesments/assesments.module":"/home/node/app/assets/js/assesments/assesments.module.js","./google-drive/google-drive.module":"/home/node/app/assets/js/google-drive/google-drive.module.js","./unsorted/urlencode.filter":"/home/node/app/assets/js/unsorted/urlencode.filter.js","./unsorted/youtube.filter":"/home/node/app/assets/js/unsorted/youtube.filter.js","./vendor":"/home/node/app/assets/js/vendor.js","@flowjs/ng-flow/dist/ng-flow-standalone":false,"angular-animate":false,"angular-froala":false,"angular-material":false,"angular-messages":false,"angular-moment":false,"angular-moment-picker":false,"angular-progress-button-styles/dist/angular-progress-button-styles":false,"angular-route":false,"angular-sanitize":false,"angular-spinner":false,"angular-ui-bootstrap":false,"angular-ui-keypress":false,"angular-ui-router":false,"angular-ui-switch":false,"angular-ui-tree":false,"angular-ui-validate":false,"angularjs-dropdown-multiselect":false,"angularjs-slider":false,"angulartics":false,"angulartics-google-analytics":false,"core-js/stable":false,"md-color-picker/dist/mdColorPicker":false,"moment-timezone":false,"ng-infinite-scroll":false,"regenerator-runtime/runtime":"/home/node/app/node_modules/regenerator-runtime/runtime.js","s3upload-coffee-javascript":false}],"/home/node/app/assets/js/assesments/assesments.module.js":[function(require,module,exports){
"use strict";var _angularMaterial=_interopRequireDefault(require("angular-material")),_assesments=require("./assesments/assesments.controller"),_studentsList=require("./students-list/students-list.component"),_studentDetails=require("./student-details/student-details.component"),_assessments=require("./services/assessments.service");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}angular.module("wizer.assesments",[_angularMaterial.default,"wizer.api","wizer.common"]).controller(_assesments.ASSESSMENTS_CONTROLLER,_assesments.AssesmentsController).component(_studentDetails.STUDENT_DETAILS_COMPONENT,_studentDetails.StudentDetailsComponent).component(_studentsList.STUDENTS_LIST_COMPONENT,_studentsList.StudentsListComponent).service(_assessments.ASSESSMENT_SERVICE_NAME,_assessments.AssessmentsService);

},{"./assesments/assesments.controller":"/home/node/app/assets/js/assesments/assesments/assesments.controller.js","./services/assessments.service":"/home/node/app/assets/js/assesments/services/assessments.service.js","./student-details/student-details.component":"/home/node/app/assets/js/assesments/student-details/student-details.component.js","./students-list/students-list.component":"/home/node/app/assets/js/assesments/students-list/students-list.component.js","angular-material":false}],"/home/node/app/assets/js/assesments/assesments/assesments.controller.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AssesmentsController=exports.ASSESSMENTS_CONTROLLER=void 0;var _assessments=require("../assessments.helper"),_premiumOptions=_interopRequireDefault(require("./premium-options")),_user=_interopRequireDefault(require("../../common/helpers/user.helper"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?ownKeys(Object(t),!0).forEach(function(s){_defineProperty(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function _defineProperty(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var t=0;t<s.length;t++){var o=s[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,s,t){return s&&_defineProperties(e.prototype,s),t&&_defineProperties(e,t),e}var ASSESSMENTS_CONTROLLER="AssesmentsController";exports.ASSESSMENTS_CONTROLLER=ASSESSMENTS_CONTROLLER;var AssesmentsController=function(){function e(s,t,o,i,n,r,a,l,c,u,d,p,h,m,g,f,w,v,k,S,$,y,b,A,D){_classCallCheck(this,e),this.$scope=n,this.$rootScope=r,this.$q=i;var T=this.$scope;this.$analytics=s,this.$assessmentSvc=t,this.$attrs=o,this.$timeout=a,this.$mdDialog=l,this.$window=u,this.$widgetText=c,this.$widgetScoring=d,this.AssessmentsService=h,this.Colors=m,this.colorTheme=g,this.Covers=f,this.Classroom=w,this.WidgetsService=S,this.Users=y,this.UserFeature=b,this.UserSvc=A,T.$rootScope=this.$rootScope,T.alert={},T.showPremium=!1,T.$mdDialog=l,T.$mdToast=p,T.$window=u,T.$widgetText=c,T.AssessmentsService=h,T.premiumOptionsBase=_premiumOptions.default,T.premiumOptions=JSON.parse(JSON.stringify(n.premiumOptionsBase)),T.newPremiumDlg=k,T.originalWorksheet={},T.$assessmentSvc=t,T.$analytics=s,T.$widgetScoring=d,T.premiumDlg=v,T.WidgetsService=S,T.solutionsWithScore={},T.WS_STATE_CONST=$,T.wstoken=this.$attrs.wstoken,T.worksheetAssignModal=D,T.saveText="Save",T.selectedPubIndex=0,T.loading=!0,T.selectedUsersolution=null,T.sltoken=this.$attrs.sltoken?void 0:this.$attrs.sltoken,T.onPublicationSelected=this.onPublicationSelected,T.loadSolutions=this.loadSolutions,T.onSolutionsLoaded=this.onSolutionsLoaded,T.setSelectedUserSolution=this.setSelectedUserSolution,T.bindAssessment=this.bindAssessment,T.selectSolution=this.selectSolution,T.parsePremiumOptions=this.parsePremiumOptions,T.callItIn=this.callItIn,T.openExportDataDialog=this.openExportDataDialog,T.getFirstName=this.getFirstName,T.cantOpenSolution=this.cantOpenSolution,T.exportStudentData=this.exportStudentData,T.exportStudentDataInit=this.exportStudentDataInit,T.showInAssessment=this.showInAssessment,T.getWidgetAssessment=this.getWidgetAssessment,T.getWidgetSolution=this.getWidgetSolution,T.openRecordGeneralFeedbackAudioDialog=this.openRecordGeneralFeedbackAudioDialog,T.openRecordGeneralFeedbackVideoDialog=this.openRecordGeneralFeedbackVideoDialog,T.showAudioButton=this.showAudioButton,T.showVideoButton=this.showVideoButton,T.save=this.save,T.publishAssessment=this.publishAssessment,T.compileAssessment=this.compileAssessment,T.publishWorksheet=this.publishWorksheet,T.showErrorMessage=this.showErrorMessage,this.init()}return e.$inject=["$analytics","$assessmentSvc","$attrs","$q","$scope","$rootScope","$timeout","$mdDialog","$widgetText","$window","$widgetScoring","$mdToast","AssessmentsService","Colors","colorTheme","Covers","Classroom","premiumDlg","newPremiumDlg","WidgetsService","WS_STATE_CONST","Users","UserFeature","UserSvc","worksheetAssignModal"],_createClass(e,[{key:"init",value:function(){var e=this,s=this,t=this.$scope;if(this.$analytics.eventTrack("start-assess",{category:"assess",label:"Open Assessment"}),t.ws_state=t.WS_STATE_CONST.ASSESS,!t.wstoken)return this.$analytics.eventTrack("no-token-assess",{category:"assess",label:"Missing token in assessment page"}),t.showNoResponses=!0,void(t.isStateTransitioning=!1);this.AssessmentsService.fetchAllSolutions(t.wstoken).then(function(o){t.allSolutions=o,e.$assessmentSvc.publications(t.wstoken,function(o){e.$analytics.eventTrack("loaded-solution-assess",{category:"assess",label:"Loaded worksheet solutions solution"}),s.$q.all([e.UserSvc.settings(),e.Users.profileAsync(),e.WidgetsService.get(),e.Classroom.loadClassList(function(e){return s.$scope.courses=e.data.classes},function(){}),e.colorsCall(),e.coversCall(),e.featuresCall()]).then(function(e){t.usettings=e[0],t.user=e[1],t.widgets=e[2],t.isPremium=_user.default.isPremium(t.usettings),s.setupWorksheet(o)},s.loadFailed)})}),this.setupForm()}},{key:"setupForm",value:function(){var e=this,s=this;this.$scope.$watch("wsform.$dirty",function(){s.enableSaveAssessment()}),this.$scope.$on("formdirty",function(){var t=e.$scope;t.selectedUsersolution&&t.solutionsWithScore[t.selectedUserId]&&(t.solutionsWithScore[t.selectedUserId].score=_assessments.AssessmentsHelper.calculateScore(t.selectedUsersolution,t.worksheet.widgets,t.$widgetScoring).score),s.enableSaveAssessment(!0)}),this.$scope.$watch("selectedUsersolution.assessment.feedback",function(e,t){t&&s.enableSaveAssessment()}),this.$scope.$on("audio-added",function(){s.$scope.wsform.$setDirty()}),this.$scope.$on("video-added",function(){s.$scope.wsform.$setDirty()}),this.$scope.$on("export-student-data",function(s,t){return e.exportStudentDataInit(s,t)})}},{key:"enableSaveAssessment",value:function(e){var s=this.$scope;(e||s.wsform.$dirty)&&s.selectedUsersolution&&(s.feedbackDirty=!0,s.saveDirty=!0)}},{key:"publishWorksheet",value:function(){var e=this;e.$analytics.eventTrack("assign-open-from-emptyws",{category:"assess",label:"Click Assign from an empty WS state"}),e.worksheetAssignModal.open(e.wstoken,e.worksheet,e.courses,e.usettings,e.user.type).then(function(){e.$window.location.reload()})}},{key:"save",value:function(){var e,s=this;if(s.$analytics.eventTrack("save-assess",{category:"assess",label:"Save student assessment"}),s.selectedUsersolution){s.saveDirty=!1;var t=s.selectedUsersolution,o=s.compileAssessment(t);t&&o&&s.$assessmentSvc.save(o,function(e){s.wsform.$setPristine(),s.saveDirty=!1,s.$window.localStorage.removeItem("assess-"+s.worksheet.token)},function(){s.showErrorMessage(),(e=JSON.parse(s.$window.localStorage.getItem("assess-"+s.worksheet.token)))||(e={timestamp:(new Date).getTime(),worksheet:s.worksheet}),e.saveFailed=!0,s.$window.localStorage.setItem("assess-"+s.worksheet.token,JSON.stringify(e))})}}},{key:"showErrorMessage",value:function(){var e={bottom:!1,top:!0,left:!1,right:!0};this.$mdToast.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Failed to save. Try again in a few minutes or check your ',"internet connection.</span>","</div>","</md-toast >"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:Object.keys(e).filter(function(s){return e[s]}).join(" ")})}},{key:"publishAssessment",value:function(){var e=this;if(e.$analytics.eventTrack("send-assess-click",{category:"assess",label:"Click to send assessments to students"}),e.selectedUsersolution){delete e.feedbackDirty,delete e.saveDirty;var s=e.selectedUsersolution,t=e.compileAssessment(s);s&&t&&e.$assessmentSvc.publishAssessment(t,function(s){if(e.saveText="Saved",e.wsform.$setPristine(),s){var t={bottom:!0,top:!1,left:!1,right:!0};e.$mdToast.show({template:'<md-toast class="send-feedback-popup"><span flex>Your feedback is now visible by student!</span></md-toast>',hideDelay:3e3,position:Object.keys(t).filter(function(e){return t[e]}).join(" ")})}},function(s){e.$analytics.eventTrack("fails-send-assess",{category:"assess",label:"Error when click to send assessments"}),console.log("fail to send assessments.",s)})}}},{key:"compileAssessment",value:function(e){if(e){var s=this.$assessmentSvc.compileAssessment(this.worksheet,e,e.assessment);return e.assessment.widgets=s.widgets,s}}},{key:"parsePremiumOptions",value:function(e){var s=this.$scope||this,t=_assessments.AssessmentsHelper.getDisplayName(e);t=t?"".concat(t,"'s"):"";var o=JSON.parse(JSON.stringify(s.premiumOptionsBase)).sections[0],i=o.header.replace("[STUDENT_NAME]",t||"").trim();o.header="".concat(i[0].toUpperCase()).concat(i.substring(1)),s.premiumOptions.sections[0]=o}},{key:"callItIn",value:function(){var e=this.$scope||this;if(!_user.default.isPremium(e.usettings))return e.showPremium?void e.premiumDlg.showPremiumModal(e.premiumOptionsBase.sections[1].options[3].modalData):void(e.showPremium=!0);var s={bottom:!0,top:!1,left:!1,right:!0},t={template:'<md-toast class="send-feedback-popup"><span flex>There was an error why trying to call in the solution</span></md-toast>',hideDelay:3e3,position:Object.keys(s).filter(function(e){return s[e]}).join(" ")};if(e.solutionsWithScore[e.selectedUserId]){var o=e.$mdDialog.confirm().title("Call it in").textContent("Note: Worksheet will be submitted for assessment and locked for student edits.").clickOutsideToClose(!0).ok("Continue").cancel("Cancel");e.$mdDialog.show(o).then(function(){e.loading=!0,e.AssessmentsService.callInSolution(e.selectedUsersolution.token).then(function(s){e.solutionsWithScore[e.selectedUserId].solution=_objectSpread(_objectSpread({},e.solutionsWithScore[e.selectedUserId].solution),s[0])}).catch(function(){e.$mdToast.show(t)}).finally(function(){return e.loading=!1})})}else e.$mdToast.show(t)}},{key:"colorsCall",value:function(){this.$scope.colors={};var e=this,s=this.$q.defer();return this.Colors.list(function(t){t.data.colors.forEach(function(s){return e.$scope.colors[s.name]=s}),s.resolve()},function(){return s.reject()}),s}},{key:"coversCall",value:function(){this.$scope.covers={};var e=this,s=this.$q.defer();return this.Covers.list(function(t){t.data.covers.forEach(function(s){return e.$scope.covers[s.name]=s}),s.resolve()},function(){return s.reject()}),s}},{key:"featuresCall",value:function(){this.$scope.userFeature={};var e=this,s=this.$q.defer();return this.UserFeature.getFeature(function(t){e.$scope.userFeature=t.data,s.resolve()},function(){e.$scope.userFeature=null,s.reject()}),s}},{key:"getFirstName",value:function(){var e=this.selectedUsersolution;return e&&e.user?_assessments.AssessmentsHelper.getFirstName(e):"Anonymous"}},{key:"loadFailed",value:function(){this.$scope.worksheetId=null,this.$scope.showNoResponses=!0,this.$scope.isStateTransitioning=!1}},{key:"setupWorksheet",value:function(e){var s=this.$scope;if(this.$scope.showNoResponses=!1,!e||!e.worksheet)return this.$scope.showNoResponses=!0,void(this.$scope.isStateTransitioning=!1);var t=e.worksheet;if(s.worksheet=e.worksheet,s.worksheetId=e.worksheet.id,this.WidgetsService.iterate(t.widgets,function(e){e.rtdata=angular.copy(e.data)}),s.selectedPublicationToken="all",s.originalWorksheet=angular.copy(s.worksheet),this.onPublicationSelected(s.selectedPublicationToken),t.publications&&t.publications.length){if(t.publications.forEach(function(e){t.isPublic="public"===e.type&&t.isPublic}),this.$timeout(function(){$.waypoints("refresh"),s.$broadcast("worksheet-ready")}),!s.worksheet.style.color||!s.worksheet.style.color.name||!s.colors[s.worksheet.style.color.name]){var o=s.colors["Wizer-yellow"];o&&(s.worksheet.style.color={name:o.name,className:o.className,preview:o.preview},this.colorTheme.applyColors(s.colors[s.worksheet.style.color.name]))}this.watchWorksheet()}else s.parsePremiumOptions({}),this.$scope.showNoResponses=!0,this.$scope.loading=!1,this.$scope.isStateTransitioning=!1}},{key:"loadSolutions",value:function(e,s){var t=this.$scope||this;t.isStateTransitioning=!0,s?t.reloadingSolutions=!0:(t.solutions=[],t.loadingSolutions=!0),"all"!==e?t.$assessmentSvc.pubSolutions(t.wstoken,e,function(e){return t.onSolutionsLoaded(e,s)},function(e){console.log("Failed to load solution",e),t.loading=!1,s?delete t.loadingSolutions:t.reloadingSolutions,t.showErrorMessage()}):t.onSolutionsLoaded(t.allSolutions,s)}},{key:"onSolutionsLoaded",value:function(e,s){var t,o=this.$scope||this,i=e.solutions;if(s?delete o.loadingSolutions:delete o.reloadingSolutions,!i||!i.length)return o.solutions=i,o.solutionsWithScore=null,o.selectedUsersolution=null,o.saveDirty=!1,o.feedbackDirty=!1,o.loading=!1,void o.parsePremiumOptions({});(i=i.filter(function(e){return"superuser"!==e.user.type}).map(function(e){return e.assessment=Object.assign({status:"draft",widgets:{}},e.assessment),e})).forEach(function(e,s){(o.selectedSolutionId||"draft"===e.status||t)&&(e.id!==o.selectedSolutionId||t)||(t=s)}),void 0===t&&(t=0),o.solutions=i,null!=t&&(s?o.setSelectedUserSolution(angular.extend(i[t],o.selectedUsersolution)):o.setSelectedUserSolution(i[t])),o.solutionsWithScore=_assessments.AssessmentsHelper.calculateScores(o.solutions,o.worksheet.widgets,this.$widgetScoring),o.loading=!1}},{key:"onPublicationSelected",value:function(e){var s,t=this.$scope||this;if(t.loading=!0,t.saveDirty=!1,t.feedbackDirty=!1,t.wsform.$setPristine(),t.selectedPublicationToken=e,"all"===e)s=_objectSpread({},t.allSolutions),t.parsePremiumOptions({});else if(t.worksheet.publications.forEach(function(o,i){o.token===e&&(s=o,t.selectedPubIndex=i)}),!s)return void(t.loading=!1);t.worksheet.selectedPublicationName=s.name?s.name:s.token,delete t.selectedSolutionId,t.loadSolutions(e)}},{key:"openExportDataDialog",value:function(e){var s=this.$scope||this,t=s.selectedUsersolution,o=t.name?t.name:t.token,i="".concat(s.worksheet.name,"-").concat(o),n=s.worksheet,r=angular.element(document.body);_user.default.isPremium(s.usettings)?s.$mdDialog.show({parent:r,targetEvent:e,templateUrl:"/templates/download-csv-dialog.html",locals:{displayName:i,worksheet:n},controller:DialogController}):s.newPremiumDlg.showDialog(s.user,null,"<b>Download Grades Report</b><br/>Join the Wizer Boost plan to easily export all students grades")}},{key:"cantOpenSolution",value:function(e){var s=this.$scope||this,t=_assessments.AssessmentsHelper.mapFeedbackStatus(e),o=_user.default.isPremium(s.usettings);return!t||"working"===t&&!o}},{key:"selectSolution",value:function(e){var s=this.$scope||this;s.loading=!0,s.$analytics.eventTrack("assess-solution-click",{category:"assess",label:"Click on student solution"}),s.wsform.$setPristine(),s.saveDirty=!1,s.feedbackDirty=!1,s.showPremium=!1,s.selectedUsersolution!==e.solution?(s.wsform.$dirty&&s.save(),s.setSelectedUserSolution(e.solution)):s.loading=!1}},{key:"setSelectedUserSolution",value:function(e){var s=this.$scope||this;e.assessment?e.assessment.status||(e.assessment.status="draft"):e.assessment={solutionId:e.id,worksheetId:e.worksheetId,widgets:e.assessment.widgets||{},status:"draft"},s.selectedUsersolution=e,s.selectedSolutionId=e.id,s.selectedUserId=e&&e.user?e.user.id:null;var t=[];if(s.selectedUsersolution){var o=s.selectedUsersolution;o&&(_.isNumber(o.diGroupsArr)?t.push(o.diGroupsArr):_.isArray(o.diGroupsArr)&&(t=o.diGroupsArr))}delete s.worksheet,s.worksheet=angular.copy(s.originalWorksheet),s.worksheet.widgets=s.WidgetsService.filterDifferentiatedWidgets(s.worksheet.widgets,t,!0),s.parsePremiumOptions(s.selectedUsersolution),s.bindAssessment(s.worksheet.widgets,e,e.assessment),s.cantOpenSolution(e)&&(s.showPremium=!0,s.loading=!1),s.isStateTransitioning=!1,s.loading=!1}},{key:"bindAssessment",value:function(e,s,t){var o=this;t.widgets||(t.widgets={}),o.WidgetsService.iterate(e,function(e){t.widgets[e.seqid]||(t.widgets[e.seqid]={});var i=t.widgets[e.seqid],n=s.solutions[e.seqid];if(n){var r=o.$widgetScoring.calcAssessment(e,n,i);r&&(t.widgets[e.seqid]=r)}})}},{key:"watchWorksheet",value:function(){var e,s,t=this,o=this.$scope;this.$window.localStorage.getItem("assess-".concat(o.worksheet.token))&&(e=JSON.parse(this.$window.localStorage.getItem("assess-".concat(o.worksheet.token))),o.worksheet.updatedAt?s=new Date(o.worksheet.updatedAt).getTime():o.worksheet.createdAt&&(s=new Date(o.worksheet.createdAt).getTime()),e.timestamp>s?(this.$analytics.eventTrack("show-unsaved-assess",{category:"assess",label:"Show unsaved changes"}),o.alert.showBackupMessage=!0,o.worksheetServerCopy=JSON.stringify(o.worksheet),o.worksheet=e.worksheet,o.originalWorksheet=void 0,o.originalWorksheet=angular.copy(o.worksheet),o.onPublicationSelected(o.worksheet.publications[o.selectedPubIndex].token)):this.$window.localStorage.removeItem("assess-"+o.worksheet.token)),o.$watch(function(){return t.$scope.worksheet},function(e,s){e&&e!==s&&JSON.stringify(e)!==JSON.stringify(s)&&o.wsform.$dirty&&o.$window.localStorage.setItem("assess-"+o.worksheet.token,JSON.stringify({timestamp:(new Date).getTime(),worksheet:o.worksheet}))},!0)}},{key:"getWidgetAssessment",value:function(e){var s=(this.$scope||this.$parent.$parent.$parent).selectedUsersolution;if(s){var t=s.assessment;return angular.isArray(e)?t:(t.widgets||(t.widgets={}),t&&e.seqid in t.widgets||(t.widgets[e.seqid]={}),t.widgets[e.seqid])}}},{key:"getWidgetSolution",value:function(e){var s=this.$scope||this.$parent.$parent.$parent;if(s.selectedUsersolution&&s.selectedUsersolution.solutions)return angular.isArray(e)?s.selectedUsersolution.solutions:s.selectedUsersolution.solutions[e.seqid]}},{key:"showInAssessment",value:function(e){var s=this.$scope||this;if(!s.widgets||0===s.widgets.length)return!1;if(angular.isArray(e))return!0;var t=s.widgets.filter(function(e){return e.name==e.name});return!!t.length&&t[0].showInAssessment}},{key:"openRecordGeneralFeedbackAudioDialog",value:function(e){var s=this.$scope||this,t=angular.element(document.body);s.selectedUsersolution.assessment||(s.selectedUsersolution.assessment={}),s.selectedUsersolution.assessment.feedbackAudio||(s.selectedUsersolution.assessment.feedbackAudio={}),s.$analytics.eventTrack("open-general-feedback-audio-record-dialog",{category:"general-feedback-audio-record",label:"Open general feedback audio record dialog"}),s.$mdDialog.show({parent:t,targetEvent:e,templateUrl:"/templates/audio-record-dialog.html",locals:{audioData:s.selectedUsersolution.assessment.feedbackAudio,audioName:"audio"},controller:["$scope","audioData","audioName",function(e,s,t){e.audioData=s,e.audioName=t}]})}},{key:"openRecordGeneralFeedbackVideoDialog",value:function(e){var s=this.$scope||this;if(!s.usettings||!s.usettings.PERSONALIZATION){return $mdDialog.show({template:'<upgrade-account-dialog upgrade-msg="'.concat("Upgrade now to unlock <b>Video Feedback</b><br/> as well as <b>Video Answers</b> for your learners!",'"></upgrade-account-dialog>'),hasBackdrop:!1,clickOutsideToClose:!0})}s.selectedUsersolution.assessment||(s.selectedUsersolution.assessment={}),s.selectedUsersolution.assessment.feedbackVideo||(s.selectedUsersolution.assessment.feedbackVideo={video:{}}),s.$analytics.eventTrack("open-general-feedback-video-record-dialog",{category:"general-feedback-video-record",label:"Open general feedback video record dialog"}),s.$mdDialog.show({targetEvent:e,template:'<md-dialog class="video-recorder-dialog"  aria-label="Dialog for Video recording">     <video-recorder-dialog uploaded-url="selectedUsersolution.assessment.feedbackVideo.url" is-dialog="true"></video-recorder-dialog></md-dialog>'}).then(function(e){e&&e.length&&(s.selectedUsersolution.assessment.feedbackVideo.video.url=e,s.$rootScope.$broadcast("video-added"),s.$emit("formdirty"))})}},{key:"showAudioButton",value:function(){var e=(this.$scope||this).selectedUsersolution;if(e)return e.assessment&&e.assessment.feedbackAudio&&e.assessment.feedbackAudio.audio&&e.assessment.feedbackAudio.audio.url}},{key:"showVideoButton",value:function(){var e=(this.$scope||this).selectedUsersolution;if(e)return e.assessment&&e.assessment.feedbackVideo&&e.assessment.feedbackVideo.video.url}},{key:"exportStudentDataInit",value:function(e,s){var t=this.$scope||this;"summary"===s.option?(t.$analytics.eventTrack("export-student-report-summary",{category:"assess",label:"Export student report summary"}),t.exportStudentData(s)):"full"===s.option&&(t.$analytics.eventTrack("export-student-report-full",{category:"assess",label:"Export student report full"}),t.exportStudentData(s))}},{key:"exportStudentData",value:function(e){var s=this.$scope||this;if(!s.exporting){s.exporting=!0;var t=s.worksheet.publications[s.selectedPubIndex],o={fileName:"export_"+s.worksheet.token+"_"+(t.name?t.name:t.token)+"_"+e.option,data:[],questions:[],type:e.option,email:e.email};s.WidgetsService.iterate(s.worksheet.widgets,function(t){if("question"===t.type){if("full"===e.option){var i=function(e){return s.$widgetText.getQuestionText(e)}(t);o.questions.push({questionText:i,questionType:t.name})}}else o.questions.push({questionType:t.name})}),angular.forEach(s.solutions,function(t,i){var n={},r=0;n.firstname=t.user.firstname||"",n.lastname=t.user.lastname||"",t.user.firstname?n.email="":n.email=t.user.username,n.answers=[],s.WidgetsService.iterate(s.worksheet.widgets,function(o){if("question"===o.type){if(!(o.seqid in t.solutions)){var i={score:0};return"full"===e.option&&(i.answerText=""),void n.answers.push(i)}var a={},l=t.assessment.widgets[o.seqid],c=t.solutions[o.seqid],u=s.$widgetScoring.calcAssessment(o,c,l),d=0;u&&void 0!==o.point&&!isNaN(o.point)?(u.score.value*=o.point,d=u.score.value):l&&_.isNumber(o.point)&&o.point&&l.partialscore?d=parseFloat(l.partialscore):l&&_.isNumber(l.score)&&(d=l.score),r+=d,a.score=parseFloat(parseFloat(d).toFixed(2)),"full"===e.option&&(a.answerText=function(e,t){return s.$widgetText.getAnswerText(e,t)}(c,o)),n.answers.push(a)}}),n.totalScore=parseFloat(parseFloat(r).toFixed(2)),o.data.push(n)}),s.$assessmentSvc.exportAssessment(o,function(o){delete s.exporting,s.$parent.$broadcast("export-csv-done");var i="data:text/csv;charset=utf-8,\ufeff",n=encodeURI(i+=o),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("type","hidden"),r.setAttribute("href",n),r.setAttribute("download","export_".concat(s.worksheet.token,"_").concat(t.name?t.name:t.token,"_").concat(e.option,".csv")),r.click(),document.body.removeChild(r)},function(e){delete s.exporting,s.$parent.$broadcast("export-csv-done")})}}}]),e}();exports.AssesmentsController=AssesmentsController;var DialogController=function(){function e(s,t,o){_classCallCheck(this,e),this.$scope=s,this.$scope.$mdDialog=t,this.$scope.displayName=o,this.$scope.closeDialog=this.closeDialog,this.$scope.downloadReport=this.downloadReport,this.$scope.$on("export-csv-done",function(e,t){delete s.exporting,e.currentScope.closeDialog()})}return e.$inject=["$scope","$mdDialog","displayName"],_createClass(e,[{key:"closeDialog",value:function(){this.$mdDialog.hide()}},{key:"downloadReport",value:function(){var e=this.$scope||this;if(!e.exporting)if(e.select.option){if(e.select.spreadsheet){if(!e.select.email)return void(e.noEmail=!0);if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.select.email))return void(e.invalidEmail=!0)}e.$parent.$broadcast("export-student-data",e.select),e.exporting=!0}else e.noOption=!0}},{key:"onOptionSelected",value:function(){delete this.$scope.noOption}},{key:"onEmailAdded",value:function(){delete this.$scope.noEmail,delete this.$scope.invalidEmail}}]),e}();

},{"../../common/helpers/user.helper":"/home/node/app/assets/js/common/helpers/user.helper.js","../assessments.helper":"/home/node/app/assets/js/assesments/assessments.helper.js","./premium-options":"/home/node/app/assets/js/assesments/assesments/premium-options.js"}],"/home/node/app/assets/js/assesments/assesments/premium-options.js":[function(require,module,exports){
"use strict";function ownKeys(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(o),!0).forEach(function(t){_defineProperty(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var whoops={title:"Whoops",text:"\n        <p>Only customers on the <span>Boost plan</span> can use this feature</p>\n    "},premiumOptions={title:"Better feedback in less time",sections:[{header:"[STUDENT_NAME] answers will appear here when:",options:[{label:"They hand in their assignments"},{label:"<b>NEW!</b> While they are working on the assignment",premium:!0,modalData:{title:"Time to upgrade?",text:"\n                            <p>Viewing students’ answers while they are working is available on Wizer Boost plan.</p>\n                            <p><span>Upgrade to Wizer Boost</span> to unblock all premium features.</p>"}}]},{header:"For each student you will be able to:",options:[{label:"Save time with automatic checking"},{label:"Add text or <b>audio feedback</b> for a personal touch"},{label:"Unlock a worksheet to update their answers after submission"},{label:"<b>NEW!</b> Submit the worksheet on behalf of the student",premium:!0,modalData:{title:"Time to upgrade?",text:"\n                         <p>Submitting students’ work is available on Wizer Boost plan. Upgrade to Wizer Boost for just $3/month to unlock all premium features.</p>\n                          <p><span>Upgrade to Wizer Boost</span> to unblock all premium features.</p> \n                        "}},{label:"Let them retake the worksheet",premium:!0,modalData:_objectSpread({},whoops)}]},{header:"Your feedback and grades will be available:",options:[{label:"Download to your computer"},{label:"For students on the same worksheet link after it's submitted."},{label:"Send automatically to Google Classroom",premium:!0,modalData:_objectSpread({},whoops)},{label:"On the Learner profile",premium:!0,modalData:_objectSpread({},whoops)}]}]},_default=premiumOptions;exports.default=_default;

},{}],"/home/node/app/assets/js/assesments/assessments.helper.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AssessmentsHelper=void 0;var _moment=_interopRequireDefault(require("moment"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var calculateScore=function(e,t,s){var r=0,a=[];t.forEach(function(t,n){var u=t,i=Array.isArray(t);i?_.filter(t,function(e){return"question"===e.type}.length)&&r++:u&&"question"===u.type&&(r+=u.point&&!isNaN(u.point)?u.point:1,u=[t]);var o=0;_.forEach(u,function(t){if("question"===t.type&&(t.seqid in e.solutions||e.assessment&&t.seqid in e.assessment.widgets)){var r=e.assessment.widgets?e.assessment.widgets[t.seqid]:void 0,a=e.solutions[t.seqid],n=s.calcAssessment(t,a,r),u=0,c=i&&t.point?1:t.point;n&&c&&!isNaN(c)?(n.score.value*=c,u=n.score.value):r&&_.isNumber(c)&&c&&r.partialscore?u=parseFloat(r.partialscore):r&&_.isNumber(r.score)&&(u=_.isNumber(c)&&c?Math.min(c,r.score*c):r.score),o+=u}}),i&&(o=Math.min(o,1)),a.push(o)});var n=_.sum(a),u=parseFloat(n.toFixed(2));return{score:"".concat(u,"/").concat(r),solution:e,userId:e.userId}},calculateScores=function(e,t,s){var r=e.map(function(e){return calculateScore(e,t,s)});return _.keyBy(r,"userId")},getDisplayName=function(e){return e&&e.user?e.user.firstname||e.user.lastname?"".concat(e.user.firstname," ").concat(e.user.lastname):e.user.username:""},getFirstName=function(e){return e?e.user.firstname?e.user.firstname:e.user.username?e.user.username:"Anonymous":"Anonymous"},mapFeedbackStatus=function(e){return e?"submit"===e.status?"send"===e.assessment.status?"feedback sent":"submitted":"working":""},lastSeenDuration=function(e,t){var s=void 0===t?1:-1,r=(0,_moment.default)(),a=(0,_moment.default)(e.updatedAt);return _moment.default.duration(s*r.diff(a))},lastSeenDurationString=function(e,t){return lastSeenDuration(e,t).humanize(!0)},AssessmentsHelper={calculateScore:calculateScore,calculateScores:calculateScores,getDisplayName:getDisplayName,getFirstName:getFirstName,mapFeedbackStatus:mapFeedbackStatus,lastSeenDuration:lastSeenDuration,lastSeenDurationString:lastSeenDurationString};exports.AssessmentsHelper=AssessmentsHelper;

},{"moment":false}],"/home/node/app/assets/js/assesments/services/assessments.service.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AssessmentsService=exports.ASSESSMENT_SERVICE_NAME=void 0;var ASSESSMENT_SERVICE_NAME="AssessmentsService";exports.ASSESSMENT_SERVICE_NAME=ASSESSMENT_SERVICE_NAME;var AssessmentsService=function(){function e(t,s){_classCallCheck(this,e),this.API=t,this.$http=s}return e.$inject=["API","$http"],_createClass(e,[{key:"callInSolution",value:function(e){return this.$http({method:"POST",url:"".concat(this.API.root,"/assess/call-in/").concat(e),data:{}}).then(function(e){return e.data})}},{key:"fetchAllSolutions",value:function(e){return this.$http({method:"GET",url:"".concat(this.API.root,"/assess/pubsolutions/").concat(e)}).then(function(e){return e.data})}}]),e}();exports.AssessmentsService=AssessmentsService;

},{}],"/home/node/app/assets/js/assesments/student-details/student-details.component.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StudentDetailsComponent=exports.STUDENT_DETAILS_COMPONENT=void 0;var _moment=_interopRequireDefault(require("moment")),_assessments=require("../assessments.helper");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var STUDENT_DETAILS_COMPONENT="studentDetails";exports.STUDENT_DETAILS_COMPONENT=STUDENT_DETAILS_COMPONENT;var StudentDetailsController=function(){function e(t,s,n,o){_classCallCheck(this,e),this.$scope=t,this.$element=s,this.$assessmentSvc=n,this.newPremiumDlg=o,this.$element.addClass("student-details")}return e.$inject=["$scope","$element","$assessmentSvc","newPremiumDlg"],_createClass(e,[{key:"callItIn",value:function(){this.onCallItIn({})}},{key:"callInDisabled",value:function(){return!this.solutionWithScore||!this.solutionWithScore.solution||"working"!==_assessments.AssessmentsHelper.mapFeedbackStatus(this.solutionWithScore.solution)}},{key:"feedbackDisabled",value:function(){return!this.saveDirty||!this.solutionWithScore||!this.solutionWithScore.solution||"working"===_assessments.AssessmentsHelper.mapFeedbackStatus(this.solutionWithScore.solution)}},{key:"getScore",value:function(){if(this.solutionWithScore)return"draft"===this.solutionWithScore.solution.status?"-":this.solutionWithScore.score}},{key:"getFirstName",value:function(){return this.solutionWithScore?_assessments.AssessmentsHelper.getFirstName(this.solutionWithScore.solution):"Anonymous"}},{key:"getDisplayName",value:function(){if(this.solutionWithScore)return _assessments.AssessmentsHelper.getDisplayName(this.solutionWithScore.solution)}},{key:"getProgressStatus",value:function(){return this.solutionWithScore?_assessments.AssessmentsHelper.mapFeedbackStatus(this.solutionWithScore.solution):"-"}},{key:"isWorking",value:function(){return"working"===this.getProgressStatus()}},{key:"getTimeSpend",value:function(){if(this.solutionWithScore){var e=this.solutionWithScore.solution.timespent?this.solutionWithScore.solution.timespent:0;return _moment.default.duration(e).humanize()}}},{key:"getLastSeen",value:function(){if(this.solutionWithScore)return _assessments.AssessmentsHelper.lastSeenDurationString(this.solutionWithScore.solution,!0)}},{key:"lockStatusChange",value:function(){if(this.solutionWithScore){var e=this.solutionWithScore.solution;this.$assessmentSvc.saveSolutionStatus(e.token,e.status).then(function(e){},function(e){console.warn("Fail setting status",error)})}}},{key:"save",value:function(){this.onSave()}},{key:"sendFeedback",value:function(){this.onSendFeedback()}},{key:"printAssessment",value:function(){if(this.solutionWithScore){var e=this.solutionWithScore.solution.publicationToken,t=this.solutionWithScore.solution.token;e&&t&&window.open("/print/".concat(e,"/").concat(t),"_blank")}}},{key:"showPremiumInfo",value:function(){this.newPremiumDlg.showDialog(this.user,null,"Join the Wizer Boost plan to let students <b>retake the worksheet</b>")}},{key:"showStudentAccess",value:function(){if(this.solutionWithScore){var e=this.solutionWithScore.solution;return!e.googleStudentSubmissionId||e.googleStudentSubmissionId&&"submit"===e.status}}}]),e}(),StudentDetailsComponent={templateUrl:"/js/assesments/student-details/student-details.component.html",controllerAs:"$ctrl",bindings:{solutionWithScore:"<",feedbackDirty:"<",saveDirty:"<",isPremium:"<",user:"<",onCallItIn:"&",onSave:"&",onSendFeedback:"&"},controller:StudentDetailsController};exports.StudentDetailsComponent=StudentDetailsComponent;

},{"../assessments.helper":"/home/node/app/assets/js/assesments/assessments.helper.js","moment":false}],"/home/node/app/assets/js/assesments/students-list/students-list.component.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StudentsListComponent=exports.STUDENTS_LIST_COMPONENT=void 0;var _assessments=require("../assessments.helper");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var STUDENTS_LIST_COMPONENT="studentsList";exports.STUDENTS_LIST_COMPONENT=STUDENTS_LIST_COMPONENT;var StudentsListController=function(){function e(t,s,n){var o=this;_classCallCheck(this,e),this.$scope=t,this.$element=s,this.$element.addClass("students-list"),this.$mdDialog=n,this.lastSeen={},this.feedbackStatus={},this.studentsCount=0,this.solutions={},this.searchTxt="",this.sortProperties=[{label:"First name",value:"firstname"},{label:"Last name",value:"lastname"},{label:"Score",value:"score"}],this.sortProperty=this.sortProperties[0],this.$scope.$watch(function(){return o.solutionsWithScore},function(e){o.lastSeen={},o.feedbackStatus={},o.studentsCount=0,o.solutions=[],e&&(Object.keys(e).forEach(function(t){o.lastSeen[t]=o.getLastSeenCls(e[t].solution),o.feedbackStatus[t]=o.getFeedbackStatus(e[t].solution),o.studentsCount++}),o.solutions=Object.values(e),o.sortChange(o.sortProperty))})}return e.$inject=["$scope","$element","$mdDialog"],_createClass(e,[{key:"openMenu",value:function(e,t){e.open(t)}},{key:"getFeedbackStatus",value:function(e){return _assessments.AssessmentsHelper.mapFeedbackStatus(e)}},{key:"getLastSeenCls",value:function(e){var t=_assessments.AssessmentsHelper.lastSeenDuration(e).asMinutes();return Math.max(0,Math.round(t))}},{key:"getLastSeenTooltip",value:function(e){return e?_assessments.AssessmentsHelper.lastSeenDuration(e).asMinutes()<15?"online":"Seen ".concat(_assessments.AssessmentsHelper.lastSeenDurationString(e,!0)):"-"}},{key:"getProgressStatusTooltip",value:function(e){return e?_assessments.AssessmentsHelper.mapFeedbackStatus(e):"-"}},{key:"getDisplayName",value:function(e){return _assessments.AssessmentsHelper.getDisplayName(e)}},{key:"selectStudent",value:function(e){this.selectedUserId!==e.userId&&this.studentSelected({solutionWithScore:e})}},{key:"sortChange",value:function(e){this.sortProperty=e,e.value===this.sortProperties[2].value?this.solutions=Object.values(this.solutions).sort(function(e,t){return(e.score&&"draft"!==e.solution.status?parseFloat(e.score.split("/")[0]):0)-(t.score&&"draft"!==e.solution.status?parseFloat(t.score.split("/")[0]):0)}):this.solutions=Object.values(this.solutions).sort(function(t,s){var n=t.solution.user[e.value]||"",o=s.solution.user[e.value]||"";return n?o?n.localeCompare(o):-1:1}),this.$mdDialog.hide()}}]),e}(),StudentsListComponent={templateUrl:"/js/assesments/students-list/students-list.component.html",controllerAs:"$ctrl",bindings:{solutionsWithScore:"=",selectedUserId:"<",studentSelected:"&"},controller:StudentsListController};exports.StudentsListComponent=StudentsListComponent;

},{"../assessments.helper":"/home/node/app/assets/js/assesments/assessments.helper.js"}],"/home/node/app/assets/js/classes/class-assignment.component.js":[function(require,module,exports){
"use strict";function classAssignment(){return{templateUrl:"/js/classes/class-assignment.component.html",controller:ClassAssignmentController}}function ClassAssignmentController(s,t,n,o,e,a){s.token=o.token,s.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},s.getErrorToastPosition=function(){return Object.keys(s.errorToastPosition).filter(function(t){return s.errorToastPosition[t]}).join(" ")},s.showErrorMessage=function(t){var n;n=t&&t.data&&t.data.error&&t.data.error.msg?t.data.error.msg:"Something went wrong. Please try again in a few minutes.",a.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+n,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:s.getErrorToastPosition()})},s.loadClassAssignments=function(){s.isLoadingAssignments=!0,e.getClassAssignments(s.token,function(t){s.assignments=t.data.assignments,s.isLoadingAssignments=!1},function(t){s.isLoadingAssignments=!1,s.showErrorMessage(t)})},s.loadClassAssignments()}angular.module("wizer.classes").component("classAssignment",classAssignment()),ClassAssignmentController.$inject=["$scope","$analytics","$state","$stateParams","Classroom","$mdToast"];

},{}],"/home/node/app/assets/js/classes/class-roster.component.js":[function(require,module,exports){
"use strict";function classRoster(){return{templateUrl:"/js/classes/class-roster.component.html",controller:ClassRosterController}}function ClassRosterController(t,e,s,o,r,a,n){t.token=o.token,t.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},t.students=[],t.getErrorToastPosition=function(){return Object.keys(t.errorToastPosition).filter(function(e){return t.errorToastPosition[e]}).join(" ")},t.showErrorMessage=function(e){var s;s=e&&e.data&&e.data.error&&e.data.error.msg?e.data.error.msg:"Something went wrong. Please try again in a few minutes.",n.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+s,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:t.getErrorToastPosition()})},t.toggleStudentStatus=function(s,o){if(s&&s.status&&o&&o.length){var a,n=s.status;switch(n){case"pending":if(-1==["active","archive"].indexOf(o))return;a=o;break;case"active":if(-1==["block","archive"].indexOf(o))return;a="archive";break;case"block":if(-1==["active"].indexOf(o))return;a="active";break;case"archive":if("active"!==o)return;a="active"}a!==n?(console.log("status for student changed - ",a),e.eventTrack("class-student-"+a,{category:"class",label:"Change student status to "+a}),s.status=a,r.changeStudentStatus(s,function(t){angular.extend(s,t.data.student)},function(e){console.error("error updating student status",e),t.showErrorMessage(e)})):console.log("status for student hasnt changed, quitting")}},t.loadClassStudents=function(){t.isLoadingStudents=!0,r.getClassStudents(t.token,function(e){t.students=t.students.concat(e.data.students),t.isLoadingStudents=!1},function(e){t.isLoadingStudents=!1,t.showErrorMessage(e)})},t.openStudentProfile=function(t){s.go("learnerProfile",{token:t}),e.eventTrack("class-open-learner-profile",{category:"class",label:"Open learner profile"})},t.loadClassStudents()}angular.module("wizer.classes").component("classRoster",classRoster()),ClassRosterController.$inject=["$scope","$analytics","$state","$stateParams","Classroom","Users","$mdToast"];

},{}],"/home/node/app/assets/js/classes/class.component.js":[function(require,module,exports){
"use strict";function ClassController(e,t,a,o,s,n,r,i,c){e.token=r.token,e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},o.$on("$stateChangeSuccess",function(t,a,o,s,n,r){e.getMenuName()}),"learners.classview"==n.current.name&&n.go("learners.classview.roster"),o.$on("$stateChangeSuccess",function(e,t,a,o,s,r){"learners.classview"==n.current.name&&n.go("learners.classview.roster")}),e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(t){return e.errorToastPosition[t]}).join(" ")},e.copyToClipboard=function(e,t,a){var o;try{switch(e){case"link":var s="%2FjoinClass%2F"+t,n="Join Class: "+a;o="https://"+window.location.hostname+"/studentSignin?redir="+s+"&name="+n;break;case"code":o=t;break;default:return}}catch(e){console.error(e)}o&&o.length&&function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}}(o)&&c.show(c.simple().textContent("Class "+e+" copied").hideDelay(3e3).position("bottom right").parent(angular.element(".class-code-block")))},e.autoApproveChanged=function(t,a){i.updateAutoApprove(t,a).then(function(e){}).catch(function(t){e.showErrorMessage("There was an error updating class auto-approval"),console.error("error updating auto approved: ",t)})},e.showErrorMessage=function(t){var a;a=t&&t.data&&t.data.error&&t.data.error.msg?t.data.error.msg:"Something went wrong. Please try again in a few minutes.",c.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+a,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:3e3,position:e.getErrorToastPosition()})},e.getMenuName=function(){n.current.name.indexOf("classview")>=0&&(n.current.name.indexOf("classview.roster")>=0?e.activeMenu="roster":n.current.name.indexOf("classview.assignments")>=0&&(e.activeMenu="assignments"))},e.loadClassData=function(){e.isLoadingClass=!0,i.getClass(e.token,function(t){e.classData=t.data.classData,e.isLoadingClass=!1},function(t){e.isLoadingClass=!1,e.showErrorMessage(t)})},e.openClassRoster=function(){s.eventTrack("class-open-roster",{category:"class",label:"Open class roster"})},e.openClassAssignments=function(){s.eventTrack("class-open-assignment",{category:"class",label:"Open class assignment"})},e.loadClassData(),e.getMenuName()}ClassController.$inject=["$scope","$timeout","$interval","$rootScope","$analytics","$state","$stateParams","Classroom","$mdToast"],angular.module("wizer.classes").component("classComponent",{templateUrl:"/js/classes/class.component.html",controller:ClassController}),ClassController.$inject=["$scope","$timeout","$interval","$rootScope","$analytics","$state","$stateParams","Classroom","$mdToast"];

},{}],"/home/node/app/assets/js/classes/class.module.js":[function(require,module,exports){
"use strict";angular.module("wizer.classes",[]);

},{}],"/home/node/app/assets/js/classes/classes.component.js":[function(require,module,exports){
"use strict";var _premiumOptions=require("./premium-options"),_user=_interopRequireDefault(require("../common/helpers/user.helper"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function classesComponent(){return{templateUrl:"/js/classes/classes.component.html",controller:ClassesController}}function ClassesController(e,s,a,o,t,n,r,l,i,c,d,u,g,m,p,C){function f(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var s=document.createElement("textarea");s.textContent=e,s.style.position="fixed",document.body.appendChild(s),s.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(s)}}}function f(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var s=document.createElement("textarea");s.textContent=e,s.style.position="fixed",document.body.appendChild(s),s.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(s)}}}function h(){return!(!e.settings||!e.settings.allowGoogleClassroom)||(s.eventTrack("payment-sale-popup-gclassroom",{category:"payment",label:"Sale Popup - Google Classroom Integration"}),m.showPremiumModal(_premiumOptions.PremiumOptions.activateClass.text),!1)}e.action=d.action,e.actionSuccess=d.actionSuccess||!1,e.settings={},e.classes=[],e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.grades=[{name:"Kindergarten"},{name:"1st Grade"},{name:"2nd Grade"},{name:"3rd Grade"},{name:"4th Grade"},{name:"5th Grade"},{name:"6th Grade"},{name:"7th Grade"},{name:"8th Grade"},{name:"9th Grade"},{name:"10th Grade"},{name:"11th Grade"},{name:"12th Grade"}],e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(s){return e.errorToastPosition[s]}).join(" ")},e.showErrorMessage=function(s){var a;a=s&&s.data&&s.data.error&&s.data.error.msg?s.data.error.msg:"string"==typeof s?s:"Something went wrong. Please try again in a few minutes.",t.show({template:['<md-toast class="classes-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+a,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})},e.openClassMenu=function(e){console.log("open"),o(function(){e.open()},10)},e.copyToClipboard=function(e,s,a){var o;try{switch(e){case"link":var n="%2FjoinClass%2F"+s,r="Join Class: "+a;o="https://"+window.location.hostname+"/studentSignin?redir="+n+"&name="+r;break;case"code":o=s;break;default:return}}catch(e){console.error(e)}o&&o.length&&f(o)&&t.show(t.simple().textContent("Class ".concat(e," copied")).hideDelay(3e3).position("bottom right").parent(angular.element(".class-code-block")))},e.showErrorMessage=function(s){var a;a=s&&s.data&&s.data.error&&s.data.error.msg?s.data.error.msg:"Something went wrong. Please try again in a few minutes.",t.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+a,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})},e.copyToClipboard=function(e,s,a){var o;try{switch(e){case"link":var n="%2FjoinClass%2F"+s,r="Join Class: "+a;o="https://"+window.location.hostname+"/studentSignin?redir="+n+"&name="+r;break;case"code":o=s;break;default:return}}catch(e){console.error(e)}o&&o.length&&f(o)&&t.show(t.simple().textContent("Class "+e+" copied").hideDelay(3e3).position("top right").parent(angular.element(".mobile-class-list-container")))},e.googleClassroomActive=function(){return e.settings&&e.settings.googleClassroom},e.getGoogleClassCount=function(){var s=0;return angular.forEach(e.classes,function(e){e.googleCourseData&&s++}),s},e.loadClasses=function(){r.loadClassList(function(s){if(e.classes=s.data.classes,e.classes&&e.classes.sort(function(e,s){return e.googleCourseData&&!s.googleCourseData?1:!e.googleCourseData&&s.googleCourseData?-1:0}),delete e.loadingClasses,e.userProfile.googleClassroomUser){var a=!1;angular.forEach(e.classes,function(e){a||"google-class"!==e.type||e.googleCourseData||(a=!0)}),a&&e.syncClasses()}},function(s){delete e.loadingClasses,e.showErrorMessage("Failed to get classes list. Please try again in a minutes or contact our support.")})},e.hideNote=function(){e.userFeature.classNoteFeaure=!0,i.hideFeature("classNoteFeaure",function(s){e.userFeature.classNoteFeaure=s.data.classNoteFeaure},function(e){})},e.init=function(){c.settings().then(function(s){e.isPremium=_user.default.isPremium(s),e.settings=s,"import"===e.action&&(e.settings.allowGoogleClassroom&&e.settings.googleClassroom&&e.actionSuccess?o(e.syncClasses,1e3):o(function(){e.showErrorMessage("Unfortunately Google Classroom does not permit access to this user.")},1e3))}),e.loadingClasses=!0;var s=[],t=a.defer();l.profile(function(s){e.userProfile=s.data.profile,t.resolve()},function(s){e.userProfile=void 0,t.reject()}),s.push(t.promise);var n=a.defer();i.getFeature(function(s){e.userFeature=s.data,n.resolve()},function(e){n.reject()}),s.push(n.promise),a.all(s).then(function(s){e.loadClasses()},function(s){e.loadingClasses=!1})},e.showAddClass=function(){if(e.isPremium){if(a=e.classes,e.isAddingClass||a&&a.length>=e.settings.maxClasses&&-1!==e.settings.maxClasses){s.eventTrack("payment-sale-popup-classlimit",{category:"payment",label:"Sale Popup - Class Limit"});return n.show({template:'<upgrade-account-dialog upgrade-msg="Upgrade to Wizer Boost to get <b>Unlimited Classrooms</b>, <b>Google Classroom roster integration</b> and many other cool features"></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0})}var a;C.showDialog(e.grades,function(s,a){if(s)return e.newClass={grade:a,name:s},void e.saveClass();e.cancelAddClass()})}else p.showDialog(e.userProfile,null,"<b>Power-up your worksheets by organizing students into classes</b><br/>Assign tasks easily, manage student answers and save time - all in one place")},e.cancelAddClass=function(){delete e.newClass},e.saveClass=function(){s.eventTrack("class-create-new",{category:"class",label:"Create new class"}),e.isAddingClass=!0,e.newClass.state="active",e.newClass.type="wizer-class",r.addClass(e.newClass,function(s){e.isAddingClass=!1,e.classes.push(s.data.classData),e.classes.sort(function(e,s){return e.googleCourseData&&!s.googleCourseData?1:!e.googleCourseData&&s.googleCourseData?-1:0}),delete e.newClass},function(s){e.isAddingClass=!1,e.showErrorMessage(s)})},e.importClassroomClick=function(a){h()&&(e.settings.allowGoogleClassroom&&e.settings.googleClassroom?e.syncClasses():r.activateClassroom(function(e){var s=e.data.redirect;s+="?redir="+u.encodeURIComponent("/dashboard/classes/import"),u.location.href=s},function(o){if(o.data&&"apiDisabled"===o.data.res||o.data&&"apiDisabled"===o.data.result){var t=n.confirm().title("Google Classroom - Service for account is denied").htmlContent("<br/>Your account's domain has to be authorized by Google Classroom, and it should enable integration for Wizer.<br/><br/>Please contact your account manager for more information or contact us through the chat window for assistance").targetEvent(a).ok("Got it");n.show(t).then(function(){s.eventTrack("class-google-blocked-domain",{category:"class",label:"Blocked domain"})})}else!o.data||"NO_REFRESH_TOKEN"!==o.data.res&&"INSUFFICIENT_PERMISSIONS"!==o.data.res?(console.log("GC Error @ importClassroomClick: ",o),e.showErrorMessage(o.data.message)):g.promptUserForPermissions()}))},e.syncClasses=function(a){if(s.eventTrack("class-sync-google",{category:"class",label:"Sync google class"}),h()){e.loadingClasses=!0;var o=angular.element(document.body);r.syncGoogleCourses(function(s){if(e.googleClasses=s.data.classes,!s.data.classes||!s.data.classes.length)return delete e.loadingClasses,void n.show(n.alert().title("Google Classroom - No classes found for "+e.userProfile.email).htmlContent("<br/>Try to:<br/><br/>1. configure a classroom in the Google Classroom app.<br/>2. Log into Wizer with the same email shown in the Google Classroom app.").targetEvent(a).ok("Got it"));var t={parent:o,templateUrl:"/js/classes/import-class-dialog.html",locals:{classes:e.googleClasses,importedClasses:e.classes},controller:["$scope","$mdDialog","classes","importedClasses",function(e,s,a,o){e.classes=a,e.hasNewClass=!1,angular.forEach(e.classes,function(s){var a=!1;angular.forEach(o,function(e){e.googleCourseData&&e.googleCourseData.id===s.id&&(s.imported=!0,a=!0)}),a||(e.hasNewClass=!0)}),e.closeDialog=function(){s.cancel()},e.importClassess=function(){var a=[];angular.forEach(e.classes,function(e){e.selected&&(delete e.selected,a.push(e))}),s.hide(a)}}]};n.show(t).then(function(s){e.importGoogleClass(s)}),delete e.loadingClasses},function(o){if(delete e.loadingClasses,o.data&&"apiDisabled"===o.data.res||o.data&&"apiDisabled"===o.data.result){var t=n.confirm().title("Google Classroom - Service for account is denied").htmlContent("<br/>Your account's domain has to be authorized by Google Classroom, and it should enable integration for Wizer.<br/><br/>Please contact your account manager for more information or contact us through the chat window for assistance").targetEvent(a).ok("Got it");n.show(t).then(function(){s.eventTrack("class-google-blocked-domain",{category:"class",label:"Blocked domain"})})}else!o.data||"NO_REFRESH_TOKEN"!==o.data.res&&"INSUFFICIENT_PERMISSIONS"!==o.data.res?e.showErrorMessage("Failed to get google classes list. Please try again in a minutes or contact our support."):g.promptUserForPermissions()})}},e.importGoogleClass=function(s){h()&&(e.loadingClasses=!0,r.importGoogleCourses(s,function(s){e.loadingClasses=!1,s.data&&s.data.classes&&s.data.classes.length&&(e.classes&&e.classes.length?e.classes=e.classes.concat(s.data.classes):e.classes=s.data.classes,angular.forEach(e.classes,function(s){s.googleCourseData&&s.googleCourseData.id&&e.syncStudents(s)}))},function(s){e.loadingClasses=!1,console.log("GC Error @ importGoogleClass: ",s),e.showErrorMessage(s)}))},e.syncStudents=function(a){s.eventTrack("class-sync-google-class-students",{category:"class",label:"Sync google class students"}),h()&&(a.isSyncing=!0,r.syncGoogleStudents(a.id,function(e){e&&e.data&&e.data.students&&(a.activeStudents=e.data.students.length),delete a.isSyncing},function(s){delete a.isSyncing,"GoogleClassroomError"===s.data.error?g.promptUserForPermissions():(console.log("GC Error @ syncStudents: ",s),e.showErrorMessage(s))}))},e.editClass=function(e){e.isEditing=!0,e.editedName=e.name,e.editedGrade=e.grade},e.cancelEditClass=function(e){delete e.isEditing,delete e.editedName,delete e.editedGrade},e.saveEditClass=function(a){s.eventTrack("class-edit",{category:"class",label:"Edit wizer class"}),a.isSaving=!0;var o=angular.copy(a);o.name=o.editedName,o.grade=o.editedGrade,r.saveClass(o,function(e){a.isSaving=!1,a.name=a.editedName,a.grade=a.editedGrade,delete a.isEditing,delete a.editedName,delete a.editedGrade},function(s){a.isSaving=!1,e.showErrorMessage(s)})},e.archieveClass=function(a,o){var t=n.confirm().title("Are you sure you want to delete this class?").htmlContent("").targetEvent(o).ok("YES, DO IT!").cancel("CANCEL");n.show(t).then(function(){s.eventTrack("class-remove",{category:"class",label:"Remove class"}),a.isArchieving=!0,a.state="archive",r.saveClass(a,function(s){var o;delete a.isArchieving,angular.forEach(e.classes,function(e,s){e.id===a.id&&(o=s)}),isNaN(o)||e.classes.splice(o,1)},function(s){delete a.isArchieving,e.showErrorMessage(s)})})},e.init()}ClassesController.$inject=["$scope","$analytics","$q","$timeout","$mdToast","$mdDialog","Classroom","Users","UserFeature","UserSvc","$stateParams","$window","GoogleClassroom","premiumDlg","newPremiumDlg","addClassDlg"],angular.module("wizer.classes").component("classesComponent",classesComponent());

},{"../common/helpers/user.helper":"/home/node/app/assets/js/common/helpers/user.helper.js","./premium-options":"/home/node/app/assets/js/classes/premium-options.js"}],"/home/node/app/assets/js/classes/index.js":[function(require,module,exports){
"use strict";require("./class.module"),require("./class-assignment.component"),require("./class-roster.component"),require("./class.component"),require("./classes.component");

},{"./class-assignment.component":"/home/node/app/assets/js/classes/class-assignment.component.js","./class-roster.component":"/home/node/app/assets/js/classes/class-roster.component.js","./class.component":"/home/node/app/assets/js/classes/class.component.js","./class.module":"/home/node/app/assets/js/classes/class.module.js","./classes.component":"/home/node/app/assets/js/classes/classes.component.js"}],"/home/node/app/assets/js/classes/premium-options.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PremiumOptions=void 0;var PremiumOptions={activateClass:{text:"<p>Importing Google classroom rosters and automatically syncing assignment grades is available on our Boost plan.</p>\n                  <p><span>Upgrade to Wizer Boost</span> to unlock all premium features.</p>"}};exports.PremiumOptions=PremiumOptions;

},{}],"/home/node/app/assets/js/common/add-class-dlg/add-class-dlg.service.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var t=0;t<s.length;t++){var l=s[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,s,t){return s&&_defineProperties(e.prototype,s),t&&_defineProperties(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerAddClassDlgService=exports.WIZER_ADD_CLASS_DLG_SERVICE=void 0;var WIZER_ADD_CLASS_DLG_SERVICE="addClassDlg";exports.WIZER_ADD_CLASS_DLG_SERVICE=WIZER_ADD_CLASS_DLG_SERVICE;var WizerAddClassDlgService=function(){function e(s){_classCallCheck(this,e),this.$mdDialog=s}return e.$inject=["$mdDialog"],_createClass(e,[{key:"showDialog",value:function(e,s){var t=angular.element(document.body);return this.$mdDialog.show({templateUrl:"/js/common/add-class-dlg/add-class-dlg.html",controller:WizerAddClassController,controllerAs:"$ctrl",parent:t,clickOutsideToClose:!0,locals:{closeCb:s,grades:e}})}}]),e}();exports.WizerAddClassDlgService=WizerAddClassDlgService;var WizerAddClassController=function(){function e(s,t,l,i,o){var a=this;_classCallCheck(this,e),this.$scope=s,this.$mdDialog=t,this.$timeout=l,this.grades=o,this.closeCb=i,this.$scope.$on("$destroy",function(){a.closeCb&&a.closeCb()})}return e.$inject=["$scope","$mdDialog","$timeout","closeCb","grades"],_createClass(e,[{key:"cancelAddClass",value:function(){this.closeCb&&(this.closeCb(),this.$mdDialog.hide())}},{key:"fixBackdrop",value:function(){this.$timeout(function(){var e=angular.element(".md-select-backdrop");e&&e.length&&e.css("z-index","1100")},100)}},{key:"saveClass",value:function(){this.closeCb&&(this.closeCb(this.name,this.grade),this.$mdDialog.hide())}}]),e}();

},{}],"/home/node/app/assets/js/common/common.module.js":[function(require,module,exports){
"use strict";var _verticalScroller=require("./vertical-scroller/vertical-scroller.component"),_wizerButton=require("./wizer-button/wizer-button.component"),_wizerLoader=require("./wizer-loader/wizer-loader.component"),_wizerReadmore=require("./wizer-readmore/wizer-readmore.component"),_wizerPremium=require("./wizer-premium/wizer-premium.component"),_wizerPremiumDlg=require("./wizer-premium-dlg/wizer-premium-dlg.service"),_google=require("./google/google.service"),_wizerGdriveDlg=require("./wizer-gdrive-dlg/wizer-gdrive-dlg.service"),_editor=require("./services/editor.service"),_wizerNewPremium=require("./wizer-new-premium/wizer-new-premium.service"),_addClassDlg=require("./add-class-dlg/add-class-dlg.service");angular.module("wizer.common",["wizer.common"]).component(_wizerButton.WIZER_BUTTON_COMPONENT,_wizerButton.WizerButtonComponent).component(_verticalScroller.VERTICAL_SCROLLER_COMPONENT,_verticalScroller.VerticalScrollerComponent).component(_wizerPremium.WIZER_PREMIUM_COMPONENT,_wizerPremium.WizerPremiumComponent).component(_wizerReadmore.WIZER_READMORE_COMPONENT,_wizerReadmore.WizerReadmoreComponent).component(_wizerLoader.WIZER_LOADER_COMPONENT,_wizerLoader.WizerLoaderComponent).service(_editor.WIZER_EDITOR_SERVICE,_editor.EditorService).service(_wizerPremiumDlg.WIZER_PREMIUM_DLG_SERVICE,_wizerPremiumDlg.WizerPremiumDlgService).service(_wizerNewPremium.WIZER_NEW_PREMIUM_DLG_SERVICE,_wizerNewPremium.WizerNewPremiumService).service(_wizerGdriveDlg.WIZER_GDRIVE_DLG_SERVICE,_wizerGdriveDlg.WizerGdriveDlgService).service(_addClassDlg.WIZER_ADD_CLASS_DLG_SERVICE,_addClassDlg.WizerAddClassDlgService).service(_google.WIZER_GOOGLE_AUTH_SERVICE,_google.GoogleService);

},{"./add-class-dlg/add-class-dlg.service":"/home/node/app/assets/js/common/add-class-dlg/add-class-dlg.service.js","./google/google.service":"/home/node/app/assets/js/common/google/google.service.js","./services/editor.service":"/home/node/app/assets/js/common/services/editor.service.js","./vertical-scroller/vertical-scroller.component":"/home/node/app/assets/js/common/vertical-scroller/vertical-scroller.component.js","./wizer-button/wizer-button.component":"/home/node/app/assets/js/common/wizer-button/wizer-button.component.js","./wizer-gdrive-dlg/wizer-gdrive-dlg.service":"/home/node/app/assets/js/common/wizer-gdrive-dlg/wizer-gdrive-dlg.service.js","./wizer-loader/wizer-loader.component":"/home/node/app/assets/js/common/wizer-loader/wizer-loader.component.js","./wizer-new-premium/wizer-new-premium.service":"/home/node/app/assets/js/common/wizer-new-premium/wizer-new-premium.service.js","./wizer-premium-dlg/wizer-premium-dlg.service":"/home/node/app/assets/js/common/wizer-premium-dlg/wizer-premium-dlg.service.js","./wizer-premium/wizer-premium.component":"/home/node/app/assets/js/common/wizer-premium/wizer-premium.component.js","./wizer-readmore/wizer-readmore.component":"/home/node/app/assets/js/common/wizer-readmore/wizer-readmore.component.js"}],"/home/node/app/assets/js/common/google/google.service.js":[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GoogleService=exports.WIZER_GOOGLE_AUTH_SERVICE=void 0;var WIZER_GOOGLE_AUTH_SERVICE="googleService";exports.WIZER_GOOGLE_AUTH_SERVICE=WIZER_GOOGLE_AUTH_SERVICE;var GoogleService=function(){function t(e,n,o,r){_classCallCheck(this,t),this.API=e,this.$http=n,this.$window=r,this.$q=o}return t.$inject=["API","$http","$q","$window"],_createClass(t,[{key:"authCallback",value:function(t){return this.$http({method:"GET",url:"".concat(this.API.root,"/auth/gdrive/callback"),params:{code:t}})}},{key:"connect",value:function(){var t=this;return this.isAuthed(!0).then(function(e){return e?t.fetchSyncList().then(function(t){return t.data}):null})}},{key:"fetchFiles",value:function(t){var e=t.join(",");return this.$http({method:"GET",url:"".concat(this.API.root,"/drive/file"),params:{id:e}}).then(function(t){return t.data})}},{key:"fetchSyncList",value:function(){return this.$http({method:"GET",url:"".concat(this.API.root,"/drive/sync")})}},{key:"isAdded",value:function(t){return this.$http({method:"GET",url:"".concat(this.API.root,"/drive/worksheet/").concat(t)}).then(function(){return!0}).catch(function(t){return 400!==t.status&&null})}},{key:"isAuthed",value:function(t){var e=this;return this.$http({method:"GET",url:"".concat(this.API.root,"/drive/status")}).then(function(){return!0}).catch(function(n){return 400===n.status?!!t&&e.showGoogleAuthDlg(n.data):(console.log("Unspecified g-auth error",n),null)})}},{key:"showGoogleAuthDlg",value:function(t){var e=this.$q.defer(),n=t.OAuthURL;window.ProcessChildMessage=function(t,n){if(t&&t.success)return!0,n&&n(),void e.resolve(!0);e.resolve(!1)};var o=window.open("","_blank","width=500,height=600,left=200,top=100");return setTimeout(function(){o&&!o.closed&&void 0!==o.closed?o.location.href=n:e.reject("blocked")},1500),e.promise}},{key:"saveWorksheet",value:function(t){return this.$http({method:"POST",url:"".concat(this.API.root,"/drive/worksheet/").concat(t,"/save")}).then(function(){return!0}).catch(function(){return!1})}}]),t}();exports.GoogleService=GoogleService;

},{}],"/home/node/app/assets/js/common/helpers/user.helper.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var isPremium=function(e){return!(!e||!e.PERSONALIZATION)&&(e&&e.PERSONALIZATION)},UserHelper={isPremium:isPremium},_default=UserHelper;exports.default=_default;

},{}],"/home/node/app/assets/js/common/services/editor.service.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorService=exports.WIZER_EDITOR_SERVICE=void 0;var WIZER_EDITOR_SERVICE="editorService";exports.WIZER_EDITOR_SERVICE=WIZER_EDITOR_SERVICE;var EditorService=function(){function e(t,r){_classCallCheck(this,e),this.API=t,this.$http=r}return e.$inject=["API","$http"],_createClass(e,[{key:"createWorksheet",value:function(){return this.$http({method:"POST",url:"".concat(this.API.root,"/editor")}).then(function(e){return e.data})}},{key:"updateWorksheet",value:function(e){return this.$http({method:"PUT",url:"".concat(this.API.root,"/editor/save"),data:e}).then(function(e){return e.data&&e.data.worksheet})}}]),e}();exports.EditorService=EditorService;

},{}],"/home/node/app/assets/js/common/vertical-scroller/vertical-scroller.component.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VerticalScrollerComponent=exports.VERTICAL_SCROLLER_COMPONENT=void 0;var VERTICAL_SCROLLER_COMPONENT="verticalScroller";exports.VERTICAL_SCROLLER_COMPONENT=VERTICAL_SCROLLER_COMPONENT;var VerticalScrollerController=function(){function e(t,r){_classCallCheck(this,e),this.$scope=t,this.$element=r,this.$element.addClass("vertical-scroller");var n=(new Date).valueOf();this.uid="wizer-vs-".concat(n),this.uidTrans="wizer-vs-trans-".concat(n),this.uidLeftBtn="wizer-btn-left-".concat(n),this.uidRightBtn="wizer-btn-right-".concat(n),this.showArrows=!1}return e.$inject=["$scope","$element"],_createClass(e,[{key:"$onInit",value:function(){var e=this;this.$scope.$watch(function(){return e.getTranscludeContainer().scrollWidth},function(t){e.showArrows=t>e.getScrollerContainer().offsetWidth})}},{key:"getScrollerContainer",value:function(){var e=angular.element("#".concat(this.uid));return e=e.length?e[0]:{offsetWidth:0}}},{key:"getTranscludeContainer",value:function(){var e=angular.element("#".concat(this.uidTrans));return e=e.length?e[0]:{scrollWidth:0}}},{key:"scrollLeft",value:function(){this.scrollTheContainer("left")}},{key:"scrollRight",value:function(){this.scrollTheContainer("right")}},{key:"scrollTheContainer",value:function(e){var t=this,r=0,n=setInterval(function(){var l="left"===e?-10:10;t.getScrollerContainer().scrollLeft+=l,(r+=Math.abs(l))>=100&&clearInterval(n)},25)}}]),e}(),VerticalScrollerComponent={templateUrl:"js/common/vertical-scroller/vertical-scroller.component.html",transclude:!0,bindings:{},controllerAs:"$ctrl",controller:VerticalScrollerController};exports.VerticalScrollerComponent=VerticalScrollerComponent;

},{}],"/home/node/app/assets/js/common/wizer-button/wizer-button.component.js":[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerButtonComponent=exports.WIZER_BUTTON_COMPONENT=void 0;var WIZER_BUTTON_COMPONENT="wzButton";exports.WIZER_BUTTON_COMPONENT=WIZER_BUTTON_COMPONENT;var WizerButtonController=function(){function t(e,n,o){_classCallCheck(this,t),this.$scope=e,this.$element=n,this.$element.addClass("wizer-button"),this.$transclude=o}return t.$inject=["$scope","$element","$transclude"],_createClass(t,[{key:"hasTooltip",value:function(){return this.$transclude.isSlotFilled("tooltip")}}]),t}(),WizerButtonComponent={templateUrl:"js/common/wizer-button/wizer-button.component.html",transclude:{text:"wzButtonText",tooltip:"?wzButtonTooltip"},bindings:{icon:"@?",iconAlign:"@?",btnClick:"&?"},controllerAs:"$ctrl",controller:WizerButtonController};exports.WizerButtonComponent=WizerButtonComponent;

},{}],"/home/node/app/assets/js/common/wizer-gdrive-dlg/wizer-gdrive-dlg.service.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerGdriveDlgService=exports.WIZER_GDRIVE_DLG_SERVICE=void 0;var _wizerGdrive=require("./wizer-gdrive.controller");function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,i){return r&&_defineProperties(e.prototype,r),i&&_defineProperties(e,i),e}var WIZER_GDRIVE_DLG_SERVICE="gdriveDlg";exports.WIZER_GDRIVE_DLG_SERVICE=WIZER_GDRIVE_DLG_SERVICE;var WizerGdriveDlgService=function(){function e(r){_classCallCheck(this,e),this.$mdDialog=r}return e.$inject=["$mdDialog"],_createClass(e,[{key:"showGDriveModal",value:function(e,r,i){var o=angular.element(document.body);return this.$mdDialog.show({controller:_wizerGdrive.WizerGdriveController,templateUrl:"/js/common/wizer-gdrive-dlg/wizer-gdrive-dlg.html",parent:o,clickOutsideToClose:!0,controllerAs:"$ctrl",locals:{dataToPass:{worksheetToken:e},closeCb:r,topMost:i}})}}]),e}();exports.WizerGdriveDlgService=WizerGdriveDlgService;

},{"./wizer-gdrive.controller":"/home/node/app/assets/js/common/wizer-gdrive-dlg/wizer-gdrive.controller.js"}],"/home/node/app/assets/js/common/wizer-gdrive-dlg/wizer-gdrive.controller.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerGdriveController=void 0;var WizerGdriveController=function(){function e(t,r,n,o,s,c,i,a,l,h){var u=this;_classCallCheck(this,e),this.API=t,this.$scope=r,this.$window=n,this.$http=o,this.$q=s,this.$mdDialog=c,this.googleService=h,this.currentStep=1,this.worksheetToken=i&&i.worksheetToken,this.synced=!1,this.progressText="",this.syncErrors={},this.totalCount=0,this.topMost=!!l,this.popupBlocked=!1,this.cancelSaving=!1,this.$scope.$on("$destroy",function(){a&&a(u.synced)}),this.worksheetToken&&this.saveWorksheet()}return e.$inject=["API","$scope","$window","$http","$q","$mdDialog","dataToPass","closeCb","topMost","googleService"],_createClass(e,[{key:"retry",value:function(){this.currentStep=2,this.connectToGDrive()}},{key:"close",value:function(){this.cancelSaving=!0,this.$mdDialog.hide()}},{key:"connectToGDrive",value:function(){this.worksheetToken?this.saveWorksheet():this.saveWorksheets()}},{key:"saveWorksheet",value:function(){var e=this;this.currentStep=2,this.googleService.connect().then(function(t){return t&&t.length?e.googleService.saveWorksheet(e.worksheetToken):(e.currentStep=t?e.currentStep:3,void(e.synced=!!t))}).then(function(){e.currentStep=2,e.synced=!0}).catch(function(t){"blocked"===t&&(e.popupBlocked=!0,e.currentStep=3)})}},{key:"saveWorksheets",value:function(){var e=this;this.currentStep=2,this.syncErrors={},this.googleService.connect().then(function(t){if(!t||!t.length)return e.currentStep=t?e.currentStep:3,void(e.synced=!!t);e.totalCount=t.length;var r=0;e.progressText="".concat(r++," / ").concat(t.length);for(var n=e.$q.defer(),o=n.promise,s=function(s,c){if(e.cancelSaving)return n.reject(),"break";o=o.then(function(){if(!e.cancelSaving)return e.$q.all(t.slice(s,s+5).map(function(n){return o=n,s=e.$q.defer(),o.driveId?(e.progressText="".concat(r++," / ").concat(t.length),s.resolve(),s.promise):(e.googleService.saveWorksheet(o.token).catch(function(){return e.syncErrors[o.id]=!0}).then(function(){return e.progressText="".concat(r++," / ").concat(t.length),console.log(e.progressText),o.id}).finally(function(){return s.resolve()}),s.promise);var o,s}));n.reject()})},c=0,i=t.length;c<i;c+=5){if("break"===s(c))break}o.then(function(){var t=!!Object.keys(e.syncErrors).length;e.synced=!t,e.currentStep=t?3:e.currentStep}),n.resolve()}).catch(function(t){"blocked"===t&&(e.popupBlocked=!0,e.currentStep=3)})}}]),e}();exports.WizerGdriveController=WizerGdriveController;

},{}],"/home/node/app/assets/js/common/wizer-loader/wizer-loader.component.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerLoaderComponent=exports.WIZER_LOADER_COMPONENT=void 0;var WIZER_LOADER_COMPONENT="wzLoader";exports.WIZER_LOADER_COMPONENT=WIZER_LOADER_COMPONENT;var WizerLoaderController=function e(o,r){_classCallCheck(this,e),this.$scope=o,this.$element=r,this.$element.addClass("wizer-loader")};WizerLoaderController.$inject=["$scope","$element"];var WizerLoaderComponent={templateUrl:"js/common/wizer-loader/wizer-loader.component.html",controllerAs:"$ctrl",controller:WizerLoaderController};exports.WizerLoaderComponent=WizerLoaderComponent;

},{}],"/home/node/app/assets/js/common/wizer-new-premium/wizer-new-premium.controller.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerNewPremiumDialogController=void 0;var UPGRADE_TEXT="Upgrade now to unlock |TEXT| for your learners!",NEW_PREMIUM_DATE=new Date(2020,10,5),WizerNewPremiumDialogController=function e(r,o,i,t){var s=this;_classCallCheck(this,e),this.$scope=r,this.$sce=o,this.$window=i;var a=t.customMsg,n=t.feature||"";this.user=t.user,this.$scope.content=a||UPGRADE_TEXT.replace("|TEXT|",n),this.$scope.showReadMore=new Date(this.user.createdAt).valueOf()<NEW_PREMIUM_DATE.valueOf(),this.$scope.upgradeToPremium=function(){return s.$window.location.href="/pricing"}};exports.WizerNewPremiumDialogController=WizerNewPremiumDialogController,WizerNewPremiumDialogController.$inject=["$scope","$sce","$window","dataToPass"];

},{}],"/home/node/app/assets/js/common/wizer-new-premium/wizer-new-premium.service.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerNewPremiumService=exports.WIZER_NEW_PREMIUM_DLG_SERVICE=void 0;var _wizerNewPremium=require("./wizer-new-premium.controller");function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,i){return r&&_defineProperties(e.prototype,r),i&&_defineProperties(e,i),e}var WIZER_NEW_PREMIUM_DLG_SERVICE="newPremiumDlg";exports.WIZER_NEW_PREMIUM_DLG_SERVICE=WIZER_NEW_PREMIUM_DLG_SERVICE;var WizerNewPremiumService=function(){function e(r){_classCallCheck(this,e),this.$mdDialog=r}return e.$inject=["$mdDialog"],_createClass(e,[{key:"showDialog",value:function(e,r,i){var t=angular.element(document.body);return this.$mdDialog.show({controller:_wizerNewPremium.WizerNewPremiumDialogController,templateUrl:"/js/common/wizer-new-premium/wizer-new-premium.html",parent:t,clickOutsideToClose:!0,controllerAs:"$ctrl",locals:{dataToPass:{user:e,feature:r,customMsg:i}}})}}]),e}();exports.WizerNewPremiumService=WizerNewPremiumService;

},{"./wizer-new-premium.controller":"/home/node/app/assets/js/common/wizer-new-premium/wizer-new-premium.controller.js"}],"/home/node/app/assets/js/common/wizer-premium-dlg/wizer-premium-dlg.controller.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerPremiumDialogController=void 0;var WizerPremiumDialogController=function(){function e(t,r,i,o){var n=this;_classCallCheck(this,e),this.$scope=t,this.$sce=r,this.$window=i,this.$scope.title=o.title,this.$scope.content=this.parseContent(o.text),this.$scope.upgradeToPremium=function(){return n.$window.location.href="/pricing"}}return e.$inject=["$scope","$sce","$window","dataToPass"],_createClass(e,[{key:"parseContent",value:function(e){return this.$sce.trustAsHtml(e)}}]),e}();exports.WizerPremiumDialogController=WizerPremiumDialogController;

},{}],"/home/node/app/assets/js/common/wizer-premium-dlg/wizer-premium-dlg.service.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerPremiumDlgService=exports.WIZER_PREMIUM_DLG_SERVICE=void 0;var _wizerPremiumDlg=require("./wizer-premium-dlg.controller");function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,i){return r&&_defineProperties(e.prototype,r),i&&_defineProperties(e,i),e}var WIZER_PREMIUM_DLG_SERVICE="premiumDlg";exports.WIZER_PREMIUM_DLG_SERVICE=WIZER_PREMIUM_DLG_SERVICE;var WizerPremiumDlgService=function(){function e(r){_classCallCheck(this,e),this.$mdDialog=r}return e.$inject=["$mdDialog"],_createClass(e,[{key:"showPremiumModal",value:function(e,r){var i;i="string"==typeof e?{title:r||"Time to upgrade?",text:e}:e;var t=angular.element(document.body);return this.$mdDialog.show({controller:_wizerPremiumDlg.WizerPremiumDialogController,templateUrl:"/js/common/wizer-premium-dlg/wizer-premium-dlg.html",parent:t,clickOutsideToClose:!0,controllerAs:"$ctrl",locals:{dataToPass:i}}).then(function(e){console.log(e)})}}]),e}();exports.WizerPremiumDlgService=WizerPremiumDlgService;

},{"./wizer-premium-dlg.controller":"/home/node/app/assets/js/common/wizer-premium-dlg/wizer-premium-dlg.controller.js"}],"/home/node/app/assets/js/common/wizer-premium/wizer-premium.component.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerPremiumComponent=exports.WIZER_PREMIUM_COMPONENT=void 0;var WIZER_PREMIUM_COMPONENT="premiumScreen";exports.WIZER_PREMIUM_COMPONENT=WIZER_PREMIUM_COMPONENT;var WizerPremiumController=function(){function e(t,i,r,o,n,s){var m=this;_classCallCheck(this,e),this.$scope=t,this.$sce=r,this.$element=i,this.$window=n,this.$mdDialog=o,this.$element.addClass("premium-screen"),this.title="",this.premiumDlg=s,this.sections=[],this.$scope.isPremium=this.isPremium,this.$scope.$watch(function(){return m.options},function(e){m.title=e.title,m.sections=e.sections})}return e.$inject=["$scope","$element","$sce","$mdDialog","$window","premiumDlg"],_createClass(e,[{key:"parseContent",value:function(e){return this.$sce.trustAsHtml(e)}},{key:"showDlg",value:function(e){!this.$scope.isPremium&&e&&e.modalData&&this.premiumDlg.showPremiumModal(e.modalData.text,e.modalData.title)}}]),e}(),WizerPremiumComponent={templateUrl:"/js/common/wizer-premium/wizer-premium.component.html",controllerAs:"$ctrl",bindings:{options:"<",isPremium:"<"},controller:WizerPremiumController};exports.WizerPremiumComponent=WizerPremiumComponent;

},{}],"/home/node/app/assets/js/common/wizer-readmore/wizer-readmore.component.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizerReadmoreComponent=exports.WIZER_READMORE_COMPONENT=void 0;var WIZER_READMORE_COMPONENT="wzReadmore";exports.WIZER_READMORE_COMPONENT=WIZER_READMORE_COMPONENT;var WizerReadmoreController=function(){function e(t,r,o){_classCallCheck(this,e),this.$scope=t,this.$sce=r,this.$element=o,this.$element.addClass("wizer-readmore"),this.withMore=!1,this.showToggle=this.text.length>490,this.textToShow=this.renderHtml(this.text)}return e.$inject=["$scope","$sce","$element"],_createClass(e,[{key:"renderHtml",value:function(e){return this.$sce.trustAsHtml(e)}},{key:"toggleText",value:function(){this.withMore=!this.withMore}}]),e}(),WizerReadmoreComponent={templateUrl:"js/common/wizer-readmore/wizer-readmore.component.html",bindings:{text:"<"},controllerAs:"$ctrl",controller:WizerReadmoreController};exports.WizerReadmoreComponent=WizerReadmoreComponent;

},{}],"/home/node/app/assets/js/config/froala-config.js":[function(require,module,exports){
"use strict";angular.module("wizer").config(["fflip",function(t){var a;a="app.wizer.me"===window.location.hostname?"dynamic.wizer.me":"stg-dynamic.wizer.me";var e=["colors","emoticons","fontSize","link","image","video","specialCharacters","inlineStyle"];t.inlineEditor&&e.push("quickInsert");var i=["bold","italic","underline","fontSize","color","emoticons","insertImage","insertLink","|","formatOL","textDirection","|","specialCharacters","subscript","superscript","undo","redo","clearFormatting"];$.FroalaEditor.DEFAULTS=$.extend($.FroalaEditor.DEFAULTS,{toolbarInline:t.inlineEditor,placeholderText:"Enter Text Here",key:"dC10C5B5C2A2B1C-7J2A4D4A3C6E2A2F4E1D1rD1Ua1Mf1e1VSYKa1EPYD==",toolbarButtons:i,toolbarButtonsMD:i,toolbarButtonsSM:i,toolbarButtonsXS:i,charCounterCount:!1,tabSpaces:4,direction:"auto",pluginsEnabled:e,pastePlain:!0,toolbarSticky:!1,imageUploadToS3:{bucket:a,keyStart:"uploads/"+Math.round(1e9*Math.random())+"-",region:"s3",callback:function(t,a){},params:{acl:"public-read",AWSAccessKeyId:window.key,policy:window.policy,signature:window.signature}}});var o=function(){for(var t=this.selection.blocks(),a=0;a<t.length;a++){var e=t[a];if(e!=this.$el.get(0))return $(e).css("direction")}return"ltr"},r=function(t,a){this.selection.save();for(var e=this.selection.blocks(),i=0;i<e.length;i++){var o=e[i];o!=this.$el.get(0)&&$(o).css("direction",t).css("text-align",a)}this.selection.restore()};$.FroalaEditor.DefineIconTemplate("font_awesomex2",'<div class="fa-stack"><i class="fa fa-paragraph fa-1 fa-stack-2x" style="font-size: 12px;"></i><i class="fa fa-[NAME] fa-1 fa-stack-1x" style="font-size: 12px;"></i></div>'),$.FroalaEditor.DefineIcon("textDirection",{NAME:"long-arrow-right",template:"font_awesomex2"}),$.FroalaEditor.RegisterCommand("textDirection",{title:"RTL",focus:!0,undo:!0,icon:"textDirection",refreshAfterCallback:!0,callback:function(){switch(o.apply(this)){case"rtl":r.apply(this,["ltr","left"]);break;case"ltr":r.apply(this,["rtl","right"])}},refresh:function(t){switch(o.apply(this)){case"rtl":t.find(".fa.fa-stack-1x").removeClass("fa-long-arrow-right"),t.find(".fa.fa-stack-1x").addClass("fa-long-arrow-left");break;case"ltr":t.find(".fa.fa-stack-1x").removeClass("fa-long-arrow-letf"),t.find(".fa.fa-stack-1x").addClass("fa-long-arrow-right")}}})}]);

},{}],"/home/node/app/assets/js/config/index.js":[function(require,module,exports){
"use strict";require("./froala-config");

},{"./froala-config":"/home/node/app/assets/js/config/froala-config.js"}],"/home/node/app/assets/js/dashboard/all-worksheets.component.js":[function(require,module,exports){
"use strict";function allWorksheetsComponent(){return{templateUrl:"/js/dashboard/all-worksheets.component.html",controller:allworksheetsController,bindings:{selectedFolder:"=",totalWorksheets:"=",onShowAllWorksheets:"="}}}function allworksheetsController(){}angular.module("wizer.dashboard").component("allWorksheets",allWorksheetsComponent());

},{}],"/home/node/app/assets/js/dashboard/dashboard-sidenav.component.js":[function(require,module,exports){
"use strict";function dashboardSidenavComponent(){return{templateUrl:"/js/dashboard/dashboard-sidenav.component.html",controller:dashboardSidenavController,bindings:{worksheets:"=",organizationData:"=",closeSidenav:"=",onFolderAdded:"=",onFolderToggle:"=",onAddMember:"=",getExpandedTreeNodes:"=",expandedTreeNodes:"=",onShowAllWorksheets:"=",userProfile:"<"}}}function dashboardSidenavController(e,o,n,r,d,t,a,s,l){var i,c=this;function f(e,o){_.assign(c,e,o),e.selectedFolder&&e.selectedFolder.folder&&c.getExpandedTreeNodes(c.folders)}c.showGDriveBtn=!1,c.searchFolder=function(e){return function e(o,n){var r;o.some(function(o){return null!=(r=o.folder&&o.folder.id===n?o:o.nodes?e(o.nodes,n):void 0)});return r}(c.folders,e)},c.onFolderRename=function(e,o){r.dispatch(function(e,o){return function(n){return d.renameFolder(e.folder.id,o).success(function(o){n({type:"FOLDER_RENAMED",payload:{folder:o.folder,parent:e.parent}})}).error(function(e){n({type:"FAIL_RENAMING_FOLDER",payload:e})})}}(e,o))},c.markFolderShared=function(e){r.dispatch({type:"MARK_FOLDER_SHARED",payload:{folderId:e}})},c.saveToDrive=function(){l.showGDriveModal()},e.$on("allworksheet:open",function(o,n){c.organizationData?s(function(){c.folders.length?e.$emit("folderopen:open",c.folders[0].token):e.$emit("noworksheet:open")},100):c.onShowAllWorksheets()}),e.$on("folderWorksheets:remove",function(e,o){c.worksheets&&(c.worksheets.forEach(function(e,n){o.some(function(o){return o===e.id})&&c.worksheets.splice(n,1)}),c.getExpandedTreeNodes(c.folders))}),i=r.connect(function(e){return{folders:e.dashboard.folders,selectedFolder:e.dashboard.selectedFolder}},{})(f),e.$on("$destroy",i)}angular.module("wizer.dashboard").component("dashboardSidenav",dashboardSidenavComponent()),dashboardSidenavController.$inject=["$scope","$mdDialog","$mdToast","$ngRedux","Folders","$state","$analytics","$timeout","gdriveDlg"];

},{}],"/home/node/app/assets/js/dashboard/dashboard.component.js":[function(require,module,exports){
"use strict";function dashboardComponent(){return{controller:DashboardController,controllerAs:"$ctrl1",bindToController:!0}}function DashboardController(e,o,r,n,t,d,l,a,s,i,c,f,u){var p,g=this;function h(e,o){var r;_.assign(g,e,o),e.selectedFolder&&e.selectedFolder.folder&&(r=e.selectedFolder.folder,d.worksheets(r.folder.id).success(function(e){e&&e.worksheets||((e={}).worksheets=[]),t.dispatch({type:"FOLDER_WORKSHEETS_LOAD",payload:e.worksheets})}).error(function(e){t.dispatch({type:"FOLDER_WORKSHEETS_FAIL",payload:e.error})}),function(e){d.members(e.folder.id).success(function(e){!function(e){var o;g.loggedInUser&&g.loggedInUser.id&&(angular.forEach(e.users,function(e,r){e.id===g.loggedInUser.id&&(o=r)}),null==o||isNaN(o)||e.users.splice(o,1));e.users.sort(function(e,o){return e.firstname&&o.firstname?e.firstname<o.firstname?-1:e.firstname>o.firstname?1:0:e.firstname&&!o.firstname?-1:!e.firstname&&o.firstname?1:e.username<o.username?-1:e.username>o.username?1:0}),g.loggedInUser&&g.loggedInUser.id&&!isNaN(o)&&(g.loggedInUser.isLoggedIn=!0,e.users.unshift(g.loggedInUser))}(e),t.dispatch({type:"FOLDER_USERS_LOAD",payload:e.users})}).error(function(e){t.dispatch({type:"FOLDER_USERS_FAIL",payload:e.error})})}(e.selectedFolder.folder))}function m(e){t.dispatch({type:"FOLDER_LOADED",payload:e.folders}),g.organizationToken&&(e.folders&&e.folders.length?f.token||g.openSelectedFolderUrl(e.folders[0].token):g.openNoWorksheetView()),f.token&&t.dispatch({type:"SELECT_FOLDER_BY_TOKEN",payload:f.token})}g.expandedTreeNodes=[],f.orgToken&&(g.organizationToken=f.orgToken),g.onFolderAdded=function(e){l.eventTrack((e.inFolderView,"sub-folder"),{category:"dashboard",label:(e.inFolderView,"sub-folder")}),t.dispatch(function(e){var o=void 0;e.inFolderView&&(o=g.selectedFolder&&g.selectedFolder.folder&&g.selectedFolder.folder.folder.id?g.selectedFolder.folder.folder.id:void 0);return function(n){return d.create({name:e.name},o,g.organizationToken).success(function(e){n({type:"NEW_FOLDER",payload:e.folder}),r(function(){g.organizationToken&&c.current&&"orgview.noworksheet"==c.current.name&&g.openSelectedFolderUrl(e.folder.token)},0),o&&g.onFolderToggle(o,!0)}).error(function(o){n({type:"FAIL_CREATING_FOLDER",payload:{error:o,folderName:e.name}})})}}(e))},g.onFolderToggle=function(e,o){o?g.expandedTreeNodes.indexOf(e)<0&&g.expandedTreeNodes.push(e):g.expandedTreeNodes.indexOf(e)>=0&&g.expandedTreeNodes.splice(g.expandedTreeNodes.indexOf(e),1);t.dispatch({type:"TOGGLE_FOLDER",payload:{folderId:e,isExpand:o}})},g.addMember=function(e,o,r){l.eventTrack("share-folder-dialog",{category:"dashboard-folder",label:"Open share folder dialog",folder:o.folder.id});var n=angular.element(document.body),r=r;a.show({parent:n,targetEvent:e,templateUrl:"/js/dashboard/folder/new-collaborator.dialog.html",locals:{isAdd:r,userFolder:o},controller:AddMemberDialogController,controllerAs:"$ctrl"}).then(function(e){null!=e&&e.email&&(l.eventTrack("share-folder",{category:"dashboard-folder",label:"Share folder",folder:o.folder.id}),function(e,o){t.dispatch(function(e,o){return function(r){return d.inviteUser(e,o).success(function(e){var n;n={bottom:!0,top:!1,left:!1,right:!0},s.show({template:"<md-toast class='add-colaborator-toast'><span flex>Succesfully added to the folder!</span></md-toast>",hideDelay:5e3,position:Object.keys(n).filter(function(e){return n[e]}).join(" ")}),r({type:"NEW_COLLABORATOR",payload:{user:e.user,folderId:o}})}).error(function(e){e.error&&"InvalidFolderShare"==e.error.name?console.log("Suppress fail sharing",e):(a.show({parent:angular.element(document.body),templateUrl:"/js/dashboard/folder/collaborator-fail.dialog.html",controller:openCollaboratorFailDialogController,controllerAs:"$ctrl"}),r({type:"FAIL_ADDING_COLLABORATOR",payload:e.error}))})}}(e.email,o))}(e,o.folder.id))})},g.getExpandedTreeNodes=function e(o){angular.forEach(o,function(o,r){o.expanded&&o.folder&&g.expandedTreeNodes.push(o.folder.id),o.nodes&&o.nodes.length&&e(o.nodes)})},g.openSelectedFolderUrl=function(e){t.dispatch({type:"SELECT_FOLDER_BY_TOKEN",payload:e}),f.orgToken?c.go("resources.orgview.folderview",{orgToken:f.orgToken,token:e}):c.go("resources.worksheets.folderview",{token:e})},g.openNoWorksheetView=function(){c.go("resources.orgview.noworksheet",{orgToken:f.orgToken})},p=t.connect(function(e){return{selectedFolder:e.dashboard.selectedFolder}},{})(h),e.$on("$destroy",p),g.organizationToken?u.getFolders(g.organizationToken,function(e){m(e.data)},function(e){t.dispatch({type:"FOLDER_LOAD_FAIL",payload:e.error})}):d.userFolders(g.organizationToken).success(function(e){m(e)}).error(function(e){t.dispatch({type:"FOLDER_LOAD_FAIL",payload:e.error})}),e.$on("noworksheet:open",function(e){g.openNoWorksheetView()}),e.$on("folderopen:open",function(e,o){g.openSelectedFolderUrl(o)})}function AddMemberDialogController(e,o,r,n,t){var d=this;d.closeDialog=function(){o.cancel()},d.isAdd=r,d.userFolder=n,d.share=function(){if(e.collaboratorForm.$invalid)return;o.hide({email:d.collaborator})},d.folderLink=function(){return t.location.origin+"/viewfolder/"+d.userFolder.token},d.collaboratorModified=function(e){13===e.keyCode&&d.share()}}function openCollaboratorFailDialogController(e,o){this.closeDialog=function(){o.cancel()}}openCollaboratorFailDialogController.$inject=["$scope","$mdDialog"],AddMemberDialogController.$inject=["$scope","$mdDialog","isAdd","userFolder","$window"],DashboardController.$inject=["$scope","$attrs","$timeout","$rootScope","$ngRedux","Folders","$analytics","$mdDialog","$mdToast","$location","$state","$stateParams","Organization"],angular.module("wizer.dashboard").directive("dashboardComponent",dashboardComponent),DashboardController.$inject=["$scope","$attrs","$timeout","$rootScope","$ngRedux","Folders","$analytics","$mdDialog","$mdToast","$location","$state","$stateParams","Organization"],AddMemberDialogController.$inject=["$scope","$mdDialog","isAdd","userFolder","$window"],openCollaboratorFailDialogController.$inject=["$scope","$mdDialog"];

},{}],"/home/node/app/assets/js/dashboard/dashboard.module.js":[function(require,module,exports){
"use strict";var _ngRedux=_interopRequireDefault(require("ng-redux"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}angular.module("wizer.dashboard",[_ngRedux.default,require("angular-material"),"wizer.reducers","wizer.worksheet","wizer.common"]);

},{"angular-material":false,"ng-redux":false}],"/home/node/app/assets/js/dashboard/dashboard.worksheet.js":[function(require,module,exports){
"use strict";function dashboardWorksheetComponent(){return{templateUrl:"/js/dashboard/dashboard.worksheet.html",controller:dashboardWorksheetController,bindings:{worksheet:"=",covers:"=",userProfile:"=",folders:"="}}}function dashboardWorksheetController(e,t,o,s,r,a,n,i,h,c,d){var k=this;k.getUserName=function(){if(k.worksheet.user)return k.worksheet.user.firstname&&k.worksheet.user.lastname?k.worksheet.user.firstname+" "+k.worksheet.user.lastname:k.worksheet.user.firstname?k.worksheet.user.firstname:k.worksheet.user.username},k.showBottomSheet=function(){k.worksheet.showBottomSheet=!0},k.hideBottomSheet=function(){delete k.worksheet.showBottomSheet},k.openMenu=function(e){k.worksheet.publications||(k.worksheet.showPublicationLoading=!0,t.getData(k.worksheet.id).then(function(e){k.worksheet.publications=e,delete k.worksheet.showPublicationLoading},function(e){k.worksheet.publications=[],delete k.worksheet.showPublicationLoading}));o(function(){e.open()},10),k.activeEvent=h.onclick=function(t){e.close(),delete k.activeEvent},o(function(){$($("md-menu-content md-menu-item")[0]).find("button").blur()},600)},k.openPublicationSubmenu=function(e,t){t.stopPropagation(),e.open()},k.openAutoFeddbackMenu=function(e,t){t.stopPropagation(),e.open()},k.openVersionMenu=function(e,t){t.stopPropagation(),e.open()},k.changePublicationStatus=function(e){k.changeStatusTimeout=void 0,s.eventTrack("ws-pub-status-"+e.status,{category:"dashboard",label:"Change publication status to "+e.status}),r.editPublication(e,function(e){},function(t){console.log("fail to change publication status- ",t),e.status="active"==e.status?"disabled":"active"})},k.onChangePublicationStatusMenuClick=function(e){if(k.changeStatusTimeout)return;k.changeStatusTimeout=o(function(){e.status="active"==e.status?"disabled":"active",k.changePublicationStatus(e)},0)},k.onChangePublicationStatus=function(e){if(k.changeStatusTimeout)return;k.changeStatusTimeout=o(function(){k.changePublicationStatus(e)},0)},k.changeAutoFeedback=function(){k.worksheet.autoFeedback=!k.worksheet.autoFeedback,!0===k.worksheet.autoFeedback?(s.eventTrack("assign-auto-feedback-on",{category:"dashboard",label:"Click auto-feedback on"}),r.autoFeedbackOn({token:k.worksheet.token},function(){},function(e){console.log("Fail setting auto-feedback. %s",e),k.worksheet.autoFeedback=!1})):(s.eventTrack("assign-auto-feedback-off",{category:"dashboard",label:"Click auto-feedback off"}),r.autoFeedbackOff({token:k.worksheet.token},function(){},function(e){console.log("Fail setting auto-feedback. %s",e),k.worksheet.autoFeedback=!0}))},k.onChangeAutoFeedbackModel=function(){k.worksheet.autoFeedback=!k.worksheet.autoFeedback},k.changeType=function(){function e(e){n.show({template:'<md-toast class="copy-to-clipboard-popup dashboard-changetype-popup"><span flex>'.concat(e,"</span></md-toast>"),hideDelay:3e3,position:k.getToastPosition()})}k.worksheet.isPublic?a.private(k.worksheet.token).success(function(){delete k.worksheet.isPublic,e("Worksheet has been removed from the community gallery.")}).error(function(t){var o="We were unable to make this worksheet private.";"error"===t.res&&t.error&&(o=t.error),e(o)}):a.public(k.worksheet.token).success(function(){k.worksheet.isPublic=!0,e("Thanks for sharing! Worksheet is now available to all teachers on the community gallery.")});s.eventTrack("dashboard-worksheet-accesstype",{category:"dashboard",label:"Changed worksheet access type"})},k.copyWorksheet=function(t){k.isCopyingWorksheet=!0,s.eventTrack("dashboard-duplicate-worksheet",{category:"dashboard",label:"Duplicate worksheet"}),i.copy(t,function(t){delete t.data.newWs.userId,t.data.newWs.user=k.userProfile,e.$emit("copied:worksheet",t.data.newWs),o(function(){delete k.isCopyingWorksheet},300)},function(e){delete k.isCopyingWorksheet,console.log("fail copying worksheet: %s",e)})},k.showStudentResponse=function(){h.location.href="/assess/worksheet/"+k.worksheet.token,s.eventTrack("dashboard-view-response",{category:"dashboard",label:"View student response"})},k.getWorksheetLink=function(){var e=d.defer();k.worksheet.viewLink?e.resolve(k.worksheet.viewLink):i.getViewpublicationToken(k.worksheet.id,k.worksheet.user.id,k.worksheet.lastRev,function(t){k.worksheet.viewLink=h.location.origin+"/preview/"+t.data.viewToken,e.resolve(k.worksheet.viewLink)},function(t){console.log("failed to get view token",t),e.reject()});return e.promise},k.openCopyLinkDialog=function(e){var t=angular.element(document.body);k.getWorksheetLink().then(function(r){var a={parent:t,targetEvent:e,templateUrl:"/templates/copy-preview-link-dialog.html",locals:{wslink:r},controller:["$scope","$mdDialog","wslink",function(e,t,o){e.link=o,e.closeDialog=function(){t.hide()}}]};c.show(a),o(function(){$('[aria-label="link"]').select()},700),s.eventTrack("dashboard-copy-worksheet-link",{category:"dashboard",label:"Copied worksheet link"})})},k.shareEdmodo=function(){var e="Use this Wizer.Me​ interactive worksheet "+encodeURIComponent(k.worksheet.name?'"'+k.worksheet.name+'" ':"")+"with your students or create your own.",t="/dashboard/share/"+k.worksheet.id+"/"+k.worksheet.user.id+"/"+k.worksheet.lastRev+"?type=edmodo&description="+e+"&edmodo_share=1&edmodo_source=95015059";s.eventTrack("dashboard-share-edmodo",{category:"dashboard",label:"Share worksheet in edmodo"}),window.open(t,"_blank")},k.sharePinterest=function(){var e=k.getThumbnailImage(k.worksheet),t="Use this Wizer.Me​ interactive worksheet "+encodeURIComponent(k.worksheet.name?'"'+k.worksheet.name+'" ':"")+"with your students or create your own.",o="/dashboard/share/"+k.worksheet.id+"/"+k.worksheet.user.id+"/"+k.worksheet.lastRev+"?type=pinterest&description="+t+"&media="+encodeURIComponent(e);s.eventTrack("dashboard-share-pinterest",{category:"dashboard",label:"Share worksheet in pinterest"}),window.open(o,"_blank")},k.pinWorksheet=function(e){e.stopPropagation();var t=k.getThumbnailImage(k.worksheet),o="Use this Wizer.Me​ interactive worksheet "+encodeURIComponent(k.worksheet.name?'"'+k.worksheet.name+'" ':"")+".",r="/dashboard/share/"+k.worksheet.id+"/"+k.worksheet.user.id+"/"+k.worksheet.lastRev+"?type=pinterest&description="+o+"&media="+encodeURIComponent(t);s.eventTrack("dashboard-share-pinit",{category:"dashboard",label:"Pin worksheet from dashboard"}),window.open(r,"_blank")},k.shareFacebook=function(){var e="Use this @Wizer.Me​ interactive worksheet "+encodeURIComponent(k.worksheet.name?'"'+k.worksheet.name+'" ':"")+"with your students or create your own!",t=k.getThumbnailImage(k.worksheet),o="/dashboard/share/"+k.worksheet.id+"/"+k.worksheet.user.id+"/"+k.worksheet.lastRev+"?type=facebook&description="+e+"&media="+encodeURIComponent(t)+"&caption="+encodeURIComponent("Wizer.me")+"&hashTags=EdTech";s.eventTrack("dashboard-share-facebook",{category:"dashboard",label:"Share worksheet in facebook"}),window.open(o,"_blank")},k.shareTwitter=function(){var e="Use @wizerme interactive worksheet "+encodeURIComponent(k.worksheet.name?'"'+k.worksheet.name+'" ':"")+"with your students or create your own!",t="/dashboard/share/"+k.worksheet.id+"/"+k.worksheet.user.id+"/"+k.worksheet.lastRev+"?type=twitter&description="+e+"&hashTags=Worksheet,EdTech";s.eventTrack("dashboard-share-twitter",{category:"dashboard",label:"Share worksheet in twitter"}),window.open(t,"_blank")},k.getThumbnailImage=function(){var e;if(!k.worksheet)return;if(k.worksheet.thumbnail&&k.worksheet.thumbnail.length>0)return k.worksheet.thumbnail.replace("s3.amazonaws.com/","");k.worksheet&&k.worksheet.style&&k.worksheet.style.background&&((e=k.covers[k.worksheet.style.background.name])||(e=k.worksheet.style.background));var t="";t=e&&e.configurable&&k.worksheet.style.images&&k.worksheet.style.images[0]&&k.worksheet.style.images[0].path?k.worksheet.style.images[0].path:e&&e.thumbnail?e.thumbnail:e&&e.path?e.path:e;return t&&t.length?t.replace("s3.amazonaws.com/",""):""},k.openDashboardWorksheet=function(){k.worksheet.user&&k.userProfile.id!==k.worksheet.user.id?k.previewWorksheet():k.editWorksheet()},k.useDashboardWorksheet=function(e){k.worksheet.user&&k.userProfile.id===k.worksheet.user.id?k.editWorksheet(e):k.copyWorksheet(k.worksheet.token)},k.editWorksheet=function(e){s.eventTrack("dashboard-edit-worksheet",{category:"dashboard",label:(e?"Preview":"Edit")+" worksheet"}),o(function(){h.location.href="/editor/"+(e?"preview/":"")+k.worksheet.token},300)},k.previewWorksheetVersion=function(){s.eventTrack("preview-worksheet-version",{category:"dashboard",label:"Preview worksheet"}),k.previewWorksheet()},k.previewWorksheet=function(){var e="/dashboard/preview/"+k.worksheet.id+"/"+k.worksheet.user.id+"/"+k.worksheet.lastRev+"?type=preview";s.eventTrack("dashboard-preview-worksheet",{category:"dashboard",label:"Preview worksheet"}),o(function(){window.open(e,"_self")},300)},k.deleteWorksheet=function(t){var o=c.confirm().title("Are you sure you want to delete this worksheet?").htmlContent("<br/>Your students will still be able to access their existing solutions<br/><br/><b>THIS CANNOT BE UNDONE</b>").targetEvent(t).ok("YES, DELETE WORKSHEET").cancel("NO, CANCEL AND GO BACK");c.show(o).then(function(){i.delete(k.worksheet.token,function(t){e.$emit("delete:worksheet",k.worksheet)},function(e){console.log("fail deleting worksheet: %s",e)}),s.eventTrack("dashboard-delete-worksheet",{category:"dashboard",label:"Delete worksheet"})})},k.getToastPosition=function(){return Object.keys(k.toastPosition).filter(function(e){return k.toastPosition[e]}).join(" ")},k.toastPosition={bottom:!1,top:!0,left:!1,right:!0}}angular.module("wizer.dashboard").component("dashbaordWorksheet",dashboardWorksheetComponent()),dashboardWorksheetController.$inject=["$scope","Publications","$timeout","$analytics","Editor","WSPublications","$mdToast","Dashboard","$window","$mdDialog","$q"];

},{}],"/home/node/app/assets/js/dashboard/folder/collaborators.component.js":[function(require,module,exports){
"use strict";function collaboratorsComponent(){return{templateUrl:"/js/dashboard/folder/collaborators.component.html",controller:CollaboratorsController,bindings:{onAddMember:"=",userProfile:"<"}}}function CollaboratorsController(o,r,e,n,l,t,a){var s,c=this;c.colors=["#F69B96","#FDB53F","#FFE969","#88BC57","#6ECCC8"],c.openCollaboratorMenu=function(o,r){o.open()},c.userName=function(o){if(o.firstname&&o.lastname)return o.firstname+" "+o.lastname;return o.firstname?o.firstname:o.username},c.closeMemberMenu=function(){n.close()},s=r.connect(function(o){return{collaborators:o.dashboard.selectedFolder.collaborators,folder:o.dashboard.selectedFolder.folder}},{})(c),o.$on("$destroy",s)}angular.module("wizer.dashboard").component("collaboratorsComponent",collaboratorsComponent()),CollaboratorsController.$inject=["$scope","$ngRedux","$mdDialog","$mdMenu","$timeout","Folders","$analytics"];

},{}],"/home/node/app/assets/js/dashboard/folder/folder-details.component.js":[function(require,module,exports){
"use strict";function folderDetailsComponent(){return{templateUrl:"/js/dashboard/folder/folder-details.component.html",controller:FolderViewDetailsController,bindings:{onFolderOpen:"=",onFolderAdded:"=",onDescriptionChange:"=",addWorksheet:"=",onShowAllWorksheets:"=",selectedFolder:"<",worksheets:"<",readonly:"="}}}function FolderViewDetailsController(e,o){var l=this;l.onFolderClick=function(e){o.eventTrack("open-folder",{category:"dashboard-view",label:"Open folder"}),l.onFolderOpen(e)},l.$onChanges=function(e){e.selectedFolder&&e.selectedFolder.currentValue&&(e.selectedFolder.currentValue.folder?l.newDescription=e.selectedFolder.currentValue.folder.folder.description:l.newDescription=null)}}angular.module("wizer.dashboard").component("folderDetailsComponent",folderDetailsComponent()),FolderViewDetailsController.$inject=["$scope","$analytics"];

},{}],"/home/node/app/assets/js/dashboard/folder/folder-list.component.js":[function(require,module,exports){
"use strict";function folderlistComponent(){return{templateUrl:"/js/dashboard/folder/folder-list.component.html",controller:FolderlistController,bindings:{organizationData:"=",folders:"=",selectedFolder:"=",isShowFolderMenu:"=",onFolderDelete:"=",onFolderOpen:"=",onFolderRename:"=",onFolderToggle:"=",searchFolder:"=",markFolderShared:"=",expandedTreeNodes:"=",closeSidenav:"=",onAddMember:"=",userProfile:"<"}}}function FolderlistController(e){}angular.module("wizer.dashboard").component("folderListComponent",folderlistComponent()),FolderlistController.$inject=["$scope"];

},{}],"/home/node/app/assets/js/dashboard/folder/folder-node.component.js":[function(require,module,exports){
"use strict";function folderTreeNodeComponent(){return{templateUrl:"/js/dashboard/folder/folder-node.component.html",controller:FolderTreeNodeController,bindings:{organizationData:"=",folderData:"<",selectedFolder:"=",isShowFolderMenu:"=",onFolderOpen:"=",onFolderDelete:"=",onFolderRename:"=",onFolderToggle:"=",isSubFolderShare:"=",searchFolder:"=",markFolderShared:"=",expandedTreeNodes:"=",closeSidenav:"=",onAddMember:"=",userProfile:"<"}}}function FolderTreeNodeController(e,o,l,r,d,a,n){var t=this;function f(e,o,r,d){var a=angular.element(document.body),n=t.folderData.folder;l.show({parent:a,targetEvent:e,templateUrl:r,locals:{folder:n},controller:c,controllerAs:"$ctrl"}).then(d)}function c(e,o,l){this.folder=l,this.closeDialog=function(){o.cancel()},this.confirm=function(){o.hide()}}function i(e,o,l){var r=this;r.folderName=angular.copy(l),r.closeDialog=function(){o.cancel()},r.saveFolderName=function(){o.hide(r.folderName)},r.folderNameModified=function(e){13===e.keyCode&&r.saveFolderName()}}t.openMenu=function(e,o){o.stopPropagation(),e.open()},t.deleteFolder=function(e,o){n.eventTrack("delete-folder-dialog",{category:"dashboard",label:"Open Delete folder dialog"}),f(e,o,"/js/dashboard/folder/folder-delete.dialog.html",function(){n.eventTrack("delete-folder",{category:"dashboard",label:"Delete folder"}),t.checkDeletedFolderOpen(o)})},t.leaveFolder=function(e,o){n.eventTrack("leave-folder-dialog",{category:"dashboard",label:"Open leave folder dialog"}),f(e,o,"/js/dashboard/folder/folder-leave.dialog.html",function(){n.eventTrack("leave-folder",{category:"dashboard",label:"Leave folder"}),t.checkDeletedFolderOpen(o)})},t.renameFolder=function(e){n.eventTrack("rename-folder-dialog",{category:"dashboard",label:"Open rename folder dialog"});var o=angular.element(document.body),r=t.folderData.folder;l.show({parent:o,targetEvent:e,templateUrl:"/js/dashboard/folder/folder-rename.dialog.html",locals:{folderName:r.name},controller:i,controllerAs:"$ctrl"}).then(function(e){n.eventTrack("rename-folder",{category:"dashboard",label:"Rename folder"}),t.onFolderRename(t.folderData,e)})},t.checkDeletedFolderOpen=function(e){if(t.selectedFolder.folder&&t.selectedFolder.folder.folder&&t.selectedFolder.folder.folder.id&&t.selectedFolder.folder.folder.id==e.folder.id){var o={};if(null!=e.parent&&null!=e.parent){var l=t.searchFolder(e.parent);l&&(o.parent=l)}t.onFolderDelete(e,o)}else t.onFolderDelete(e)},t.onFolderNodeOpen=function(){t.closeSidenav&&t.closeSidenav();n.eventTrack("open-folder",{category:"dashboard",label:"Open folder"}),t.onFolderOpen(t.folderData)},t.toggleFolder=function(e){e.stopPropagation();var o=t.expandedTreeNodes.indexOf(t.folderData.folder.id)>=0;n.eventTrack("toggle-folder-"+o,{category:"dashboard",label:"Toggle sidenav folder open-"+o}),t.onFolderToggle(t.folderData.folder.id,!o)},t.isExpended=function(){return t.expandedTreeNodes.indexOf(t.folderData.folder.id)>=0},("shared"==t.folderData.folder.state||t.isSubFolderShare)&&t.markFolderShared&&t.markFolderShared(t.folderData.folder.id),c.$inject=["$scope","$mdDialog","folder"],i.$inject=["$scope","$mdDialog","folderName"]}angular.module("wizer.dashboard").component("folderTreeNodeComponent",folderTreeNodeComponent()),FolderTreeNodeController.$inject=["$scope","$mdMenu","$mdDialog","$timeout","$ngRedux","$mdSidenav","$analytics"];

},{}],"/home/node/app/assets/js/dashboard/folder/folder.component.js":[function(require,module,exports){
"use strict";function folderComponent(){return{restrict:"EA",controller:FolderController,controllerAs:"$ctrl2",bindToController:!0}}function FolderController(e,o,r,t,n,l,s,d,a){function i(e){e&&(n.orgToken?t.go("resources.orgview.folderview",{orgToken:n.orgToken,token:e.token}):t.go("resources.worksheets.folderview",e),r.dispatch({type:"SELECT_FOLDER",payload:e}))}this.onFolderOpen=i,this.onFolderDelete=function(o,t){r.dispatch(function(o,r){var t=o.folder.id;return function(o){return l.deleteUserFolder(t).success(function(n){e.$emit("folderWorksheets:remove",n.deleted.worksheets),r&&r.parent?i(r.parent):e.$emit("allworksheet:open"),o({type:"DELETED_FOLDER",payload:{folder:t,worksheets:n.deleted.worksheets}})}).error(function(e){o({type:"FAIL_DELETING_FOLDER",payload:{error:e,folderName:t}})})}}(o,t))},this.onDescriptionChange=function(e,o){d.eventTrack("change-folder-description",{category:"dashboard-folder",label:"Change folder description"}),r.dispatch(function(e,o){return function(r){return l.changeDescription(e,o).success(function(e){r({type:"FOLDER_CHANGE_DESCRIPTION",payload:{folder:e.folder}})}).error(function(e){r({type:"FOLDER_CHANGE_DESCRIPTION_FAILED",payload:e})})}}(e.folder.id,o))},this.loggedInUser=s.getData()}FolderController.$inject=["$scope","$rootScope","$ngRedux","$state","$stateParams","Folders","LoggedinUserData","$analytics","$location"],angular.module("wizer.dashboard").directive("folderComponent",folderComponent),FolderController.$inject=["$scope","$rootScope","$ngRedux","$state","$stateParams","Folders","LoggedinUserData","$analytics","$location"];

},{}],"/home/node/app/assets/js/dashboard/folder/folder.service.js":[function(require,module,exports){
"use strict";function folders(e){return{create:function(r,o,t){var d="/dashboard/folder/create";return t&&(d="/organization/"+t+"/addfolder"),e.put(d,{folder:r,parent:o})},userFolders:function(r){return r?e.get("/dashboard/folder/user",{params:{token:r}}):e.get("/dashboard/folder/user")},viewFolders:function(r){return e.post("/viewfolder",{token:r})},members:function(r){return e.post("/dashboard/folder/users",{folder:r})},worksheets:function(r){return e.post("/dashboard/folder/worksheets",{folder:r})},inviteUser:function(r,o){return e.post("/dashboard/folder/share",{user:r,folder:o})},moveWorksheet:function(r,o,t){return e.post("/worksheet/move",{worksheet:r,fromFolder:o,toFolder:t})},deleteUserFolder:function(r){return e.post("/dashboard/folder/delete",{folder:r})},renameFolder:function(r,o){return e.post("/dashboard/folder/rename",{folder:r,name:o})},changeDescription:function(r,o){return e.post("/dashboard/folder/description",{folder:r,description:o})}}}folders.$inject=["$http"],angular.module("wizer.dashboard").factory("Folders",folders),folders.$inject=["$http"];

},{}],"/home/node/app/assets/js/dashboard/folder/index.js":[function(require,module,exports){
"use strict";require("./collaborators.component"),require("./folder-details.component"),require("./folder-list.component"),require("./folder-node.component"),require("./folder.component"),require("./folder.service"),require("./join-folder.component"),require("./new-folder.component"),require("./ro-folderview.component"),require("./shared-folder-view.component");

},{"./collaborators.component":"/home/node/app/assets/js/dashboard/folder/collaborators.component.js","./folder-details.component":"/home/node/app/assets/js/dashboard/folder/folder-details.component.js","./folder-list.component":"/home/node/app/assets/js/dashboard/folder/folder-list.component.js","./folder-node.component":"/home/node/app/assets/js/dashboard/folder/folder-node.component.js","./folder.component":"/home/node/app/assets/js/dashboard/folder/folder.component.js","./folder.service":"/home/node/app/assets/js/dashboard/folder/folder.service.js","./join-folder.component":"/home/node/app/assets/js/dashboard/folder/join-folder.component.js","./new-folder.component":"/home/node/app/assets/js/dashboard/folder/new-folder.component.js","./ro-folderview.component":"/home/node/app/assets/js/dashboard/folder/ro-folderview.component.js","./shared-folder-view.component":"/home/node/app/assets/js/dashboard/folder/shared-folder-view.component.js"}],"/home/node/app/assets/js/dashboard/folder/join-folder.component.js":[function(require,module,exports){
"use strict";function joinFolderComponent(){return{templateUrl:"/js/dashboard/folder/join-folder.component.html",controller:JoinFolderController,bindings:{onJoinFolder:"="}}}function JoinFolderController(o){}angular.module("wizer.dashboard").component("joinFolder",joinFolderComponent()),JoinFolderController.$inject=["$scope"];

},{}],"/home/node/app/assets/js/dashboard/folder/new-folder.component.js":[function(require,module,exports){
"use strict";function newFolderComponent(){return{templateUrl:"/js/dashboard/folder/new-folder.component.html",controller:NewFolderController,bindings:{onFolderAdded:"=",inFolderView:"=",inEmptyFolderView:"="}}}function NewFolderController(e,o,l,n){var r=this;r.addFolder=function(e){n.eventTrack("open-new-folder-dialog",{category:(r.inFolderView,"-view"),label:"Open dialog to add folder"});var l=angular.element(document.body);o.show({parent:l,targetEvent:e,templateUrl:"/js/dashboard/folder/new-folder.dialog.html",controller:DialogController,controllerAs:"$ctrl"}).then(function(e){null!=e&&r.onFolderAdded({name:e,inFolderView:r.inFolderView})})}}function DialogController(e,o){var l=this;l.closeDialog=function(){o.cancel()},l.add=function(){o.hide(l.folderName)},l.folderNameModified=function(e){13===e.keyCode&&l.add()}}angular.module("wizer.dashboard").component("newFolderComponent",newFolderComponent()),NewFolderController.$inject=["$scope","$mdDialog","$timeout","$analytics"],DialogController.$inject=["$scope","$mdDialog"];

},{}],"/home/node/app/assets/js/dashboard/folder/ro-folderview.component.js":[function(require,module,exports){
"use strict";function roFolderViewComponent(){return{templateUrl:"/js/dashboard/folder/ro-folderview.component.html",controller:ROFolderviewController,bindings:{selectedFolder:"<",folderWorksheets:"<",covers:"<"}}}function ROFolderviewController(e,o,r,l,n,t,d,s){this.onFolderOpen=function(e){if(d.eventTrack("clk-open-subfolder",{category:"view-folder",label:"Click to open sub folder"}),!e)return;n.orgToken?l.go("resources.orgview.folderview",{orgToken:n.orgToken,token:e.token}):l.go("resources.worksheets.folderview",e);r.dispatch({type:"SELECT_FOLDER",payload:e})}}angular.module("wizer.dashboard").component("roFolderView",roFolderViewComponent()),ROFolderviewController.$inject=["$scope","$rootScope","$ngRedux","$state","$stateParams","Folders","$analytics","$location"];

},{}],"/home/node/app/assets/js/dashboard/folder/shared-folder-view.component.js":[function(require,module,exports){
"use strict";function sharedFolderViewComponent(){return{templateUrl:"/js/dashboard/folder/shared-folder-view.component.html",controller:SharedFolderViewController,transclude:!0,bindings:{folderToken:"="}}}function SharedFolderViewController(e,o,d,r,l,s,t,n,a,i,c,f,h,p){var F,u,w=this;function k(e,o){var s;!e.selectedFolder||!e.selectedFolder.folder||w.selectedFolder&&e.selectedFolder.folder==w.selectedFolder.folder||(l.eventTrack("view-folder-"+e.selectedFolder.folder.folder.id,{category:"view-folder-pv",label:"View shared folder",token:e.selectedFolder.folder.token,folder:e.selectedFolder.folder.folder.id}),s=e.selectedFolder.folder,r.worksheets(s.folder.id).success(function(e){e&&e.worksheets||((e={}).worksheets=[]),d.dispatch({type:"FOLDER_WORKSHEETS_LOAD",payload:e.worksheets})}).error(function(e){d.dispatch({type:"FOLDER_WORKSHEETS_FAIL",payload:e.error})})),_.assign(w,e,o),e.folderWorksheets&&(w.folderWorksheets=h.filterWorksheetVersion(e.folderWorksheets))}w.covers={},w.onFolderToggle=function(e,o){o?w.expandedTreeNodes.indexOf(e)<0&&w.expandedTreeNodes.push(e):w.expandedTreeNodes.indexOf(e)>=0&&w.expandedTreeNodes.splice(w.expandedTreeNodes.indexOf(e),1);d.dispatch({type:"TOGGLE_FOLDER",payload:{folderId:e,isExpand:o}})},w.onJoinFolder=function(){l.eventTrack("clk-join-folder",{category:"view-folder",label:"Click to join a folder"}),f(function(){c.location.href="/joinfolder/"+w.folderToken},300)},w.onCloseSidenav=function(){!n("dashboard-left").isOpen()&&n("dashboard-left").isLockedOpen()||n("dashboard-left").toggle().then(function(){})},F=d.connect(function(e){return{folders:e.dashboard.folders,selectedFolder:e.dashboard.selectedFolder,folderWorksheets:e.dashboard.selectedFolder.worksheets}},{})(k),e.$on("$destroy",F),r.viewFolders(w.folderToken).success(function(e){d.dispatch({type:"FOLDER_LOADED",payload:e.folders}),a.go("ro-folderview",e.folders[0]),d.dispatch({type:"SELECT_FOLDER",payload:e.folders[0]})}).error(function(e){d.dispatch({type:"FOLDER_LOAD_FAIL",payload:e.error})}),p.list().success(function(e){e.covers.forEach(function(e){w.covers[e.name]=e})}).error(function(e){console.log("fail to load covers")}),u=o.$on("$locationChangeSuccess",function(e,o,r){var l=o.match(/(\/)([a-zA-Z\-0-9]*$)/)[2];d.dispatch({type:"SELECT_FOLDER_BY_TOKEN",payload:l})}),o.$on("$destroy",u)}angular.module("wizer.dashboard").component("sharedFolderView",sharedFolderViewComponent()),SharedFolderViewController.$inject=["$scope","$rootScope","$ngRedux","Folders","$analytics","$mdDialog","$mdToast","$mdSidenav","$state","$stateParams","$window","$timeout","wsVersionFilter","Covers"];

},{}],"/home/node/app/assets/js/dashboard/index.js":[function(require,module,exports){
"use strict";require("./dashboard.module"),require("./all-worksheets.component"),require("./dashboard-sidenav.component"),require("./dashboard.component"),require("./dashboard.worksheet"),require("./move-ws.component"),require("./ws-versions-filter.service"),require("./folder");

},{"./all-worksheets.component":"/home/node/app/assets/js/dashboard/all-worksheets.component.js","./dashboard-sidenav.component":"/home/node/app/assets/js/dashboard/dashboard-sidenav.component.js","./dashboard.component":"/home/node/app/assets/js/dashboard/dashboard.component.js","./dashboard.module":"/home/node/app/assets/js/dashboard/dashboard.module.js","./dashboard.worksheet":"/home/node/app/assets/js/dashboard/dashboard.worksheet.js","./folder":"/home/node/app/assets/js/dashboard/folder/index.js","./move-ws.component":"/home/node/app/assets/js/dashboard/move-ws.component.js","./ws-versions-filter.service":"/home/node/app/assets/js/dashboard/ws-versions-filter.service.js"}],"/home/node/app/assets/js/dashboard/move-ws.component.js":[function(require,module,exports){
"use strict";function moveWsComponent(){return{restrict:"EA",controller:MoveWSController,controllerAs:"$ctrl2",bindToController:!0}}function MoveWSController(e,o,r,l,n){var d,t=this;t.onOpenMoveWSDialog=function(d,s){n.eventTrack("move-ws-dialog",{category:"dashboard",label:"Open dialog to move worksheet to folder"});var c=angular.element(document.body);r.show({parent:c,targetEvent:d,templateUrl:"/js/dashboard/move-ws.dialog.html",locals:{folders:t.folders,currentFolder:s.folder},controller:MoveFolderDialogController,controllerAs:"$ctrl"}).then(function(r){r&&(n.eventTrack("move-ws",{category:"dashboard",label:"Move worksheet to folder"}),function(r,n){o.dispatch(function(o,r){return function(n){return l.moveWorksheet(o.id,o.folder,r.folder.id).success(function(o){n({type:"WORKSHEET_MOVED",payload:{worksheet:o.worksheet,folder:r}}),e.$emit("folder:worksheets:moved")}).error(function(e){n({type:"WORKSHEET_MOVE_FAILED",payload:{worksheet:o,folder:r}})})}}(r,n))}(s,r))})},d=o.connect(function(e){return{folders:e.dashboard.folders}},{})(t),e.$on("$destroy",d)}function MoveFolderDialogController(e,o,r,l){var n=this;n.selectedFolder={},n.closeDialog=function(){o.cancel()},n.onFolderClicked=function(e){n.selectedFolder.folder=e},n.onFolderSelected=function(){o.hide(n.selectedFolder.folder)},n.folders=r,n.currentFolder=l,n.onFolderToggle=function(e,o){n.expandedTreeNodes.indexOf(e)>=0?n.expandedTreeNodes.splice(n.expandedTreeNodes.indexOf(e),1):n.expandedTreeNodes.push(e)},n.expandedTreeNodes=[]}MoveFolderDialogController.$inject=["$scope","$mdDialog","folders","currentFolder"],MoveWSController.$inject=["$scope","$ngRedux","$mdDialog","Folders","$analytics"],angular.module("wizer.dashboard").directive("moveWs",moveWsComponent),MoveWSController.$inject=["$scope","$ngRedux","$mdDialog","Folders","$analytics"],MoveFolderDialogController.$inject=["$scope","$mdDialog","folders","currentFolder"];

},{}],"/home/node/app/assets/js/dashboard/ws-versions-filter.service.js":[function(require,module,exports){
"use strict";function wsVersionFilterFactory(r){return{filterWorksheetVersion:function(e,t){t||(t=-1);var n,i=[],o=[];for(var s in angular.forEach(e,function(r,e){o.push(angular.extend({},r))}),n=r("worksheetTreefilter")(o,t)){var a=[],l=[];l=r("worksheetBranchAllWorksheetFilter")(n[s]),(a=r("userWorksheetFilter")(n[s],t)).length||(a=r("parentWorksheetFilter")(n[s])),angular.forEach(a,function(r,e){delete r.child,l.length>1&&(r.version=[]),angular.forEach(l,function(e,t){e.id!=r.id&&(r.version||(r.version=[]),r.version.unshift(e))})}),i=i.concat(a)}return i.sort(function(r,e){return-1*(r.id-e.id)})}}}wsVersionFilterFactory.$inject=["$filter"],angular.module("wizer.dashboard").factory("wsVersionFilter",wsVersionFilterFactory),wsVersionFilterFactory.$inject=["$filter"];

},{}],"/home/node/app/assets/js/editor/assign-worksheet-modal.controller.js":[function(require,module,exports){
"use strict";var _user=_interopRequireDefault(require("../common/helpers/user.helper"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,o,n,a,i,s){try{var r=e[i](s),l=r.value}catch(e){return void o(e)}r.done?t(l):Promise.resolve(l).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,o=arguments;return new Promise(function(n,a){var i=e.apply(t,o);function s(e){asyncGeneratorStep(i,n,a,s,r,"next",e)}function r(e){asyncGeneratorStep(i,n,a,s,r,"throw",e)}s(void 0)})}}var moment=require("moment-timezone");function getRoundedMinuteWithoutTimezoneConsiderations(e){return e?e.format("YYYY-MM-DDTHH:mm:00")+".000Z":e}function keepExactTimeAndDateWhileSettingTimezone(e,t){if(!e)return e;var o=moment(e).toISOString().replace(".000Z","");return moment.tz(o,t)}angular.module("wizer").controller("AssignWorksheetModalCtrl",["modalData","$scope","$timeout","Classroom","$location","$uibModalInstance","$analytics","Editor","Users","WSPublications","$mdToast","$window","$mdDialog","HelpWizardService","GoogleClassroom","newPremiumDlg",function(e,t,o,n,a,i,s,r,l,c,u,m,d,p,g,b){t.userType=e.userType,t.wstoken=e.wstoken,t.userSettings=e.userSettings,t.isPremium=_user.default.isPremium(t.userSettings),t.autoFeedback=!1,t.worksheet=_.cloneDeep(e.worksheet),t.state={autoFeedback:!1,isPublic:!!t.worksheet.isPublic},t.objectName="parent"!==e.userType?"class":"student",t.objectsPlural="parent"!==e.userType?"classes":"students",t.manageObjectsPath="parent"!==e.userType?"/dashboard/classes":"/dashboard/parent/classes",t.emptySelectorLabel="Select ".concat(t.objectName),t.coursePlaceholder={name:t.emptySelectorLabel,token:""},t.selectedCourseToken="",t.showHelp=function(e){var t=p.WIZARD_DATA_ID_MAP.EDITOR,o=p.WIZARD_DATA_ID_MAP["EDITOR.ASSIGN"];p.openHelpWizard(e,t,o)},t.getCourseName=function(e){var o="";return angular.forEach(t.courses,function(t){t.id===e&&(o=t.name)}),o},t.manageClasses=function(){t.isPremium?m.open(t.manageObjectsPath,"_blank"):b.showDialog(t.userProfile,null,"<b>Power-up your worksheets by organizing students into classes</b><br/>Assign tasks easily, manage student answers and save time - all in one place")},t.showPremiumDlg=function(){b.showDialog(t.userProfile,null,"<b>Access control, Shuffle questions, Timer and Assignment Scheduling</b><br/>Join the Wizer Boost plan to unlock advanced assignment settings")},t.manageClassroomsText=function(){return t.courses&&1>=t.courses.length?"Add your first ".concat(t.objectName):"Add ".concat(t.objectsPlural)},t.getPublicationUrl=function(e){return t.publishedLink=a.protocol()+"://"+a.host()+"/learn/"+e.token},t.keyPressEditPublication=function(e){13===e.which&&$(e.currentTarget).blur()},t.cancelClassroomSelection=function(){t.selectedCourseToken=""},t.refreshClassrooms=function(){t.cancelClassroomSelection(),t.coursePlaceholder.name="Refreshing...",t.reloadingClasses=!0,n.loadClassList(function(e){t.initCourses(e.data.classes),t.reloadingClasses=!1,t.coursePlaceholder.name=t.emptySelectorLabel},function(){t.reloadingClasses=!1,t.coursePlaceholder.name=t.emptySelectorLabel})},t.addCoursework=function(e){var o="google-class";if(t.selectedCourseToken){var n="";t.worksheet.name&&(n=t.worksheet.name+"-"),angular.forEach(t.courses,function(e){e.token===t.selectedCourseToken&&(n+=e.name,e.googleCourseData||(o="wizer-class"))});var a={worksheetToken:t.wstoken,type:o,name:n,status:"active",shuffle:!1,classToken:t.selectedCourseToken};t.savePublication(a,e),t.cancelClassroomSelection()}},t.publishWorksheet=function(e){t.selectedPubMethod="link";var o={worksheetToken:t.wstoken,type:t.selectedPubMethod,name:"",status:"active",shuffle:!1};t.savePublication(o,e)},t.savePublication=function(e,n){t.addingPublication=!0,r.publish(e,function(e){e.status_boolean=!0,$('[data-block-name="publications_list"]').animate({scrollTop:$('[data-block-name="publications_list"]')[0].scrollHeight},200),t.pubToken=e.token,t.worksheet.publications.push(e),delete t.addingPublication,o(function(){$('[data-block-name="publications_list_item"]').last().find('[name="assign-publication-edit-mode"]').focus()},500)},function(e){delete t.addingPublication,403===e.status&&"Non premium users can create assignments for public worksheets only."===e.data.error?t.publicWorksheetOrUpgrade(n):403===e.status&&"GoogleClassroomError"===e.data.error?g.promptUserForPermissions(n):403===e.status&&"limit_exceeded"===e.data.error?b.showDialog(t.userProfile,null,"<b>Generate another link assignment</b><br/>Join the Wizer Boost plan to organize students work into groups and save time - all in one place"):u.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-error-text">Oops - we had some failure while creating the assignment. ',"Please try again and reach out to our customer support if the issue persists. ","</span>","</div>","</md-toast >"].join(""),hideDelay:6e3,position:"top"})})},t.publicWorksheetOrUpgrade=function(e){s.eventTrack("open-modal",{category:"public-upon-assign",label:"Open the public upon assign modal for non premium users."});var o=angular.element(document.body);d.show({parent:o,targetEvent:e,templateUrl:"/templates/public-worksheet-or-upgrade-account.html",locals:{isPublic:t.state.isPublic},controller:["$scope","$mdDialog","isPublic",function(e,t,o){e.isPublic=o,e.cancel=function(){t.cancel()},e.makePublic=function(){t.hide(),s.eventTrack("publish-upon-assign",{category:"public-upon-assign",label:"Make a worksheet public upon assignment."})},e.upgrade=function(){s.eventTrack("upgrade-upon-assign",{category:"public-upon-assign",label:"Redirect user to upgrade page from the public upon assign modal."}),m.location.href="/pricing"}}]}).then(function(e){t.state.isPublic||(t.state.isPublic=!0,t.isPublicChanged())})},t.editPublication=function(e){r.editPublication(e,function(){})},t.hideGoogleTooltip=function(e){o(function(){e.showGoogleTooltip=!1},200)},t.togglePinCode=function(e,n){e.showPin?delete e.showPin:(t.pinOffset=$(n.currentTarget).position().left+17,t.hidePincode(),e.showPin=!0),o(function(){delete e.showPinTooltip},200)},t.archive=function(e,o,n){s.eventTrack("archive-publication",{category:"publications",label:"Archive publication"});var a=angular.element(document.body);d.show({parent:a,targetEvent:n,templateUrl:"/templates/archive-assignment.html",locals:{publication:e},controller:["$scope","$mdDialog","publication",function(e,t,o){e.publication=o,e.publicationName=function(){return o.name?"'"+o.name+"'":"this"},e.cancel=function(){t.cancel()},e.archive=function(){t.hide(o)}}]}).then(function(e){c.archive(e.token).success(function(){_.pullAllBy(t.worksheet.publications,[e],"token")}).error(function(t){console.log("Fail to archive publication",e.token,t.error),u.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-error-text">Failed to archive. Try again in a few minutes or check your ',"internet connection.</span>","</div>","</md-toast >"].join(""),hideDelay:3e3,position:"top"})})})},t.showEmbedCode=function(e,o){s.eventTrack("publication-embed-code",{category:"publications",label:"Embed publication code"});var n=angular.element(document.body);d.show({parent:n,targetEvent:o,templateUrl:"/templates/embed-code.html",locals:{link:t.getPublicationUrl(e),publication:e},controller:["$scope","$mdDialog","link","publication",function(e,t,o,n){e.link=o,e.embedCode='<iframe src="'+o+'" width="800px" height="600px" frameborder="0"></iframe>',e.publication=n,e.closeDialog=function(){t.hide()},e.publicationName=function(){return n.name?"'"+n.name+"'":""}}]})},t.hidePincode=function(){angular.forEach(t.worksheet.publications,function(e){delete e.showPin})},t.toastPosition={bottom:!0,top:!1,left:!1,right:!0},t.getToastPosition=function(){return Object.keys(t.toastPosition).filter(function(e){return t.toastPosition[e]}).join(" ")},t.copyPublicationLink=function(e,n){var a=t.getPublicationUrl(e);t.openCopyLinkDialog(n,a),s.eventTrack("publication-copy-link",{category:"publications",label:"Copied publication link"}),o(function(){e.showLinkTooltip=!1},200)},t.openCopyLinkDialog=function(e,t){var n=angular.element(document.body);d.show({parent:n,targetEvent:e,template:'<md-dialog aria-label="Copy the link below. (ctrl c)">  <md-dialog-content class="wizer-assign-modal-content">    <h2 class="md-title ng-binding">Copy link to assign worksheet to students</h2>    <h3 style="font-size:13px; color: #808080;padding-top: 15px;">Copy the URL to easily share assignment with your students.</h3>    <md-input-container class="md-block">      <input ng-model="link" aria-label="link" readonly>    </md-input-container>  </md-dialog-content>  <md-dialog-actions>    <md-button ng-click="closeDialog()" class="md-primary wizer-assign-modal-btn">      Cancel    </md-button>    <md-button ng-click="copyLink()" class="md-primary wizer-assign-modal-btn">      Copy Link    </md-button>  </md-dialog-actions></md-dialog>',locals:{link:t},controller:["$scope","$document","$mdDialog","link",function(e,t,o,n){e.link=n,e.copyLink=function(){angular.element(".wizer-assign-modal-content").select(),t[0].execCommand("copy"),o.hide()},e.closeDialog=function(){o.hide()}}]}),o(function(){$('[aria-label="link"]').select()},700)},t.openAssignmentSchedulingDialog=function(e,t){var o=angular.element(document.body);d.show({parent:o,targetEvent:t,templateUrl:"/js/editor/assignment-scheduling.dialog.html",locals:{assignment:e},controller:["$scope","$mdDialog","assignment",function(e,t,o){moment.tz.setDefault("utc"),e.timezone=o.timezone||moment.tz.guess(),e.assignment=angular.copy(o),e.startTime=keepExactTimeAndDateWhileSettingTimezone(o.startTime,e.timezone),e.endTime=keepExactTimeAndDateWhileSettingTimezone(o.endTime,e.timezone),e.timezones=moment.tz.names().sort(function(e,t){return moment.tz(t).utcOffset()-moment.tz(e).utcOffset()}),e.formatTimezone=function(e){return e+" "+moment.tz(e).format("Z")},e.saveChanges=_asyncToGenerator(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(e.startTime||e.endTime)&&(e.assignment.timezone=e.timezone,e.assignment.startTime=getRoundedMinuteWithoutTimezoneConsiderations(e.startTime),e.assignment.endTime=getRoundedMinuteWithoutTimezoneConsiderations(e.endTime)),n.next=3,r.editPublication(e.assignment).$promise;case 3:a=n.sent,angular.copy(a,o),e.$apply(),t.hide();case 7:case"end":return n.stop()}},n)})),e.cancel=function(){t.hide()}}]})},t.autoFeedbackChanged=function(){!0===t.state.autoFeedback?(s.eventTrack("assign-auto-feedback-on",{category:"editor",label:"Click auto-feedback on"}),r.autoFeedbackOn({token:t.wstoken},function(){},function(e){console.log("Fail setting auto-feedback. %s",e),t.state.autoFeedback=!1})):(s.eventTrack("assign-auto-feedback-off",{category:"editor",label:"Click auto-feedback off"}),r.autoFeedbackOff({token:t.wstoken},function(){},function(e){console.log("Fail setting auto-feedback. %s",e),t.state.autoFeedback=!0}))},t.isPublicChanged=function(){!0===t.state.isPublic?c.public(t.wstoken).success(function(){console.log("Successfully made page public in gallery."),s.eventTrack("make-public",{category:"editor",label:"Click make public on gallery",worksheet:t.wstoken})}).error(function(e){console.log("Fail setting is public. %s",e),t.state.isPublic=!1}):c.private(t.wstoken).success(function(){s.eventTrack("make-private",{category:"editor",label:"Click make private from gallery",worksheet:t.wstoken}),console.log("Successfully made page private.")}).error(function(e){console.log("Failure making page private. %s",e),t.state.isPublic=!0,"error"in e&&"Non premium users can make a worksheet private only after archiving all of its active assignments."===e.error?t.publicWorksheetOrUpgrade():u.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-error-text">Oops - we failed making the worksheet private from the community gallery. ',"Please reach out to our customer support if the issue persists.","</span>","</div>","</md-toast >"].join(""),hideDelay:6e3,position:"top"})})},t.initCourses=function(e){t.courses=[t.coursePlaceholder].concat(e)},t.init=function(){l.profile(function(e){t.userProfile=e.data.profile},function(e){t.userProfile=void 0,console.log(e)}),t.initCourses(e.courses),t.worksheet.publications&&t.worksheet.publications.length||(t.worksheet.publications=[]),angular.forEach(t.worksheet.publications,function(e){"disabled"!==e.status?e.status_boolean=!0:e.status_boolean=!1}),r.isAutoFeedback({token:t.wstoken},function(e){t.state.autoFeedback=e.autoFeedback})},t.ok=function(){i.close([t.state.autoFeedback,t.state.isPublic])},t.init()}]);

},{"../common/helpers/user.helper":"/home/node/app/assets/js/common/helpers/user.helper.js","moment-timezone":false}],"/home/node/app/assets/js/editor/index.js":[function(require,module,exports){
"use strict";require("./assign-worksheet-modal.controller"),require("./worksheet-editor.controller"),require("./worksheet-field-multiselector.component");

},{"./assign-worksheet-modal.controller":"/home/node/app/assets/js/editor/assign-worksheet-modal.controller.js","./worksheet-editor.controller":"/home/node/app/assets/js/editor/worksheet-editor.controller.js","./worksheet-field-multiselector.component":"/home/node/app/assets/js/editor/worksheet-field-multiselector.component.js"}],"/home/node/app/assets/js/editor/worksheet-editor.controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("WorksheetEditorCtrl",["$rootScope","$scope","$stateParams","$attrs","$q","$location","Users","UserFeature","WidgetsService","Bubbles","Covers","Papers","paperTheme","$uibModal","Editor","WS_STATE_CONST","uploadfileservice","$window","$timeout","$worksheetSvc","$analytics","Fonts","$mdToast","$mdSidenav","$mdMedia","WsRanking","IOSocket","Classroom","LearnerGroupService","$mdDialog","HelpWizardService","UserSvc","worksheetAssignModal","googleService","gdriveDlg",function(e,t,o,i,n,s,r,a,l,c,d,u,g,h,f,p,k,w,v,b,m,y,T,S,E,P,W,A,D,C,I,O,R,x,U){t.WS_STATE_CONST=p,t.descriptionFroalaOptions={placeholder:"Enter worksheet description here",events:{"froalaEditor.contentChanged":function(){t.$emit("formdirty")}}},m.eventTrack("start-edit",{category:"editor",label:"Open Editor"}),!!(s.search()||{}).openAsses&&setTimeout(function(){R.open(t.wstoken,t.worksheet,t.courses,t.usettings,t.userProfile.type)},5e3),t.showHelp=function(e,o){var i=I.WIZARD_DATA_ID_MAP.EDITOR;if(!o)switch(o="EDITOR.",t.ws_state){case p.EDIT:o+="ADDING_QUESTIONS";break;case p.PREVIEW:o+="REVIEW"}var n=I.WIZARD_DATA_ID_MAP[o];I.openHelpWizard(e,i,n)},t.$on("$locationChangeSuccess",function(){v(function(){s&&!_.isUndefined(s.path)&&_.isFunction(s.path)?s.path().indexOf("/editor/preview")>-1?t.previewWorksheet():s.path().indexOf("/editor")>-1&&t.editWorksheet():t.editWorksheet()},1e3)});var M=s.path();function L(){t.isLearnerGroupsRefreshing||(t.isLearnerGroupsRefreshing=!0,D.getGroups().then(function(e){var o=_.map(e,"id");l.iterate(t.worksheet.widgets,function(e){if(e.groups&&e.groups.length){var t=angular.copy(e.groups);_.forEach(e.groups,function(e,i){-1==o.indexOf(e)&&(t=t.splice(i,1))}),e.groups=t,0==e.groups.length&&(e.isDifferentiated=!1)}}),t.isLearnerGroupsRefreshing=!1}))}M&&M.indexOf("/editor/preview")>-1?t.ws_state=p.PREVIEW:(M&&M.indexOf("/editor"),t.ws_state=p.EDIT),t.wstoken=i.wstoken,t.covers={height:500},t.bubbles=c.nameMap(),t.fonts=y.nameMap(),t.papers={},t.alert={},t.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},t.isEditingQuestions={},t.disableAddGDrive=!0,x.isAdded(t.wstoken).then(function(e){t.disableAddGDrive=e}),t.GDriveButtonText=function(){return t.disableAddGDrive?"Synced":"Add to drive"},t.openGroupsPopup=function(e){m.eventTrack("payment-sale-popup-ws-dirules",{category:"payment",label:"Sale Popup - Worksheet DI Rules"}),D.showGroupsPopup(e).then(L,L)},t.choiceQuestionsActiveSlides={},t.differentiationPreviewChanged=function(e){if(!e||_.isUndefined(e[0]))return t.isDifferentiatedPreview=!1,t.worksheet&&(t.worksheet.widgets=l.filterDifferentiatedWidgets(t.worksheet.widgets,[])),delete t.learnersPreview,void(t.choiceQuestionsActiveSlides&&_.forEach(t.choiceQuestionsActiveSlides,function(e,o){t.choiceQuestionsActiveSlides[o]=0}));e&&1==e.length&&t.ws_state==p.PREVIEW&&(t.isDifferentiatedPreview=!0,function(e){delete t.learnersPreview,t.isLoadingLearnersView=!0,v(function(){D.getGroupStudents(e[0].token).error(function(){t.isLoadingLearnersView=!1}).success(function(e){t.learnersPreview=e,t.isLoadingLearnersView=!1})},300)}(e),t.choiceQuestionsActiveSlides&&_.forEach(t.choiceQuestionsActiveSlides,function(e,o){t.choiceQuestionsActiveSlides[o]=0}),v(function(){var o=_.map(e,"id");t.worksheet.widgets=l.filterDifferentiatedWidgets(t.worksheet.widgets,o)},300))},t.activeEditMode=function(e,o){t.isEditingQuestions[o]||t.ws_state!=t.WS_STATE_CONST.EDIT||(_.forEach(t.worksheet.widgets,function(e,i){e!==o&&(t.isEditingQuestions[i]=!1)}),t.isEditingQuestions[o]=!0)},t.isActiveWidgetValid=function(e,o){if(!e)return!1;if(!_.isArray(e))return t.isValidQuestion[e.seqid];if(!e.length)return!1;var i=t.choiceQuestionsActiveSlides[o];if(i==e.length)return!0;if(!_.isUndefined(i)&&i>=0&&i<e.length){var n=e[i];return t.isValidQuestion[n.seqid]}return!1},t.getAllActiveWidgetValidationErrors=function(e,o){if(e){if(!_.isArray(e))return t.validationErrors[e.seqid];var i=t.choiceQuestionsActiveSlides[o];if(!_.isUndefined(i)&&i>=0&&i<e.length){var n=e[i];return t.validationErrors[n.seqid]}}},t.areAllWidgetsValid=function(e){if(!e)return!1;var o=!0;return l.iterate(e,function(e){o=o&&t.isValidQuestion[e.seqid]}),o},t.clickDeleteSingleWidget=function(e,o){if(o&&o.seqid){void 0!==e&&e.stopPropagation();var i=C.confirm().title("Are you sure you want to delete this question?").textContent("").targetEvent(e).ok("YES, DO IT!").cancel("CANCEL");C.show(i).then(function(){t.$emit("widgetDeleted",{seqid:o.seqid})})}},t.doneWidgetEdit=function(e,o){t.isEditingQuestions[o]=!1,l.iterate(e,function(e){t.isValidQuestion[e.seqid]=!0,delete t.validationErrors[e.seqid]})},t.cancelWidgetEdit=function(e,o){delete t.isEditingQuestions[o],l.iterate(e,function(e){t.isValidQuestion[e.seqid]=!0,delete t.validationErrors[e.seqid]})},t.togglePreviewWorksheet=function(){t.ws_state==p.PREVIEW?t.editWorksheet():t.previewWorksheet()},t.previewWorksheet=function(){t.isStateTransitioning=!0,m.eventTrack("click-preview",{category:"editor",label:"Click preview in editor"}),v(function(){b.closeOpenWidgets(),t.worksheet&&(t.worksheet.widgets=l.filterDifferentiatedWidgets(t.worksheet.widgets,[]),_.forEach(t.worksheet.widgets,function(e,o){_.isArray(e)&&(t.choiceQuestionsActiveSlides[o]=0),t.isEditingQuestions[o]=!1}))}),v(function(){t.isStateTransitioning=!1,t.ws_state=p.PREVIEW},1500)},t.editWorksheet=function(){t.isStateTransitioning=!0,m.eventTrack("click-edit",{category:"editor",label:"Click edit in editor"}),v(function(){t.worksheet&&(t.worksheet.widgets=l.filterDifferentiatedWidgets(t.worksheet.widgets,[]),delete t.learnersPreview,l.iterate(t.worksheet.widgets,function(e){delete e.active}))}),v(function(){t.isStateTransitioning=!1,t.ws_state=p.EDIT},1500)},t.styleBoxTransition=!1,t.isWidgetSelection={},t.isValidQuestion={},t.validationErrors={},t.addChoiceWidget=function(e,o){void 0===t.worksheet.seq&&(t.worksheet.seq=0),t.worksheet.seq+=1;var i={name:e.name,type:e.type,data:{solution:{}},rtdata:{solution:{}},placeholder:{},updateAt:0,partialPointer:e.partialPointer,seqid:t.worksheet.seq,point:e.point,layout:e.layout},n=o,s=t.worksheet.widgets[n];angular.isArray(s)?s.push(i):s=[JSON.parse(JSON.stringify(s)),i];t.worksheet.widgets[n]=s},t.getIterableWidgetsArr=function(e,t){return _.isArray(e)?_.filter(e,function(e){return!t||e.active}):[e]},t.$on("added:ranking",function(e,o,i){i&&(t.hasAddedRating=!0),o.ownRanking=!0,o.parentId?t.ranking[o.parentId]&&(t.ranking[o.parentId].replies||(t.ranking[o.parentId].replies=[]),t.ranking[o.parentId].replies.push(o)):t.ranking[o.id]=o}),t.loadRanking=function(){t.isLoadingRanking=!0,t.worksheet.token&&P.getRanking(t.worksheet.token,function(e){t.isLoadingRanking=!1,t.ranking=e.data.ranking,t.hasAddedRating=e.data.hasAddedRating},function(){t.isLoadingRanking=!1})},t.hasRanking=function(){return t.ranking?Object.keys(t.ranking).length:0},t.editRating=function(e){e.isEdit=!0},t.loadCourses=function(){A.loadClassList(function(e){t.courses=e.data.classes},function(){})},t.getErrorToastPosition=function(){return Object.keys(t.errorToastPosition).filter(function(e){return t.errorToastPosition[e]}).join(" ")},t.showProfile=function(){w.location.href="/profile"},t.upgradeToPremium=function(){w.open("/pricing","_blank")},t.isUploading=function(e){return k.isUploading(t,e)},t.onUploadStart=function(e){k.onUploadStart(t,e)},t.onUploadError=function(e,o,i){k.onUploadError(e,o,t,i)},t.onFilesSubmitted=function(e,o,i){m.eventTrack("upload-cover-image-click-"+i,{category:"editor",label:"Upload cover image clicked"}),k.onFilesSubmitted(e,o,t,i).then(function(e){t.setUploadedImage(e.file,e.url,i)},function(e){t.onUploadError(null,e,t)})},t.setUploadedImage=function(e,o,i){k.setUploadedImage(e,o,t,i).then(function(e){var o=k.index(t,i);t.worksheet.style.images||(t.worksheet.style.images={}),t.worksheet.style.images[o]={},t.worksheet.style.images[o].path=e,angular.extend(t.worksheet.style.background.images[o],t.worksheet.style.images[o]),t.wsform.$setDirty()})},t.onUploadSucess=function(e,o,i){k.onUploadSucess(e,o,void 0,i).then(function(e,o,i){t.setUploadedImage(e,o,t,i)})},t.isRTL=function(e){for(var t="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",o=new RegExp("^[^"+t+"֑-߿יִ-﷽ﹰ-ﻼ]"),i=new RegExp("^[^"+t+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),n=null,s=0;e&&s<e.length&&null===n;s++){if(!o.test(e[s]))n=i.test(e[s])?"RTL":"LTR"}return"RTL"==n},t.$on("onWorksheetTitleChanged",function(){t.isRTL(t.worksheet.name)?t.worksheet.dir="RTL":t.worksheet.dir="LTR"}),t.checkBrowserPrint=function(){navigator.userAgent.search("Firefox")>-1&&(t.isFirefox=!0)},t.checkBrowserPrint(),t.$on("audio-added",function(){t.$emit("formdirty")}),t.openPrintMenu=function(e,t){t.stopPropagation(),e.open()},t.modifyWindowUnload=function(){w.onbeforeunload=void 0,w.onbeforeunload=function(e){var o;if(t.wsform.$dirty||t.worksheetDirty||t.audioRecording||t.audioUploading)return o=t.audioRecording?"Your last recorded audio is not yet uploaded and you will lost the record. Are you sure you want to leave?":t.audioUploading?"Your audio upload is on progress and upload will be canceled. Are you sure you want to leave?":"Note: Any unsaved changes will be lost.",void 0===e&&(e=window.event),e&&(e.returnValue=o),o}},t.modifyWindowUnload(),t.$on("audio-recording",function(e,o){o?t.audioRecording=!0:delete t.audioRecording,t.modifyWindowUnload()}),t.$on("audio-uploading",function(e,o){o?t.audioUploading=!0:delete t.audioUploading,t.modifyWindowUnload()}),t.$on("$locationChangeStart",function(e,o){if(!t.isStateTransitioning)if(t.ws_state==p.EDIT&&(t.wsform&&t.wsform.$dirty||t.worksheetDirty)){e.preventDefault();var i=C.confirm().title("Save your changes").htmlContent("<p>Unsaved changes might be lost.</p>").targetEvent(e).ok("CONTINUE TO PREVIEW").cancel("KEEP EDITING");C.show(i).then(function(){s.path(o.substring(s.absUrl().length-s.url().length)).replace(),t.isStateTransitioning=!0})}else t.isStateTransitioning=!0}),t.voteToastPosition={bottom:!0,top:!1,left:!1,right:!0},t.getVoteToastPosition=function(){return Object.keys(t.voteToastPosition).filter(function(e){return t.voteToastPosition[e]}).join(" ")},t.$on("change-card-position",function(e,o){t.changeCardPosition(o)}),t.changeCardPosition=function(e){var o=t.worksheet.widgets.splice(e.currentPosition,1)[0];t.worksheet.widgets.splice(e.newPosition,0,o),v(function(){$("html, body").animate({scrollTop:$("#widget-edit-"+o.seqid).offset().top},200)},100),t.$emit("formdirty")},t.$on("duplicate-empty-widget",function(e,o){t.duplicateEmptyWidget(o)}),t.duplicateEmptyWidget=function(e){t.duplicateWidget(e)},t.$on("duplicate-widget-with-content",function(e,o){t.duplicateWidgetWithContent(o)}),t.duplicateWidgetWithContent=function(e){t.duplicateWidget(e,{duplicate:!0})},t.duplicateWidget=function(e,o){var i,n,s;i=e.index,n=e.widget,angular.forEach(t.widgets,function(t){t.name===e.widget.name&&(s=t)}),t.addwsp(s,i+1,{},n,o&&o.duplicate)},t.addwsp=function(e,o,i,n,s){if(e.enabled){i=void 0!==i?i:{},void 0===t.worksheet.seq&&(t.worksheet.seq=0),t.worksheet.seq+=1;var r={name:e.name,type:e.type,data:{solution:{}},rtdata:{solution:{}},placeholder:{},updateAt:0,partialPointer:e.partialPointer,seqid:t.worksheet.seq,point:n?n.point:void 0,layout:n?n.layout:void 0};angular.extend(r.placeholder,i),s&&(r.data=angular.copy(n.data),r.rtdata=angular.copy(n.rtdata));var a=function(e,t,o){isNaN(e)?t.push(o):t.splice(e,0,o)};"submission"===e.type?a(o,t.worksheet.subwidgets,r):(a(o,t.worksheet.widgets,r),v(function(){t.isEditingQuestions[t.worksheet.widgets.indexOf(r)]=!0})),v(function(){var e=angular.element(".widget-wrapper");if(e.length>1){var t=e[e.length-2];angular.element(t).animate({scrollTop:t.offsetTop},"slow")}},100),"SubmissionMessage"!=e.name&&"submission"!=e.type&&t.$emit("formdirty"),m.eventTrack(e.name,{category:"widgetbtn",label:"Click vote widget "+e.name})}else e.voted=!0,m.eventTrack("vote-widget-"+e.name,{category:"widgetbtn",label:"Click vote widget "+e.name}),T.show({template:'<md-toast class="copy-to-clipboard-popup"><span flex>Thanks! You are a peach.</span></md-toast>',hideDelay:3e3,position:t.getVoteToastPosition()})},t.showWorksheetSaveError=function(e){T.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">',e,"</span>","</div>","</md-toast >"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:t.getErrorToastPosition()})},t.goToPdfConverter=function(){var e=w.location.host.toLowerCase();w.location="https://".concat(e,"/activate/").concat(t.wstoken)},t.addToGDrive=function(){t.disableAddGDrive||(t.isSyncing=!0,x.isAuthed().then(function(e){if(e)return x.saveWorksheet(t.wstoken).then(function(e){t.disableAddGDrive=e,t.isSyncing=!1});U.showGDriveModal(t.wstoken,function(e){t.disableAddGDrive=e,t.isSyncing=!1})}))},t.save=function(e){var o;b.closeOpenWidgets(),t.isSaveInProgress=!0;var i=angular.copy(t.worksheet),n=function(e){for(var t in e.rtdata)"tmp"!=t&&(e.data[t]=e.rtdata[t]);delete e.rtdata};l.iterate(i.widgets,n),l.iterate(i.subwidgets,n),m.eventTrack("save-edit",{category:"editor",label:"Save worksheet"}),f.save(i,function(o){t.worksheetDirty=!1,t.isSaveInProgress=!1,t.isSaved=!0,t.wsform.$setPristine(),t.worksheet.createdAt=o.worksheet.createdAt,t.worksheet.updatedAt=o.worksheet.updatedAt,t.worksheet.tags=o.worksheet.tags,w.localStorage.removeItem("edit-"+t.worksheet.token),e&&e()},function(){t.showWorksheetSaveError("Failed to save. Try again in a few minutes or check your internet connection."),(o=JSON.parse(w.localStorage.getItem("edit-"+t.worksheet.token))).saveFailed=!0,w.localStorage.setItem("edit-"+t.worksheet.token,JSON.stringify(o))})},t.printWorksheet=function(){t.worksheet&&v(function(){window.open("/print/"+t.worksheet.token,"_blank")},300)},t.$on("tags-modified",function(){var e=[];if(t.worksheet.tags){var o=t.worksheet.tags;o.forEach(function(o){0===t.viewTags.filter(function(e){return e.id&&e.id==o}).length&&e.push(o)}),o=o.filter(function(t){return-1==e.indexOf(t)}),t.viewTags.forEach(function(e){e.id?-1==o.indexOf(e.id)&&o.push(e):o.push(e)}),t.worksheet.tags=o,t.$emit("formdirty")}}),t.$on("discard-unsaved",function(){t.worksheet=JSON.parse(t.worksheetServerCopy),t.$broadcast("worksheet-discarded"),t.save()}),t.watchWorksheet=function(){var e,o;w.localStorage.getItem("edit-"+t.worksheet.token)&&(e=JSON.parse(w.localStorage.getItem("edit-"+t.worksheet.token)),t.worksheet.updatedAt?o=new Date(t.worksheet.updatedAt).getTime():t.worksheet.createdAt&&(o=new Date(t.worksheet.createdAt).getTime()),e.timestamp>o?(m.eventTrack("show-unsaved-edit",{category:"editor",label:"Show unsaved changes"}),t.alert.showBackupMessage=!0,t.worksheetServerCopy=JSON.stringify(t.worksheet),t.worksheet=e.worksheet):w.localStorage.removeItem("edit-"+t.worksheet.token))},t.$on("formdirty",function(){t.wsform.$dirty?v(function(){t.wsform.$setDirty()},10):t.wsform.$setDirty()}),t.$watch("wsform.$dirty",function(e){!0===e&&(t.saveToLocalStorage(),t.worksheetDirty=!0,v(function(){t.wsform.$setPristine()},10))}),t.saveToLocalStorage=function(){w.localStorage.setItem("edit-"+t.worksheet.token,JSON.stringify({timestamp:(new Date).getTime(),worksheet:t.worksheet}))},t.lastSaveTime=function(){return t.worksheet.updatedAt},t.saveText=function(){return t.saveInProgress?"Saving...":t.worksheetDirty?"Save":"Saved"},t.saveClicked=function(){},t.$on("pointsChanged",function(){t.calculatePoints()}),t.calculatePoints=function(){t.worksheet&&t.worksheet.widgets&&(t.totalQuestion=0,t.totalPoints=0,angular.forEach(t.worksheet.widgets,function(e){angular.isArray(e)?(t.totalQuestion+=e.length,_.filter(e,function(e){return"question"===e.type}).length&&(t.totalPoints+=1)):"question"===e.type&&(t.totalQuestion++,void 0===e.point||isNaN(e.point)?t.totalPoints++:t.totalPoints=t.totalPoints+parseInt(e.point))}))},t.$watch("worksheet.widgets.length",function(){t.calculatePoints()}),t.$watch("worksheet.style.background",function(){t.setWorksheetCover()},!0),t.load=function(e){(t.isStateTransitioning=!0,t.worksheet=e,t.worksheet.style.background||(t.noBackground=!0),angular.forEach(t.worksheet.publications,function(e){if("public"===e.type)return t.worksheet.isPublic=!0,!1}),t.worksheet.widgets.length&&t.calculatePoints(),t.worksheet.tags?(_.isArray(t.worksheet.tags)||(t.worksheet.tags=[t.worksheet.tags]),t.worksheet.tags=$.unique(t.worksheet.tags)):t.worksheet.tags=[],t.viewTags=[],l.iterate(t.worksheet.widgets,function(e){e.rtdata=angular.copy(e.data)}),_.forEach(t.worksheet.subwidgets,function(e){e.rtdata=angular.copy(e.data)},this),t.worksheet.subwidgets&&0!==t.worksheet.subwidgets.length||t.addwsp({name:"SubmissionMessage",enabled:!0,type:"submission"}),t.worksheet.style.font)||(t.fonts["Indie Flower"].isDefaultSelected=!0,t.worksheet.style.font=t.fonts["Indie Flower"]);t.watchWorksheet(),t.setWorksheetCover(),t.loadCourses(),t.loadRanking(),v(function(){t.isStateTransitioning=!1},1500)},t.setWorksheetCover=function(){if(t.worksheet)if(t.worksheet.style.background){if(t.worksheet.style.background.name&&t.covers[t.worksheet.style.background.name])t.worksheet.style.background=t.covers[t.worksheet.style.background.name];else if(t.worksheet.style.background.path&&t.covers.Marshmallow){var e=t.worksheet.style.background.path;t.worksheet.style.background=t.covers.Marshmallow,t.worksheet.style.images||(t.worksheet.style.images={0:{path:e}})}else t.worksheet.style.background.images||(t.worksheet.style.background.images={0:{}}),t.worksheet.style.background.images[0].path=t.worksheet.style.background.path;t.worksheet.style.background.paper||(t.worksheet.style.background.paper="default-paper"),t.worksheet.style.background.configurable&&t.worksheet.style.images&&angular.forEach(t.worksheet.style.images,function(e,o){t.worksheet.style.background.images[o]&&angular.extend(t.worksheet.style.background.images[o],e)}),t.setWorksheetBubble(),t.setWorksheetPaper()}else t.worksheet.style.background=t.covers.b2s_3},t.isArray=function(e){return _.isArray(e)},t.setWorksheetBubble=function(){t.worksheet.style.background.bubble&&t.worksheet.style.background.bubble.bubbles&&t.worksheet.style.background.bubble.bubbles.length||(t.worksheet.style.background.bubble={vertical_position:"center",bubbles:[{name:"default-bubble",background_none:!0}]}),angular.forEach(t.worksheet.style.background.bubble.bubbles,function(e){t.bubbles[e.name]&&angular.extend(e,t.bubbles[e.name])})},t.setWorksheetPaper=function(e){t.worksheet.style.background.name&&t.worksheet.style.background.paper&&t.papers[t.worksheet.style.background.paper]?(g.applyPaperStyles(t.papers[t.worksheet.style.background.paper]),t.selectedPaper=t.papers[t.worksheet.style.background.paper]):g.removePaperStyles(),e&&e.changed&&t.wsform.$setDirty()},t.changePaper=function(){var e,o=Object.keys(t.papers).length,i=!0,n=0;for(e=t.worksheet.style.background.paper&&t.papers[t.worksheet.style.background.paper]?t.papers[t.worksheet.style.background.paper].index:-1;i;)++e===o&&(e=0),angular.forEach(t.papers,function(o){o.index!==e||o.disabled||(i=!1,t.worksheet.style.background.paper=o.name)}),++n>=o&&(i=!1);t.setWorksheetPaper({changed:!0})},t.postTourCallback=function(){console.log("tour over")},t.postStepCallback=function(){},t.done=function(){w.location.href="/"},t.widgets=l.get(),u.list().forEach(function(e,o){e.index=o,t.papers[e.name]=e});var q=[],Q=n.defer();d.list().success(function(e){e.covers.forEach(function(e){e.images[0]&&e.images[0].path&&(e.path=e.images[0].path),t.covers[e.name]=e}),Q.resolve()},function(){Q.reject()}),q.push(Q.promise);var F=n.defer();r.profile(function(e){t.userProfile=e.data.profile,F.resolve()},function(){t.userProfile=void 0,F.reject()}),q.push(F.promise);var N=n.defer();a.getFeature(function(e){t.userFeature=e.data,N.resolve()},function(){t.userFeature=void 0,N.reject()}),q.push(N.promise);var V=n.defer();f.getMultiSelectOptions(function(e){t.multiSelectOptions=e,V.resolve()},function(){t.multiSelectOptions={},V.reject()}),q.push(V.promise),q.push(O.settings().then(function(e){t.usettings=e})),n.all(q).then(function(e){f.getByToken({token:t.wstoken},t.load,function(){console.log("Fail to get worksheet"),t.worksheet={name:void 0,dir:"LTR",widgets:[],subwidgets:[],seq:0,style:{},tags:[]}})},function(e){console.log("promise fail:"+e)}),t.scrollToFirstElement=function(){0!==b.openWidgets.length?b.openWidgets[0].element&&b.openWidgets[0].element.scrollIntoView():t.cantPublishMessage=!1},t.isOpenWidgets=function(){return b.openWidgets.length>0},t.cantPublishPopupHTML=function(){return"<h3>Almost done! Just one thing:</h3><p>It seems that you have "+b.openWidgets.length+' open editing forms.<br/> Please close them by clicking Done or Cancel</p><p><button type="button" class="btn btn-default input-sm" ng-click="scrollToFirstElement()">Click to show open widget</button></p>'},t.isStyleboxOpen=function(){var e=S("style-box").isOpen()||S("style-box").isLockedOpen();return 0==t.styleBoxTransition?e:!e},t.toggleStylebox=function(){return S("style-box").toggle().then(function(){t.styleBoxOpen=!t.styleBoxOpen,m.eventTrack("toggle-stylebox-"+(t.styleBoxOpen?"open":"close"),{category:"editor",label:"Toggle open/close stylebox"})})},t.clearThemeSelection=function(){t.selectedTheme=null,m.eventTrack("theme-de-select",{category:"editor",label:"Theme de-selected click"})},t.assessWorksheet=function(){m.eventTrack("editor-ws-assess-click",{category:"editor",label:"Click assessment from editor"}),v(function(){w.location.href="/assess/worksheet/"+t.wstoken},300)},t.assessWorksheet2=function(){m.eventTrack("editor-ws-assess-click",{category:"editor",label:"Click assessment from editor"}),v(function(){w.location.href="/assess2/worksheet/"+t.wstoken},300)},t.insights=function(){m.eventTrack("editor-ws-assess-click",{category:"editor",label:"Click insights from editor"}),v(function(){w.location.href="/assess2/insights/"+t.wstoken},300)},t.publishWorksheet=function(){m.eventTrack("assign-open",{category:"editor",label:"Click Assign"}),t.openPublishedLinkModel()},t.toCoverURL=function(e){return t.covers[e]?t.covers[e].path:t.covers.None?t.covers.None.path:""},t.openPublishedLinkModel=function(){function e(){R.open(t.wstoken,t.worksheet,t.courses,t.usettings,t.userProfile.type)}t.worksheet.state&&"live"===t.worksheet.state?e():t.save(e)}}]).controller("ToastCtrl",["$scope","$mdToast",function(e,t){e.closeToast=function(){t.hide()}}]).filter("classPublicationfilter",function(){return function(e,t){return t?e.filter(function(e){return"public"!==e.type&&("google-class"===e.type||"wizer-class"===e.type)}):e.filter(function(e){return"public"!==e.type&&("google-class"!==e.type&&"wizer-class"!==e.type)})}}).directive("mobileMessage",[function(){return{restrict:"E",templateUrl:"/templates/edit-mobile-msg.html",controller:["$scope","UserFeature",function(e,t){e.hideMobileMsg=function(){t.hideFeature("editorMobileMessage",function(t){e.userFeature.editorMobileMessage=t.data.editorMobileMessage},function(){})}}]}}]).directive("gradesSelector",[function(){return{restrict:"E",templateUrl:"/templates/editor-grades-selector.html",controller:["$scope","UserFeature",function(e,t){e.hideMobileMsg=function(){t.hideFeature("editorMobileMessage",function(t){e.userFeature.editorMobileMessage=t.data.editorMobileMessage},function(){})}}]}}]).directive("publishctrl",[function(){return{restrict:"E",templateUrl:"/templates/published-link-modal.html",controller:["$scope","$element","$transclude","$compile","$parse","WSPublications",function(e,t,o,i,n,s){e.wstoken="qM0wYno3LAk3",e.pinCode="XXXXX",e.publishedLink="/editor/"+e.pinCode,e.sharePublicaly=!1,e.publicChanged=function(){!0===e.sharePublicaly?s.public(e.wstoken).error(function(t){console.log("Fail setting ws public. %s",t),e.sharePublicaly=!1}):s.private(e.wstoken).error(function(t){console.log("Fail setting ws private. %s",t),e.sharePublicaly=!0})},e.init=function(){s.isPublic(e.wstoken).success(function(t){e.sharePublicaly=t.public})}}],link:function(e,t,o){e.init()}}}]);

},{}],"/home/node/app/assets/js/editor/worksheet-field-multiselector.component.js":[function(require,module,exports){
"use strict";function worksheetMultiSelectorController(t){var e=this;e.filterSelectionChanged=function(){e.worksheet[e.worksheetAttr]=e.selectedOptions.map(function(t){return t.id}).sort(),t.$emit("formdirty")},e.$onInit=function(){e.selectorSettings={idProperty:"id"},e.selectorEventCallbacks={onSelectionChanged:e.filterSelectionChanged},e.selectorTexts={dynamicButtonTextSuffix:e.buttonTextSuffix,buttonDefaultText:e.buttonDefaultText},e.selectedOptions=[],t.$watchCollection("$ctrl.worksheet[$ctrl.worksheetAttr]",function(t,o){e.worksheet&&e.worksheet[e.worksheetAttr]&&(e.selectedOptions=e.worksheet[e.worksheetAttr].map(function(t){return{id:t}}))})}}worksheetMultiSelectorController.$inject=["$scope"],angular.module("wizer").component("worksheetFieldMultiselector",{templateUrl:"/js/editor/worksheet-field-multiselector.component.html",controller:worksheetMultiSelectorController,bindings:{worksheet:"=",options:"<",worksheetAttr:"@",buttonTextSuffix:"@",buttonDefaultText:"@"}}),worksheetMultiSelectorController.$inject=["$scope"];

},{}],"/home/node/app/assets/js/gallery/gallery.module.js":[function(require,module,exports){
"use strict";angular.module("wizer.gallery",[require("angular-material"),"wizer"]);

},{"angular-material":false}],"/home/node/app/assets/js/gallery/header/enter-class-code.component.js":[function(require,module,exports){
"use strict";function enterClassCode(e,n){var o=this;o.token="",o.messages={},this.tokenChanged=function(){o.messages.tokenError=!1,o.token&&o.token.length&&o.handleTokenSubmission()},this.handleTokenSubmission=function(){n.searchToken({token:o.token},function(n){o.token="",e.location.href=n.link},function(e){console.log("Fail searching for pin %s, error: %s",o.token,e),o.messages.tokenError=!0})}}enterClassCode.$inject=["$window","Learn"],angular.module("wizer.gallery").component("enterClassCode",{templateUrl:"/js/gallery/header/enter-class-code.component.html",controller:enterClassCode,bindings:{}}),enterClassCode.$inject=["$window","Learn"];

},{}],"/home/node/app/assets/js/gallery/header/index.js":[function(require,module,exports){
"use strict";require("./enter-class-code.component");

},{"./enter-class-code.component":"/home/node/app/assets/js/gallery/header/enter-class-code.component.js"}],"/home/node/app/assets/js/gallery/index.js":[function(require,module,exports){
"use strict";require("./gallery.module"),require("./header"),require("./search");

},{"./gallery.module":"/home/node/app/assets/js/gallery/gallery.module.js","./header":"/home/node/app/assets/js/gallery/header/index.js","./search":"/home/node/app/assets/js/gallery/search/index.js"}],"/home/node/app/assets/js/gallery/search/index.js":[function(require,module,exports){
"use strict";require("./worksheet-search-new.component");

},{"./worksheet-search-new.component":"/home/node/app/assets/js/gallery/search/worksheet-search-new.component.js"}],"/home/node/app/assets/js/gallery/search/worksheet-search-new.component.js":[function(require,module,exports){
"use strict";function worksheetSearchNew(e,r){var a=this;a.searchQuery="",a.queryChanged=function(){a.searchCallback(a.searchQuery)}}worksheetSearchNew.$inject=["$scope","AlgoliaSearch"],angular.module("wizer.gallery").component("worksheetSearchNew",{templateUrl:"/js/gallery/search/worksheet-search-new.component.html",controller:worksheetSearchNew,bindings:{searchQuery:"<",numberOfHits:"<",searchCallback:"<"}}),worksheetSearchNew.$inject=["$scope","AlgoliaSearch"];

},{}],"/home/node/app/assets/js/google-drive/google-drive-index.controller.js":[function(require,module,exports){
"use strict";function asyncGeneratorStep(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){asyncGeneratorStep(o,n,i,s,a,"next",e)}function a(e){asyncGeneratorStep(o,n,i,s,a,"throw",e)}s(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GoogleDriveIndexCtrl=exports.GOOGLE_DRIVE_INDEX_CONTROLLER=void 0;var GOOGLE_DRIVE_INDEX_CONTROLLER="GoogleDriveIndexCtrl";exports.GOOGLE_DRIVE_INDEX_CONTROLLER=GOOGLE_DRIVE_INDEX_CONTROLLER;var GoogleDriveIndexCtrl=function(){function e(t,r,n,i,o,s,a,c,u){_classCallCheck(this,e),this.API=o,this.$scope=t,this.$location=r,this.$window=i,this.$q=n,this.googleService=u,this.editorService=a,this.gdriveDlg=c,this.Users=s,this.params=this.$location.search(),this.isTeacher=!1,this.action=this.params.action,this.errorType="",this.filesCount=0}return e.$inject=["$scope","$location","$q","$window","API","Users","editorService","gdriveDlg","googleService"],_createClass(e,[{key:"$onInit",value:function(){var e=this;this.googleService.isAuthed(!0).then(function(t){t&&e.Users.profileAsync().then(function(t){e.performAction(t)})})}},{key:"performAction",value:function(e){switch(this.isTeacher="teacher"===e.type||"superuser"===e.type,this.action){case"create":this.isTeacher?this.createAndOpen():this.errorType="student";break;case"open":this.fetchAndOpen()}}},{key:"goTo",value:function(e,t){t?this.$window.open(e,"_blank"):(this.$window.location.href=null,this.$window.location.href=e)}},{key:"createAndOpen",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.editorService.createWorksheet();case 2:return t=e.sent,e.next=5,this.editorService.updateWorksheet(t);case 5:this.googleService.saveWorksheet(t.token),this.goTo("/editor/".concat(t.token));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchAndOpen",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,i,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=this.params.id.split(",").filter(function(e){return!!e}),this.filesCount=r.length,e.prev=3,e.next=6,this.googleService.fetchFiles(r);case 6:if((n=e.sent).forEach(function(e,r){if("worksheet"===e.type)if(o.isTeacher){var i=e.isOwner?"/editor/".concat(e.token):"/preview/".concat(e.previewToken);o.goTo(i,r!==n.length-1)}else e.learnToken?o.goTo("/learn/".concat(e.learnToken)):o.errorType="student";else t.push(e.url)}),t.length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.editorService.createWorksheet();case 12:return i=e.sent,t.forEach(function(e){return o.addImgWidgetObj(i,e)}),e.next=16,this.editorService.updateWorksheet(i);case 16:return e.next=18,this.googleService.saveWorksheet(i.token);case 18:this.goTo("/editor/".concat(i.token)),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),this.errorType="files";case 24:case"end":return e.stop()}},e,this,[[3,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"addImgWidgetObj",value:function(e,t){var r=(new Date).valueOf();e.widgets||(e.widgets=[]);var n={name:"Fill On An Image",type:"question",data:{solution:{},tags:[],title:"",description:"",image:{url:t}},placeholder:{},updateAt:r,seqid:Math.max(e.widgets.map(function(e){return e.seqid}))+1,point:1};return e.widgets.push(n),e}}]),e}();exports.GoogleDriveIndexCtrl=GoogleDriveIndexCtrl;

},{}],"/home/node/app/assets/js/google-drive/google-drive.module.js":[function(require,module,exports){
"use strict";var _googleDriveIndex=require("./google-drive-index.controller");angular.module("wizer.gdrive",["wizer.common"]).controller(_googleDriveIndex.GOOGLE_DRIVE_INDEX_CONTROLLER,_googleDriveIndex.GoogleDriveIndexCtrl);

},{"./google-drive-index.controller":"/home/node/app/assets/js/google-drive/google-drive-index.controller.js"}],"/home/node/app/assets/js/help-wizard/help-wizard.component.js":[function(require,module,exports){
"use strict";function HelpWizardController(e,t,n,i,r,a,c,o){var l=this,p=r.WIZARD_IMAGES_URL;function u(){var e=g();return l.currentStepIdx<e.length-1}function d(){return l.currentStepIdx>0}function s(e){l.isStepLoading=!0,i.eventTrack("set-help-wizard-step-"+e,{category:"help-wizard",label:"Set help wizard step"}),a(function(){l.currentStepIdx=e,l.isStepLoading=!1},500)}function f(e){l.isLoading=!0,i.eventTrack("set-help-wizard-topic-"+e,{category:"help-wizard",label:"Set help wizard topic"}),l.currentTopicIdx=e,l.currentStepIdx=0,a(function(){l.isLoading=!1},500)}function g(){return l.data.topics[l.currentTopicIdx].topics}function S(){return l.data.topics[l.currentTopicIdx].topics[l.currentStepIdx]}function h(){if(n.current&&n.current.name){var e=n.current.name;e.indexOf("class")>-1||e.indexOf("students")>-1?f(2):e.indexOf("learnerProfile")>-1||e.indexOf("learners")>-1?f(3):e.indexOf("resources")>-1?f(0):e.indexOf("learnerGroup")>-1&&f(4)}}l.getCurrentSteps=g,l.getCurrentTopicImage=function(e){var t=e?".snapshot.jpg":".gif";return p+(l.currentTopicIdx+1)+"."+(l.currentStepIdx+1)+t},l.getUserDisplayName=function(){if(!t.userName||!t.userName.length)return"";return t.userName},l.getCurrentVisibleStep=S,l.hasNextStep=u,l.hasPrevStep=d,l.shouldDisplayUpgradeButton=function(){var e=S(),t=!1;e&&e.userSettings&&_.forEach(e.userSettings,function(e){t||l.usettings&&l.usettings[e]||(t=!0)});return t},l.closeDialog=function(){c.hide()},l.setCurrentTopic=f,l.setCurrentStep=s,l.nextStep=function(){u()&&s(l.currentStepIdx+1)},l.prevStep=function(){d()&&s(l.currentStepIdx-1)},l.navigate=function(t){i.eventTrack("help-wizard-upgrade",{category:"premium",label:"Clicked upgrade in Help Wizard"}),a(function(){e.location.href=t},300)},l.data=r.data,l.isLoading=!0,l.currentStepIdx=0,l.currentTopicIdx=0,t.$on("$stateChangeSuccess",function(){h()}),function(){if(h(),o.settings().then(function(e){l.usettings=e}),!_.isUndefined(l.initialTopic)||!_.isUndefined(l.initialStep)){var e=_.filter(l.data.topics,function(e){return e.id==l.initialTopic});if(e.length&&(l.currentTopicIdx=l.data.topics.indexOf(e[0]),!_.isUndefined(l.initialStep))){var t=_.filter(e[0].topics,function(e){return e.id==l.initialStep});t.length&&(l.currentStepIdx=e[0].topics.indexOf(t[0]))}}a(function(){l.isLoading=!1},500)}()}HelpWizardController.$inject=["$window","$rootScope","$state","$analytics","HelpWizardService","$timeout","$mdDialog","UserSvc"],angular.module("wizer.helpWizard").component("helpWizard",{templateUrl:"/js/help-wizard/help-wizard.component.html",controller:HelpWizardController,bindings:{initialStep:"<?",initialTopic:"<?"}}).directive("gifplayer",["$analytics",function(e){return{restrict:"A",link:function(t,n,i){var r,a,c="";$(n).gifplayer({label:'<span class="fa fa-play"></span>',onPlay:function(){e.eventTrack("Play gif "+(c||"."),{category:"help-wizard",label:"Play Help Wizard GIF"})}}),r=i.ngSrc,a=r.lastIndexOf("/"),c=r.substr(a,r.length-a)}}}]),HelpWizardController.$inject=["$window","$rootScope","$state","$analytics","HelpWizardService","$timeout","$mdDialog","UserSvc"];

},{}],"/home/node/app/assets/js/help-wizard/help-wizard.module.js":[function(require,module,exports){
"use strict";angular.module("wizer.helpWizard",[]);

},{}],"/home/node/app/assets/js/help-wizard/help-wizard.service.js":[function(require,module,exports){
"use strict";function HelpWizardService(e,t,r,i,a){return this.WIZARD_DATA_ID_MAP=a,this.WIZARD_IMAGES_URL=r,this.data=i,this.openHelpWizard=function(r,i,a){t.eventTrack("open-help-wizard-"+i+"."+a,{category:"help-wizard",label:"Open help wizard"}),e.show({template:'<md-dialog layout="row" flex class="no-scroll help-wizard" id="help-wizard-dialog"><help-wizard layout="row" flex initial-topic="'+i+'" initial-step="'+a+'"></help-wizard></md-dialog>',multiple:!0,autoWrap:!1,disableParentScroll:!1,parent:angular.element(document.body),targetEvent:r,clickOutsideToClose:!0})},this}HelpWizardService.$inject=["$mdDialog","$analytics","WIZARD_IMAGES_URL","WIZARD_DATA","WIZARD_DATA_ID_MAP"],angular.module("wizer.helpWizard").service("HelpWizardService",HelpWizardService).constant("WIZARD_IMAGES_URL","/images/help-wizard/").constant("WIZARD_DATA_ID_MAP",{WELCOME:"1","WELCOME.GETTING_STARTED":"1","WELCOME.GETTING_HELP":"2",EDITOR:"2","EDITOR.ADDING_QUESTIONS":"1","EDITOR.LEARNER_CHOICE":"2","EDITOR.DIFFERENTIATE":"3","EDITOR.REVIEW":"4","EDITOR.ASSIGN":"5",LEARNERS:"3","LEARNERS.CLASSES":"1","LEARNERS.STUDENTS":"2",PROFILES:"4","PROFILES.GENERAL":"1","PROFILES.ATTRIBUTES":"2","PROFILES.PERFORMANCE":"3",GROUPS:"5","GROUPS.GENERAL":"1"}).constant("WIZARD_DATA",{topics:[{id:"1",title:"Welcome To <br/>Wizer Boost",icon:"fa fa-info",topics:[{id:"1",title:"Getting Started",header:"Hi {{ $ctrl.getUserDisplayName() }}, it's great to have you on board!",text:"We have many <b>exciting</b> features for you to discover!"},{id:"2",title:"Getting Help",header:"This tutorial will walk you through your first steps in using Wizer",text:"If you ever need more help, click the <b>question mark</b> button to open this tutorial, or contact us by pressing the <b>message button.</b>"}]},{id:"2",title:"The Wizer<br/>Worksheet Editor",icon:"fa fa-pencil-square-o",topics:[{id:"1",title:"Adding<br/>Questions",header:"Let’s add your first question.",text:"At the bottom of your worksheet, you will find all the <b>question types</b> available. Select the question type you would like to add."},{id:"2",userSettings:["PERSONALIZATION"],title:"Learner<br/>Choice",header:"Create Learner choice questions",text:"Click <b>“add choice”</b> to create another version of the same question. Add as many choice questions as you want; your learners will have to answer only one."},{id:"3",userSettings:["PERSONALIZATION"],title:"Differentiate<br/>Questions",header:"Differentiate your question",text:"Click <b>“differentiate”</b> and select the <b>learner rules</b> you want to assign to this question. More on <b>Learner Rules</b> later."},{id:"4",userSettings:["PERSONALIZATION"],title:"Review<br/>Worksheet",header:"Review your differentiated worksheet",text:"Once your differentiated worksheet is complete, you can easily view what each learner rule will be effective just before you assign the worksheet."},{id:"5",title:"Assign<br/>Worksheet",header:"Let’s Assign this worksheet",text:"Click <b>“Assign to learners”.</b> Choose among your classrooms, or assign this worksheet through email (with a link). More on <b>classrooms</b> later."}]},{id:"3",title:"Classrooms<br/>and Learners",icon:"fa fa-users",topics:[{id:"1",title:"Your Classrooms",header:"Import or create classrooms",text:"You can import and sync your roster with <b>Google Classroom</b>, or create new classrooms manually by inviting your learners."},{id:"2",title:"Manage Learners",header:"All your learners in one place",text:"After importing or inviting your learners, you can easily find them here. Use the filters to search for them by their <b>Classroom</b> and <b>Learner Rules.</b>"}]},{id:"4",title:"Learner<br/>Profiles",icon:"icon-students",topics:[{id:"1",title:"Learner Profiles",header:"Each of your learners has a personal profile",text:"Add Learner Profiles, write personal messages and view students' performance. Remember! Your Learners can view their personal profile as well!"},{id:"2",userSettings:["PERSONALIZATION"],title:"Learner Attributes",header:"Adding Learners Attributes",text:"Each of your Learners is unique. Add Learner attributes to each of your Learner's profiles, and use these attributes to associate them to <b>Learner Rules.<b/>"},{id:"3",userSettings:["PERSONALIZATION"],title:"Learner Performance",header:"Performance summary",text:"The green line presents the Learners, each of the worksheet the learner completed and their grade. The dotted line is the  average score for those worksheets."}]},{id:"5",title:"Learner<br/>Groups",icon:"icon-differentiate",topics:[{id:"1",userSettings:["PERSONALIZATION"],title:"Creating Learner Rules",header:"Differentiate with Learner Rules",text:"To differentiate your worksheets, you must first create Learner Rules. The Learner Rules are based on Learner Attributes and Performance"}]}]}),HelpWizardService.$inject=["$mdDialog","$analytics","WIZARD_IMAGES_URL","WIZARD_DATA","WIZARD_DATA_ID_MAP"];

},{}],"/home/node/app/assets/js/help-wizard/index.js":[function(require,module,exports){
"use strict";require("./help-wizard.module"),require("./help-wizard.component"),require("./help-wizard.service");

},{"./help-wizard.component":"/home/node/app/assets/js/help-wizard/help-wizard.component.js","./help-wizard.module":"/home/node/app/assets/js/help-wizard/help-wizard.module.js","./help-wizard.service":"/home/node/app/assets/js/help-wizard/help-wizard.service.js"}],"/home/node/app/assets/js/learner-profile/groups/add-learner-filter.component.js":[function(require,module,exports){
"use strict";function AddLearnerFilterComponent(){return{templateUrl:"/js/learner-profile/groups/add-learner-filter.component.html",controller:AddLearnerFilterController,transclude:!0,bindings:{isEditGroup:"<",groupData:"<",attributes:"<",onFilterAdded:"="}}}function AddLearnerFilterController(e,t,r,a){var n=this;function i(){delete n.filterData}function l(){return!!n.filterData.type&&("performance level"==n.filterData.type?n.filterData.perfGroup&&n.filterData.perfGroup.length&&_.isNumber(n.filterData.perfLevel):_.isNumber(n.filterData.attr)&&n.filterData.attr>0)}n.addGroupFilter=function(){n.filterData={}},n.saveGroupFilter=function(){l()&&(n.onFilterAdded(n.groupData,n.filterData),i())},n.cancelAdd=i,n.onChangeSegment=function(){delete n.filterData.attr,delete n.attributeSearchText,n.filterAttrTypes()},n.isFormValid=l,n.attrTypes=t,n.perfGroups=r,n.getAttributesByType=function(e){return _.filter(n.attributes,function(t){return t.type===e})},n.currentAttrByType=[],n.showHelp=function(e,t){var r,n;switch(t){case"attributes":r=a.WIZARD_DATA_ID_MAP.PROFILES,n=a.WIZARD_DATA_ID_MAP["PROFILES.ATTRIBUTES"],a.openHelpWizard(e,r,n);break;default:r=a.WIZARD_DATA_ID_MAP.PROFILES,a.openHelpWizard(e,r,n)}},n.attributeSearchText=null,n.selectedItemChange=function(e){n.filterData.attr=e?e.id:null},n.filterAttrTypes=function(){return _.filter(n.attributes,function(e){var t=(n.attributeSearchText||"").toLowerCase();return e.type===n.filterData.type&&e.name.toLowerCase().includes(t)})}}angular.module("wizer.learnerProfile").component("addLearnerFilter",AddLearnerFilterComponent()),AddLearnerFilterController.$inject=["$scope","LP_ATTRIBUTE_TYPES","LG_PERF_GROUPS","HelpWizardService"];

},{}],"/home/node/app/assets/js/learner-profile/groups/add-learner-group.component.js":[function(require,module,exports){
"use strict";function AddLearnerGroupController(r){var e=this;e.showAddGroup=function(){e.isAddGroup=!0,e.group={}},e.cancelAddGroup=function(){e.isAddGroup=!1,delete e.group},e.addGroup=function(){e.group&&e.group.name&&(e.onAddGroup(e.group.name),e.cancelAddGroup())},e.showHelp=function(e,o){var A,n;switch(o){case"di":A=r.WIZARD_DATA_ID_MAP.EDITOR,n=r.WIZARD_DATA_ID_MAP["EDITOR.DIFFERENTIATE"];break;case"attr":A=r.WIZARD_DATA_ID_MAP.PROFILES,n=r.WIZARD_DATA_ID_MAP["PROFILES.ATTRIBUTES"];break;case"profile":A=r.WIZARD_DATA_ID_MAP.PROFILES,n=r.WIZARD_DATA_ID_MAP["PROFILES.GENERAL"];break;default:A=r.WIZARD_DATA_ID_MAP.GROUPS}r.openHelpWizard(e,A,n)}}AddLearnerGroupController.$inject=["HelpWizardService"],angular.module("wizer.learnerProfile").component("addLearnerGroup",{templateUrl:"/js/learner-profile/groups/add-learner-group.component.html",controller:AddLearnerGroupController,bindings:{onAddGroup:"=",isFirstGroup:"<"}}),AddLearnerGroupController.$inject=["HelpWizardService"];

},{}],"/home/node/app/assets/js/learner-profile/groups/index.js":[function(require,module,exports){
"use strict";require("./add-learner-filter.component"),require("./add-learner-group.component"),require("./learner-group-empty.component"),require("./learner-group-filter.component"),require("./learner-group-item.component"),require("./learner-group-student.component"),require("./learner-group.component"),require("./learner-group.service");

},{"./add-learner-filter.component":"/home/node/app/assets/js/learner-profile/groups/add-learner-filter.component.js","./add-learner-group.component":"/home/node/app/assets/js/learner-profile/groups/add-learner-group.component.js","./learner-group-empty.component":"/home/node/app/assets/js/learner-profile/groups/learner-group-empty.component.js","./learner-group-filter.component":"/home/node/app/assets/js/learner-profile/groups/learner-group-filter.component.js","./learner-group-item.component":"/home/node/app/assets/js/learner-profile/groups/learner-group-item.component.js","./learner-group-student.component":"/home/node/app/assets/js/learner-profile/groups/learner-group-student.component.js","./learner-group.component":"/home/node/app/assets/js/learner-profile/groups/learner-group.component.js","./learner-group.service":"/home/node/app/assets/js/learner-profile/groups/learner-group.service.js"}],"/home/node/app/assets/js/learner-profile/groups/learner-group-empty.component.js":[function(require,module,exports){
"use strict";function LearnerGroupEmptyStateController(e,r){this.emptyStateImageUrl=r,this.showHelp=function(r,t){var o,n;"attributes"==t?(o=e.WIZARD_DATA_ID_MAP.PROFILES,n=e.WIZARD_DATA_ID_MAP["PROFILES.ATTRIBUTES"]):"groups"==t&&(o=e.WIZARD_DATA_ID_MAP.PROFILES,n=e.WIZARD_DATA_ID_MAP["PROFILES.ATTRIBUTES"]);n&&o&&e.openHelpWizard(r,o,n)}}LearnerGroupEmptyStateController.$inject=["HelpWizardService","EMPTY_STATE_HELP_GIF"],angular.module("wizer.learnerProfile").component("learnerGroupEmptyPlaceholder",{templateUrl:"/js/learner-profile/groups/learner-group-empty.component.html",controller:LearnerGroupEmptyStateController,bindings:{onAddGroup:"="}}).constant("EMPTY_STATE_HELP_GIF","/images/help-wizard/5.1.gif"),LearnerGroupEmptyStateController.$inject=["HelpWizardService","EMPTY_STATE_HELP_GIF"];

},{}],"/home/node/app/assets/js/learner-profile/groups/learner-group-filter.component.js":[function(require,module,exports){
"use strict";function learnerGroupFilter(){return{templateUrl:"/js/learner-profile/groups/learner-group-filter.component.html",controller:LearnerGroupFilterController,bindings:{attributes:"<",filterData:"<",groupData:"<",onFilterEdit:"=",onFilterRemove:"=",isEditGroup:"<"}}}function LearnerGroupFilterController(e,r,t){var o=this;o.attrTypes=r,o.perfGroups=t,o.$scope=e,o.setupGroups=function(){_.forEach(o.attributes,function(e){e.id==o.filterData.attr&&(o.selectedType=e.type)})},o.$scope.$watch("$ctrl.attributes",function(){o.setupGroups()}),o.selectedType="",o.setupGroups(),o.onChangeSegment=function(){delete o.filterData.attr},o.saveFilter=function(){o.filterData&&o.filterData.attr&&o.onFilterEdit(o.groupData,o.filterData)}}LearnerGroupFilterController.$inject=["$scope","LP_ATTRIBUTE_TYPES","LG_PERF_GROUPS"],angular.module("wizer.learnerProfile").component("learnerGroupFilter",learnerGroupFilter());

},{}],"/home/node/app/assets/js/learner-profile/groups/learner-group-item.component.js":[function(require,module,exports){
"use strict";function LearnerGroupItemController(e,r,o){var t,n=this;function a(e){var r={};if("groupName"!==e&&e||(!n.group.name||n.group.name.length<=2)&&(r["required-name"]=!0),"filters"!==e&&e||n.groupData.filters&&n.groupData.filters.length||(r["required-filters"]=!0),Object.keys(r).length)return n.hasValidationErrors=!0,r;n.hasValidationErrors=!1}function i(e){e&&e.stopPropagation(),n.isEditGroup=!0,n.isGroupCollapsed=!1,n.group={},n.group=angular.copy(n.groupData)}n.isGroupCollapsed=!1,n.isChangesSaved=!1,n.toggleEditGroupItem=i,n.hasFilters=function(e){return e&&e.length},n.getValidationErrors=a,n.showHelp=function(e){o.openHelpWizard(e,o.WIZARD_DATA_ID_MAP.PROFILES,o.WIZARD_DATA_ID_MAP["PROFILES.ATTRIBUTES"])},n.hasValidationErrors=!1,n.$onInit=function(){n.getStudents(n.groupData),n.groupData&&n.groupData.justCreated&&(delete n.groupData.justCreated,i())},n.doneEditGroup=function(r){r&&r.stopPropagation(),a()||(n.group&&n.groupData&&n.group.name!==n.groupData.name&&n.saveGroupName(),delete n.group,n.isEditGroup=!1,t&&(e.cancel(t),t=void 0,n.isChangesSaved=!1))},n.saveGroupName=function(){n.group&&n.group.name&&(n.onEditGroup(n.group),n.isChangesSaved=!0,t=e(function(){n.isChangesSaved=!1},7e3))},n.removeGroup=function(e,o){e&&e.stopPropagation();var t=r.confirm().title("Are you sure you want to delete this rule?").htmlContent("THIS CANNOT BE UNDONE").targetEvent(e).ok("YES, DO IT!").cancel("CANCEL").multiple(!0);r.show(t).then(function(){n.onRemoveGroup(o)})}}LearnerGroupItemController.$inject=["$timeout","$mdDialog","HelpWizardService"],angular.module("wizer.learnerProfile").component("learnerGroupItem",{templateUrl:"/js/learner-profile/groups/learner-group-item.component.html",controller:LearnerGroupItemController,transclude:!0,bindings:{groupData:"<",attributes:"<",onEditGroup:"=",getStudents:"=",onRemoveGroup:"=",onFilterAdded:"=",onFilterEdit:"=",onFilterRemove:"="}}),LearnerGroupItemController.$inject=["$timeout","$mdDialog","HelpWizardService"];

},{}],"/home/node/app/assets/js/learner-profile/groups/learner-group-student.component.js":[function(require,module,exports){
"use strict";function learnerGroupStudent(){return{templateUrl:"/js/learner-profile/groups/learner-group-student.component.html",bindings:{studentData:"<"}}}angular.module("wizer.learnerProfile").component("learnerGroupStudent",learnerGroupStudent());

},{}],"/home/node/app/assets/js/learner-profile/groups/learner-group.component.js":[function(require,module,exports){
"use strict";function LearnerGroupController(e,t,o,r,n,i,u,l,a){var p,s=this;function d(e,t){_.assign(s,e,t)}function c(){n.hide()}s.isLoading=!0,s.loadGroups=function(){a.profile(function(t){return e.userProfile=t.data.profile}),u.getGroups().then(function(e){s.isLoading=!1,r.dispatch({type:"GROUPS_LOADED",payload:e})})},s.loadAttributes=function(){i.getAutoCompleteAttrs().success(function(e){r.dispatch({type:"ATTRIBUTES_LOADED",payload:e})})},s.editGroup=function(e){u.editGroup(e).then(function(e){r.dispatch({type:"EDIT_GROUP",payload:e})})},s.removeGroup=function(e){u.removeGroup(e).then(function(){r.dispatch({type:"REMOVE_GROUP",payload:e.token})})},s.addGroup=function(t){u.addGroup(t).then(function(e){r.dispatch({type:"GROUP_ADDED",payload:e})},function(t){"limit_exceeded"===t.error&&l.showDialog(e.userProfile,null,"<b>Out of differentiation rules?</b> No problem!<br/>Creating more than 5 rules is included in the Wizer Boost plan")})},s.addFilter=function(e,t){u.addGroupFilter(e,t).then(function(t){r.dispatch({type:"ADD_FILTER",payload:{group:e,filter:t}}),s.getStudents(e)})},s.editFilter=function(e,t){u.editGroupFilter(e,t).then(function(t){r.dispatch({type:"EDIT_FILTER",payload:{groupToken:e.token,filter:t}}),s.getStudents(e)})},s.removeFilter=function(e,t){var o=n.confirm().title("Are you sure you want to delete this filter?").htmlContent("THIS CANNOT BE UNDONE").ok("YES, DO IT!").cancel("CANCEL").multiple(!0);n.show(o).then(function(){u.removeFilter(t).then(function(o){r.dispatch({type:"REMOVE_FILTER",payload:{groupId:t.parentGroup,filterId:t.id}}),s.getStudents(e)})})},s.getStudents=function(e){u.getGroupStudents(e.token).success(function(t){r.dispatch({type:"STUDENTS_LOADED",payload:{groupId:e.id,students:t}})}).error(function(e){console.log("error",e)})},s.closeDialog=c,s.hideDialog=c,s.isPopup=s.isPopup||!1,p=r.connect(function(e){return{groups:e.learner.groups,attributes:e.learner.attributes}},{})(d),e.$on("$destroy",p),s.loadGroups(),s.loadAttributes()}LearnerGroupController.$inject=["$scope","$analytics","$timeout","$ngRedux","$mdDialog","LearnerProfileService","LearnerGroupService","newPremiumDlg","Users"],angular.module("wizer.learnerProfile").component("learnerGroup",{templateUrl:"/js/learner-profile/groups/learner-group.component.html",controller:LearnerGroupController,bindings:{isPopup:"<?"}}),LearnerGroupController.$inject=["$scope","$analytics","$timeout","$ngRedux","$mdDialog","LearnerProfileService","LearnerGroupService","newPremiumDlg","Users"];

},{}],"/home/node/app/assets/js/learner-profile/groups/learner-group.service.js":[function(require,module,exports){
"use strict";function LearnerGroupServiceImpl(e,r,n,o,t,u){var i=e.$new(!0);this.addGroup=function(e){return o(function(n,o){r.post("learner/group/add",{name:e}).success(function(e){e.justCreated=!0,i.$emit("learner-groups-changed"),n(e)}).error(function(e){i.$emit("learner-groups-changed"),o(e)})})},this.getGroups=function(){if(a&&!c)return a.promise;if(!c){var e=o.defer();return n(function(){e.resolve(s)},500),e.promise}c=!1,a=o.defer(),l&&n.cancel(l);return l=n(p,1e3*u.GET_GROUPS_INTERVAL_SECS),r.get("learner/group/getMultiple").success(function(e){s=e,a.resolve(s)}).error(function(e){console.error("error fetching groups",e),c=!0,a.resolve(s)}),a.promise},this.editGroup=function(e){return o(function(n,o){r.put("learner/group/"+e.token,{name:e.name}).success(function(e){i.$emit("learner-groups-changed"),n(e)}).error(function(e){i.$emit("learner-groups-changed"),o(e)})})},this.removeGroup=function(e){return o(function(n,o){r.delete("learner/group/"+e.token).success(function(r){i.$emit("learner-groups-changed"),n(e.token)}).error(function(e){i.$emit("learner-groups-changed"),consoe.error(e),o(e)})})},this.editGroupFilter=function(e,n){return o(function(e,o){return r.put("learner/group/filter/"+n.token,{filterData:n}).success(function(r){i.$emit("learner-groups-changed"),e(r)}).error(function(e){console.error("error editing filters",e),o(e)})})},this.addGroupFilter=function(e,n){return o(function(o,t){return r.post("learner/group/filter/"+e.token,{filterData:n}).success(function(e){i.$emit("learner-groups-changed"),o(e)}).error(function(e){console.error("error getting filters",e),t(e)})})},this.removeFilter=function(e){return o(function(n,o){return r.delete("/learner/group/filter/"+e.token).success(function(e){i.$emit("learner-groups-changed"),n(e)}).error(function(e){console.error(e),o(e)})})},this.getGroupStudents=function(e){return r.get("/learner/group/"+e+"/students")},this.onGroupsChanged=function(e){e&&_.isFunction(e)&&i.$on("learner-groups-changed",e)},this.showGroupsPopup=function(e){return t.show({targetEvent:e,parent:angular.element(document.body),clickOutsideToClose:!0,fullscreen:!0,multiple:!0,template:'<md-dialog class="learner-group-popup" aria-label="Differentiate">  <md-dialog-content flex>    <learner-group is-popup="true" layout-fill layout="column" flex class="learner-group"></learner-group>  </md-dialog-content></md-dialog>'})};var c=!0,l=void 0,s=[],a=void 0;function p(){c=!0,n.cancel(l)}}LearnerGroupServiceImpl.$inject=["$rootScope","$http","$timeout","$q","$mdDialog","THROTTLING_SETTINGS"],angular.module("wizer.learnerProfile").service("LearnerGroupService",LearnerGroupServiceImpl).value("THROTTLING_SETTINGS",{GET_GROUPS_INTERVAL_SECS:10}),LearnerGroupServiceImpl.$inject=["$rootScope","$http","$timeout","$q","$mdDialog","THROTTLING_SETTINGS"];

},{}],"/home/node/app/assets/js/learner-profile/index.js":[function(require,module,exports){
"use strict";require("./learner-profile.module"),require("./learner-attributes.component"),require("./learner-performance-summary.component"),require("./learner-profile.component"),require("./learner-profile.service"),require("./learners-breadcrumbs.component"),require("./groups");

},{"./groups":"/home/node/app/assets/js/learner-profile/groups/index.js","./learner-attributes.component":"/home/node/app/assets/js/learner-profile/learner-attributes.component.js","./learner-performance-summary.component":"/home/node/app/assets/js/learner-profile/learner-performance-summary.component.js","./learner-profile.component":"/home/node/app/assets/js/learner-profile/learner-profile.component.js","./learner-profile.module":"/home/node/app/assets/js/learner-profile/learner-profile.module.js","./learner-profile.service":"/home/node/app/assets/js/learner-profile/learner-profile.service.js","./learners-breadcrumbs.component":"/home/node/app/assets/js/learner-profile/learners-breadcrumbs.component.js"}],"/home/node/app/assets/js/learner-profile/learner-attributes.component.js":[function(require,module,exports){
"use strict";function LearnerAttrsController(t,e,r,i,n,a,o,s){var l=this;function u(t){_.forEach(l.attrTypes,function(e){e!==t&&(l.isEditingAttrType[e]=!1)})}l.showLearnerChoice=!0,l.attrAutocomplete=[],l.attrTypes=["strength","challenge","passion","preference"],l.isAddToggled=!1,l.isEditingAttrType={},l.pendingAttrNames={},l.isSavingAttribute={},t.$watch("$ctrl.isEdit",function(t){t||u()}),l.showHelp=function(t){var e=a.WIZARD_DATA_ID_MAP.PROFILES,r=a.WIZARD_DATA_ID_MAP["PROFILES.ATTRIBUTES"];a.openHelpWizard(t,e,r)},l.toggleEditAttrType=function(t,e){r(function(){u(t),l.isEditingAttrType[t]=_.isUndefined(e)?!l.isEditingAttrType[t]:e})},l.addAttribute=function(t,e,r){if(t)try{t.stopPropagation(),t.preventDefeault()}catch(t){}if(e&&r&&r.trim()&&-1!=l.attrTypes.indexOf(e)){var a=l.profileData.userData.token,o=l.profileData.id,s=l.profileData.attributes,u=!1;angular.forEach(s,function(t,i){t.type===e&&(t.attr.name.trim()!=r.trim()||(u=!0))}),u||(l.isSavingAttribute[e]=!0,i.eventTrack("learner-profile-add-attribute",{category:"learner-profile",label:"Add Learner attribute"}),n.addAttribute(a,o,r,e).success(function(t){l.profileData.attributes.push(t),l.pendingAttrNames[e]=void 0,l.isSavingAttribute[e]=!1,l.toggleEditAttrType(e)}))}},l.removeAttribute=function(t){var e=l.profileData.userData.token;i.eventTrack("learner-profile-remove-attribute",{category:"learner-profile",label:"Remove Learner attribute"}),n.removeAttribute(e,t.id).success(function(){var e=l.profileData.attributes.indexOf(t);l.profileData.attributes.splice(e,1)})},l.range=function(t,e,r){r=r||1;for(var i=[],n=t;n<=e;n+=r)i.push(n);return i},l.isEducator=function(){return!l.userProfile||"student"!==l.userProfile.type},l.isEditEnabled=function(){return l.userProfile&&l.userProfile.type,!0},l.load=function(){n.getAutoCompleteAttrs().success(function(t){l.attrAutocomplete=l.attrAutocomplete.concat(t)}),o.settings().then(function(t){l.usettings=t}),s.profile(function(t){l.userProfile=t.data.profile})},l.load()}LearnerAttrsController.$inject=["$scope","$mdDialog","$timeout","$analytics","LearnerProfileService","HelpWizardService","UserSvc","Users"],angular.module("wizer.learnerProfile").component("learnerAttributes",{templateUrl:"/js/learner-profile/learner-attributes.component.html",controller:LearnerAttrsController,bindings:{profileData:"=",isEdit:"<",isLoading:"<",isStudent:"<"}}),LearnerAttrsController.$inject=["$scope","$mdDialog","$timeout","$analytics","LearnerProfileService","HelpWizardService","UserSvc","Users"];

},{}],"/home/node/app/assets/js/learner-profile/learner-performance-summary.component.js":[function(require,module,exports){
"use strict";function LearnerPerformanceController(e,r,o,n,t){var a=this;a.isLoading=!0,a.perfSummaryOptions=angular.copy(n),a.showHelp=function(e){var r=o.WIZARD_DATA_ID_MAP.PROFILES,n=o.WIZARD_DATA_ID_MAP["PROFILES.PERFORMANCE"];o.openHelpWizard(e,r,n)},t.settings().then(function(e){a.usettings=e}),r.getPerformanceSummary(a.token).success(function(e){var r,o,n,t,i,s=(o=[],n=[[],[]],t=[],i=[],(r=e)&&r.scores&&r.scores.length&&(t=_.keyBy(r.scores,"worksheetId")),r&&r.aggrScores&&r.aggrScores.length&&(i=_.keyBy(r.aggrScores,"publicationToken")),r&&r.solutions&&r.solutions.length&&angular.forEach(r.solutions,function(e){if(t[e.worksheetId]&&(o.push(new Date(e.createdAt).toLocaleDateString("en-US")),n[0].push(Math.round(10*t[e.worksheetId].score))),i[e.publicationToken]){var r=i[e.publicationToken].totalScore,a=i[e.publicationToken].solutionsCount,s=Math.round(r/a*10);n[1].push(s)}}),0==o.length&&(a.isEmptyState=!0,o.push("Dates")),{dataset:n,labels:o});a.isLoading=!1,a.perfSummaryOptions.dataset=s.dataset,a.perfSummaryOptions.labels=s.labels}).error(function(){a.isLoading=!1})}LearnerPerformanceController.$inject=["$timeout","LearnerProfileService","HelpWizardService","ChartJsConfiguration","UserSvc"],angular.module("wizer.learnerProfile").value("ChartJsConfiguration",{colors:[{pointRadius:10,borderColor:"rgb(84,192,164)",pointBackgroundColor:"rgba(84,192,164, 0.8)",fill:!1},{pointRadius:5,borderDash:[10,10],pointBackgroundColor:"rgba(214, 214, 214, 0.8)",borderColor:"rgba(214, 214, 214)",fill:!1}],options:{scales:{yAxes:[{ticks:{min:0,max:10}}]},tooltips:{position:"nearest"},legend:{display:!0,position:"bottom",usePointStyle:!0}},dataset:[],labels:[],series:["Learner Score","Average Score"]}).component("learnerPerformanceView",{templateUrl:"/js/learner-profile/learner-performance-summary.component.html",controller:LearnerPerformanceController,bindings:{token:"=",isStudent:"<"}}),LearnerPerformanceController.$inject=["$timeout","LearnerProfileService","HelpWizardService","ChartJsConfiguration","UserSvc"];

},{}],"/home/node/app/assets/js/learner-profile/learner-profile.component.js":[function(require,module,exports){
"use strict";function LearnerProfileComponent(){return{templateUrl:"/js/learner-profile/learner-profile.component.html",controller:LearnerProfileController,transclude:!0,scope:{token:"@"}}}function LearnerProfileController(e,r,t,n,o,i,a){var l,c=this;function s(){l&&(o.cancel(l),l=void 0)}c.uType=e.uType,c.profileData={},c.isLoading=!0,c.token=n.token||c.token,c.isEdit=!0,c.updateDesc=function(e){if(!c.isEdit)return;if(!c.profileData.description||!c.profileData.description.length)return;c.isSavingDesc=!0,r.eventTrack("learner-profile-edit-text",{category:"learner-profile",label:"Edit Learner profile text"}),s(),l=o(function(){var r=c.profileData.id,t=c.profileData.description;i.updateDesc(e,r,t).success(function(){c.isSavingDesc=!1})},5e3)},c.stopUpdateDesc=s,c.toggleEdit=function(){c.isEdit=!c.isEdit},c.load=function(){var e=[];e.push(i.getProfile(c.token,function(e){c.profileData=e.data},function(e){c.noProfile=!0})),e.push(a.settings().then(function(e){c.usettings=e})),t.all(e).then(function(){c.isLoading=!1})},c.load()}angular.module("wizer.learnerProfile").component("learnerProfile",LearnerProfileComponent()),LearnerProfileController.$inject=["$rootScope","$analytics","$q","$stateParams","$timeout","LearnerProfileService","UserSvc"];

},{}],"/home/node/app/assets/js/learner-profile/learner-profile.module.js":[function(require,module,exports){
"use strict";require("chart.js"),require("angular-chart.js"),angular.module("wizer.learnerProfile",[require("angular-material"),require("angular-messages"),"chart.js","wizer.reducers",require("angular-moment")]).constant("LP_ATTRIBUTE_TYPES",["performance level","strength","challenge","passion","preference"]).constant("LG_PERF_GROUPS",["below","between","above"]),angular.module("wizer.learnerProfile").filter("capitalize",function(){return function(e,r){return e&&e.length?e.charAt(0).toUpperCase()+e.substr(1):e}});

},{"angular-chart.js":false,"angular-material":false,"angular-messages":false,"angular-moment":false,"chart.js":false}],"/home/node/app/assets/js/learner-profile/learner-profile.service.js":[function(require,module,exports){
"use strict";function LearnerProfileServiceImpl(e){this.updateDesc=function(r,t,o){return e.put("/learner/profile/desc/"+r,{learnerProfileId:t,desc:o.toString()}).error(function(e){console.log("error updating description")})},this.getProfile=function(r,t,o){return e.get("learner/profile/"+r).then(t,o)},this.addAttribute=function(r,t,o,n){return e.put("/learner/profile/attrs/add/"+r,{learnerProfileId:t,attribute:{type:n,name:o}}).error(function(e){console.log("error",e)})},this.removeAttribute=function(r,t){return e.delete("/learner/profile/attrs/remove/"+r+"/"+t).error(function(e){console.log("error deleting attr",e)})},this.getAutoCompleteAttrs=function(){return e.get("/learner/profile/attrAutocomplete").error(function(e){console.log("error fetching LearnerProfile autocomplete",e)})},this.getPerformanceSummary=function(r){return e.get("learner/profile/perfSummary/"+r).error(function(e){console.log("error fetching perfsummary",e)})}}LearnerProfileServiceImpl.$inject=["$http"],angular.module("wizer.learnerProfile").service("LearnerProfileService",LearnerProfileServiceImpl),LearnerProfileServiceImpl.$inject=["$http"];

},{}],"/home/node/app/assets/js/learner-profile/learners-breadcrumbs.component.js":[function(require,module,exports){
"use strict";function learnerBreadcrumbsController(e,r,t,n,s,a,o,i){var l=this;function u(){var e=n.current.name;i.settings().then(function(r){l.usettings=r,l.usettings.PERSONALIZATION&&(l.displayGroupsFilter=!0,e.indexOf("classview")>=0&&(l.hide=!1))}),e.indexOf("classes")>=0?l.hide=!0:e.indexOf("classview")>=0?l.hide=!0:e.indexOf("students")>=0?(l.displayClassFilter=!0,l.hide=!1):e.indexOf("learnerProfile")>=0&&(l.hide=!0,a.getAllStudents(function(e){l.students=e.data.students,l.studentsLoading=!1},function(e){l.studentsLoading=!1}))}l.hide=!0,l.groups=[],l.displayGroupsFilter=!1,l.displayClassFilter=!1,l.navigate=function(){n.go("learnerProfile",{token:l.selectedStudent.token})},l.getDisplayName=function(e){e.userData&&_.isObject(e.userData)&&(e=e.userData);var r=e.firstname,t=e.lastname;if(!(r&&r.length||t&&t.length))return e.username;return r+" "+t},l.showHelp=function(e){var r=o.WIZARD_DATA_ID_MAP.LEARNERS,t=o.WIZARD_DATA_ID_MAP["LEARNERS.STUDENTS"];o.openHelpWizard(e,r,t)},e.$on("$stateChangeSuccess",function(){u()}),l.getGroups=function(){return s.getGroups().then(function(e){l.groups=e})},l.openGroupsPopup=function(e){if(!l.usettings||!l.usettings.PERSONALIZATION){r.eventTrack("payment-sale-popup-dirules",{category:"payment",label:"Sale Popup - DI Rules"});return t.show({template:'<upgrade-account-dialog upgrade-msg="Upgrade to Wizer Boost, create the <b>learner rules<b/> you need and <b>differentiate your worksheets</b> based on learners\' needs"></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0})}s.showGroupsPopup(e).then(l.getGroups,l.getGroups)},u()}learnerBreadcrumbsController.$inject=["$rootScope","$analytics","$mdDialog","$state","LearnerGroupService","Users","HelpWizardService","UserSvc"],angular.module("wizer.learnerProfile").component("learnerBreadcrumbs",{templateUrl:"/js/learner-profile/learners-breadcrumbs.component.html",controller:learnerBreadcrumbsController,bindings:{classes:"<?",students:"<?",profileData:"<?",filterClassToken:"=",filterGroups:"="}}),learnerBreadcrumbsController.$inject=["$rootScope","$analytics","$mdDialog","$state","LearnerGroupService","Users","HelpWizardService","UserSvc"];

},{}],"/home/node/app/assets/js/learners-area/index.js":[function(require,module,exports){
"use strict";require("./learners-area.component"),require("./learners-area.router");

},{"./learners-area.component":"/home/node/app/assets/js/learners-area/learners-area.component.js","./learners-area.router":"/home/node/app/assets/js/learners-area/learners-area.router.js"}],"/home/node/app/assets/js/learners-area/learners-area.component.js":[function(require,module,exports){
"use strict";function learnersAreaController(r){var e=this;r.profile(function(r){e.userProfile=r.data.profile})}learnersAreaController.$inject=["Users"],angular.module("wizer.learnerProfile").component("learnersArea",{templateUrl:"/js/learners-area/learners-area.component.html",controller:learnersAreaController}),learnersAreaController.$inject=["Users"];

},{}],"/home/node/app/assets/js/learners-area/learners-area.router.js":[function(require,module,exports){
"use strict";angular.module("wizer.learnerProfile").config(["$stateProvider","$urlRouterProvider",function(e,s){s.when("/dashboard/classes/import",["$state","$location",function(e,s){e.go("learners.classes",{action:"import",actionSuccess:!s.search().crf})}]),e.state("learners",{url:"/dashboard",template:'<learners-area layout="column" flex></learners-area>'}).state("learners.learnerGroups",{url:"/groups",template:'<learner-group layout="column" flex></learner-group>'}).state("learners.learnerProfile",{url:"^/profile/learner/:token",template:'<learner-profile layout="column" flex></learner-profile>'}).state("learners.students",{url:"/students",template:'<students-component layout="column" flex></students-component>'}).state("learners.classes",{url:"/classes",params:{action:null,actionSuccess:null},template:'<classes-component layout="column" flex></classes-component>'}).state("learners.classview",{url:"/class/:token",template:'<class-component layout="column" flex></class-component>'}).state("learners.classview.roster",{url:"/roster",template:'<class-roster layout="column" flex></class-roster>'}).state("learners.classview.assignments",{url:"/assignments",template:'<class-assignment layout="column" flex></class-assignment>'}).state("learners.learnerworksheets",{url:"/learner-worksheets",template:'<resource-learner-worksheets layout="row" flex></resource-learner-worksheets>'})}]);

},{}],"/home/node/app/assets/js/login/index.js":[function(require,module,exports){
"use strict";require("./login.module"),require("./student-login.controller");

},{"./login.module":"/home/node/app/assets/js/login/login.module.js","./student-login.controller":"/home/node/app/assets/js/login/student-login.controller.js"}],"/home/node/app/assets/js/login/login.module.js":[function(require,module,exports){
"use strict";angular.module("wizer-login",["ng"]);

},{}],"/home/node/app/assets/js/login/student-login.controller.js":[function(require,module,exports){
"use strict";function StudentLoginController(e,n,i,a,o,t,s,r){e.redir=n.search().redir,e.worksheetName=n.search().name,e.loginMessages={},e.form={};var l=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e.back=function(){o.eventTrack("back-login",{category:"user",label:"Back click in login"}),i(function(){a.history.back()},300)},e.clearMessages=function(){delete e.loginFailed,delete e.isExistingUser,e.loginMessages={},e.loginForm.name.$setValidity("username",!0)},e.checkAvailability=function(){if(e.name&&e.name.length>2){var n,i=decodeURIComponent(e.redir).match(/(\/)([a-zA-Z\-0-9]+)($|\?.*)/);if(i.length>=3&&(n=i[2]),e.name=e.name.trim(),l.test(e.name))!0,e.email=e.name,e.firstname="",e.lastname="";else{e.email="";var a=e.name.split(" ");a.length>0?e.firstname=a[0]:e.firstname="",e.firstname?e.lastname=e.name.replace(e.firstname,"").trim():e.lastname=""}if(!(e.email||e.firstname&&e.lastname))return e.loginMessages.username=!0,void e.loginForm.name.$setValidity("username",!1);n&&(e.email||e.firstname&&e.lastname)&&s.isUserExist({token:n,email:e.email,firstname:e.firstname,lastname:e.lastname},function(n){console.log(n),e.isExistingUser=!0,n.username&&(e.form.username=n.username)},function(n){console.log(n),e.isExistingUser=!1,n.data&&n.data.username&&(e.form.username=n.data.username)})}},e.openSignup=function(){var n=void 0!==e.redir?"?redir="+a.encodeURIComponent(e.redir):"";window.open("/signup"+n,"_self")},e.googleLogin=function(){o.eventTrack("google-login",{category:"user",label:"User google login"}),i(function(){var n=a.encodeURIComponent(void 0!==e.redir?e.redir:"/");a.location.href="/auth/google?redir="+n+"&type=student"},300)},e.resetState=function(e){e.$error.googleAccount&&e.$setValidity("googleAccount",!0)},e.login=function(){var n={username:e.form.username||e.name,firstname:e.firstname,lastname:e.lastname,password:e.password,remember:0,type:"student"};e.email&&(n.email=e.email);var o=function(n){console.log("login/signup failed- %j",n),e.loginFailed=!0,n.data&&n.data.tryGoogle?e.loginMessages.googleAccount=!0:n.invalidAttributes&&n.data.invalidAttributes.username?e.loginMessages.userNameExists=!0:e.loginMessages.fail=!0};i(function(){e.loginForm.$invalid?e.loginForm.password.$setDirty():e.isExistingUser?t.loginJson(n,function(n){console.log("login success- %j",n),e.redir?a.location.href=e.redir:a.location.href="/dashboard"},o):t.signup(n,function(n){console.log("signup success- %j",n),e.redir?a.location.href=e.redir:a.location.href="/dashboard"},o)},100)}}StudentLoginController.$inject=["$scope","$location","$timeout","$window","$analytics","Auth","Learn","fflip"],angular.module("wizer").controller("StudentLoginCTRL",StudentLoginController),StudentLoginController.$inject=["$scope","$location","$timeout","$window","$analytics","Auth","Learn","fflip"];

},{}],"/home/node/app/assets/js/parent-learners-area/classes/class-assignment.component.js":[function(require,module,exports){
"use strict";function parentClassAssignment(){return{templateUrl:"/js/parent-learners-area/classes/class-assignment.component.html",controller:ParentClassAssignmentController}}function ParentClassAssignmentController(s,t,n,e,o,a){s.token=e.token,s.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},s.getErrorToastPosition=function(){return Object.keys(s.errorToastPosition).filter(function(t){return s.errorToastPosition[t]}).join(" ")},s.showErrorMessage=function(t){var n;n=t&&t.data&&t.data.error&&t.data.error.msg?t.data.error.msg:"Something went wrong. Please try again in a few minutes.",a.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+n,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:s.getErrorToastPosition()})},s.loadClassAssignments=function(){s.isLoadingAssignments=!0,o.getClassAssignments(s.token,function(t){s.assignments=t.data.assignments,s.isLoadingAssignments=!1},function(t){s.isLoadingAssignments=!1,s.showErrorMessage(t)})},s.loadClassAssignments()}angular.module("wizer.parentClasses").component("parentClassAssignment",parentClassAssignment()),ParentClassAssignmentController.$inject=["$scope","$analytics","$state","$stateParams","Classroom","$mdToast"];

},{}],"/home/node/app/assets/js/parent-learners-area/classes/class.component.js":[function(require,module,exports){
"use strict";function asyncGeneratorStep(e,s,t,a,n,r,o){try{var i=e[r](o),c=i.value}catch(e){return void t(e)}i.done?s(c):Promise.resolve(c).then(a,n)}function _asyncToGenerator(e){return function(){var s=this,t=arguments;return new Promise(function(a,n){var r=e.apply(s,t);function o(e){asyncGeneratorStep(r,a,n,o,i,"next",e)}function i(e){asyncGeneratorStep(r,a,n,o,i,"throw",e)}o(void 0)})}}function ParentClassController(e,s,t,a,n,r,o,i,c,l){e.token=o.token,e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},a.$on("$stateChangeSuccess",function(s,t,a,n,r,o){e.getMenuName()}),"parent-learners.classview"===r.current.name&&r.go("parent-learners.classview.assignments"),a.$on("$stateChangeSuccess",function(e,s,t,a,n,o){"parent-learners.classview"===r.current.name&&r.go("parent-learners.classview.assignments")}),e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(s){return e.errorToastPosition[s]}).join(" ")},e.showErrorMessage=function(s){var t;t=s&&s.data&&s.data.error&&s.data.error.msg?s.data.error.msg:"Something went wrong. Please try again in a few minutes.",c.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+t,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:3e3,position:e.getErrorToastPosition()})},e.getMenuName=function(){r.current.name.indexOf("classview")>=0&&(r.current.name.indexOf("classview.roster")>=0?e.activeMenu="roster":r.current.name.indexOf("classview.assignments")>=0&&(e.activeMenu="assignments"))},e.loadClassData=_asyncToGenerator(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.isLoadingClass=!0,s.next=3,l.profileAsync();case 3:e.user=s.sent,i.getClass(e.token,function(s){e.classData=s.data.classData,e.isLoadingClass=!1},function(s){e.isLoadingClass=!1,e.showErrorMessage(s)});case 5:case"end":return s.stop()}},s)})),e.openClassAssignments=function(){n.eventTrack("class-open-assignment",{category:"class",label:"Open class assignment"})},e.loadClassData(),e.getMenuName()}ParentClassController.$inject=["$scope","$timeout","$interval","$rootScope","$analytics","$state","$stateParams","Classroom","$mdToast","Users"],angular.module("wizer.parentClasses").component("parentClassComponent",{templateUrl:"/js/parent-learners-area/classes/class.component.html",controller:ParentClassController}),ParentClassController.$inject=["$scope","$timeout","$interval","$rootScope","$analytics","$state","$stateParams","Classroom","$mdToast","Users"];

},{}],"/home/node/app/assets/js/parent-learners-area/classes/class.module.js":[function(require,module,exports){
"use strict";angular.module("wizer.parentClasses",[]);

},{}],"/home/node/app/assets/js/parent-learners-area/classes/classes.component.js":[function(require,module,exports){
"use strict";function parentClassesComponent(){return{templateUrl:"/js/parent-learners-area/classes/classes.component.html",controller:ParentClassesController}}function ParentClassesController(e,s,t,a,o,n,r,i,l,c,d,u){e.settings={},e.classes=[],e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(s){return e.errorToastPosition[s]}).join(" ")},e.showErrorMessage=function(s){var t;t=s&&s.data&&s.data.error&&s.data.error.msg?s.data.error.msg:"string"==typeof s?s:"Something went wrong. Please try again in a few minutes.",o.show({template:['<md-toast class="classes-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+t,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})},e.openClassMenu=function(e){console.log("open"),a(function(){e.open()},10)},e.showErrorMessage=function(s){var t;t=s&&s.data&&s.data.error&&s.data.error.msg?s.data.error.msg:"Something went wrong. Please try again in a few minutes.",o.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+t,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})},e.copyToClipboard=function(e,s,t){var a;try{switch(e){case"link":var n=u.encodeURIComponent("/joinClass/"+s),r=u.encodeURIComponent("Join Class: "+t);a="https://"+window.location.hostname+"/studentSignin?redir="+n+"&name="+r;break;case"code":a=s;break;default:return}}catch(e){console.error(e)}a&&a.length&&function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var s=document.createElement("textarea");s.textContent=e,s.style.position="fixed",document.body.appendChild(s),s.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(s)}}}(a)&&o.show(o.simple().textContent("Student invite copied to clipboard").hideDelay(3e3).position("top right").parent(angular.element(".mobile-class-list-container")))},e.loadClasses=function(){r.loadClassList(function(s){e.classes=s.data.classes,delete e.loadingClasses},function(s){delete e.loadingClasses,e.showErrorMessage("Failed to get classes list. Please try again in a minutes or contact our support.")})},e.init=function(){c.settings().then(function(s){e.settings=s}),e.loadingClasses=!0;var s=[],a=t.defer();i.profile(function(s){e.userProfile=s.data.profile,a.resolve()},function(s){e.userProfile=void 0,a.reject()}),s.push(a.promise);var o=t.defer();l.getFeature(function(s){e.userFeature=s.data,o.resolve()},function(e){o.reject()}),s.push(o.promise),t.all(s).then(function(s){e.loadClasses()},function(s){e.loadingClasses=!1})},e.showAddClass=function(){if(t=e.classes,e.isAddingClass||t&&t.length>=e.settings.maxClasses&&-1!==e.settings.maxClasses){s.eventTrack("payment-sale-popup-classlimit",{category:"payment",label:"Sale Popup - Class Limit"});return n.show({template:'<upgrade-account-dialog upgrade-msg="Upgrade to Wizer Boost to get <b>Unlimited Classrooms</b>, <b>Google Classroom roster integration</b> and many other cool features"></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0})}var t;e.newClass={}},e.cancelAddClass=function(){delete e.newClass},e.saveClass=function(){s.eventTrack("parent-class-create-new",{category:"class",label:"Create new parent class for one student"}),e.isAddingClass=!0,e.newClass.state="active",e.newClass.type="one-student-class",r.addClass(e.newClass,function(s){e.isAddingClass=!1,e.classes.push(s.data.classData),delete e.newClass},function(s){e.isAddingClass=!1,e.showErrorMessage(s)})},e.editClass=function(e){e.isEditing=!0,e.editedName=e.name,e.editedGrade=e.grade},e.cancelEditClass=function(e){delete e.isEditing,delete e.editedName,delete e.editedGrade},e.saveEditClass=function(t){s.eventTrack("class-edit",{category:"class",label:"Edit wizer class"}),t.isSaving=!0;var a=angular.copy(t);a.name=a.editedName,a.grade=a.editedGrade,r.saveClass(a,function(e){t.isSaving=!1,t.name=t.editedName,t.grade=t.editedGrade,delete t.isEditing,delete t.editedName,delete t.editedGrade},function(s){t.isSaving=!1,e.showErrorMessage(s)})},e.archieveClass=function(t,a){var o=n.confirm().title("Are you sure you want to delete this student?").htmlContent("").targetEvent(a).ok("YES, DO IT!").cancel("CANCEL");n.show(o).then(function(){s.eventTrack("class-remove",{category:"class",label:"Remove class"}),t.isArchieving=!0,t.state="archive",r.saveClass(t,function(s){var a;delete t.isArchieving,angular.forEach(e.classes,function(e,s){e.id==t.id&&(a=s)}),isNaN(a)||e.classes.splice(a,1)},function(s){delete t.isArchieving,e.showErrorMessage(s)})})},e.init()}angular.module("wizer.parentClasses").component("parentClassesComponent",parentClassesComponent()),ParentClassesController.$inject=["$scope","$analytics","$q","$timeout","$mdToast","$mdDialog","Classroom","Users","UserFeature","UserSvc","$stateParams","$window"];

},{}],"/home/node/app/assets/js/parent-learners-area/classes/index.js":[function(require,module,exports){
"use strict";require("./class.module"),require("./class-assignment.component"),require("./class.component"),require("./classes.component");

},{"./class-assignment.component":"/home/node/app/assets/js/parent-learners-area/classes/class-assignment.component.js","./class.component":"/home/node/app/assets/js/parent-learners-area/classes/class.component.js","./class.module":"/home/node/app/assets/js/parent-learners-area/classes/class.module.js","./classes.component":"/home/node/app/assets/js/parent-learners-area/classes/classes.component.js"}],"/home/node/app/assets/js/parent-learners-area/index.js":[function(require,module,exports){
"use strict";require("./learners-area.component"),require("./learners-area.router"),require("./classes");

},{"./classes":"/home/node/app/assets/js/parent-learners-area/classes/index.js","./learners-area.component":"/home/node/app/assets/js/parent-learners-area/learners-area.component.js","./learners-area.router":"/home/node/app/assets/js/parent-learners-area/learners-area.router.js"}],"/home/node/app/assets/js/parent-learners-area/learners-area.component.js":[function(require,module,exports){
"use strict";function parentLearnersAreaController(r){var e=this;r.profile(function(r){e.userProfile=r.data.profile})}parentLearnersAreaController.$inject=["Users"],angular.module("wizer.learnerProfile").component("parentLearnersArea",{templateUrl:"/js/parent-learners-area/learners-area.component.html",controller:parentLearnersAreaController}),parentLearnersAreaController.$inject=["Users"];

},{}],"/home/node/app/assets/js/parent-learners-area/learners-area.router.js":[function(require,module,exports){
"use strict";angular.module("wizer.learnerProfile").config(["$stateProvider","$urlRouterProvider",function(e,a){e.state("parent-learners",{url:"/dashboard/parent",template:'<parent-learners-area layout="column" flex></parent-learners-area>'}).state("parent-learners.classes",{url:"/classes",params:{action:null,actionSuccess:null},template:'<parent-classes-component layout="column" flex></parent-classes-component>'}).state("parent-learners.classview",{url:"/class/:token",template:'<parent-class-component layout="column" flex></parent-class-component>'}).state("parent-learners.classview.assignments",{url:"/assignments",template:'<parent-class-assignment layout="column" flex></parent-class-assignment>'})}]);

},{}],"/home/node/app/assets/js/payments/admin/create-coupon-code.component.js":[function(require,module,exports){
"use strict";function CreateCouponCodeController(o,e){var n=this;n.createCouponCode=function(){var t=n.coupons;n.coupons&&n.coupons.amount&&n.coupons.price&&(n.isCreatingCoupons=!0,function(n){var t=e.defer();return o.post("/payment/createCoupon",n).success(function(o){t.resolve(o)}).error(function(o){t.reject(o)}),t.promise}(t).then(function(o){n.createdCoupons=o,n.isCreatingCoupons=!1}).catch(function(o){n.errorMessage=o,n.isCreatingCoupons=!1}))}}CreateCouponCodeController.$inject=["$http","$q"],angular.module("wizer").component("createCouponCode",{templateUrl:"/js/payments/admin/create-coupon-code.component.html",controller:CreateCouponCodeController}),CreateCouponCodeController.$inject=["$http","$q"];

},{}],"/home/node/app/assets/js/payments/admin/index.js":[function(require,module,exports){
"use strict";require("./create-coupon-code.component");

},{"./create-coupon-code.component":"/home/node/app/assets/js/payments/admin/create-coupon-code.component.js"}],"/home/node/app/assets/js/payments/chargebee-button.component.js":[function(require,module,exports){
"use strict";function ChargeBeeButtonController(e){this.chargebee=e}ChargeBeeButtonController.$inject=["Chargebee"],angular.module("wizer").component("chargebeeButton",{templateUrl:"/js/payments/chargebee-button.component.html",controller:ChargeBeeButtonController}),ChargeBeeButtonController.$inject=["Chargebee"];

},{}],"/home/node/app/assets/js/payments/index.js":[function(require,module,exports){
"use strict";require("./chargebee-button.component"),require("./pricing.controller"),require("./purchase-worksheet-dialog.component"),require("./upgrade-account-dialog.component"),require("./admin");

},{"./admin":"/home/node/app/assets/js/payments/admin/index.js","./chargebee-button.component":"/home/node/app/assets/js/payments/chargebee-button.component.js","./pricing.controller":"/home/node/app/assets/js/payments/pricing.controller.js","./purchase-worksheet-dialog.component":"/home/node/app/assets/js/payments/purchase-worksheet-dialog.component.js","./upgrade-account-dialog.component":"/home/node/app/assets/js/payments/upgrade-account-dialog.component.js"}],"/home/node/app/assets/js/payments/pricing.controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("pricingCtrl",["$scope","Chargebee",function(e,r){e.subscribe=function(){r.yearlyCheckout()}}]);

},{}],"/home/node/app/assets/js/payments/purchase-worksheet-dialog.component.js":[function(require,module,exports){
"use strict";function purchaseWorksheetController(e){this.closeDialog=function(){e.hide()},this.purchaseWorksheet=function(){alert("Purchasing is not yet implemented")}}purchaseWorksheetController.$inject=["$mdDialog"],angular.module("wizer").component("purchaseWorksheetDialog",{templateUrl:"/js/payments/purchase-worksheet-dialog.component.html",controller:purchaseWorksheetController,bindings:{msg:"@"}}),purchaseWorksheetController.$inject=["$mdDialog"];

},{}],"/home/node/app/assets/js/payments/upgrade-account-dialog.component.js":[function(require,module,exports){
"use strict";function upgradeAccountController(o,n){var e=this;e.closeDialog=function(){e.showPaypal=!1,o.hide()},e.upgradeToPremium=function(){n.location.href="/pricing"}}upgradeAccountController.$inject=["$mdDialog","$window"],angular.module("wizer").component("upgradeAccountDialog",{templateUrl:"/js/payments/upgrade-account-dialog.component.html",controller:upgradeAccountController,bindings:{upgradeMsg:"@"}});

},{}],"/home/node/app/assets/js/reducers/dashboard.reducers.js":[function(require,module,exports){
"use strict";function dashboardReducersFactory(){return{reducers:function(r,o){var a=r;if(angular.isUndefined(a))return{dashboard:{}};switch(o.type){case"FOLDER_DESCRIPTION_CHANGE":(a=_.assign({},r)).folders[a.selectedFolder].description=angular.copy(o.payload);break;case"NEW_FOLDER":var l=e((a=_.assign({},r)).folders,o.payload.parent),s=a.folders;l&&(l.nodes||(l.nodes=[]),s=l.nodes,l.expanded=!0),s.push(o.payload),s.sort(function(e,d){return e.folder.name.localeCompare(d.folder.name)}),a.selectedFolder.folder&&a.selectedFolder.folder.folder&&a.selectedFolder.folder.folder.id==o.payload.parent&&(a.selectedFolder.folder.nodes&&a.selectedFolder.folder.nodes.length||(a.selectedFolder.folder.nodes=[]),a.selectedFolder.folder.nodes.push(o.payload));break;case"TOGGLE_FOLDER":var l=e((a=_.assign({},r)).folders,o.payload.folderId);l&&(o.payload.isExpand?l.expanded=!0:delete l.expanded);break;case"MARK_FOLDER_SHARED":var l=e((a=_.assign({},r)).folders,o.payload.folderId);l&&(l.isShared=!0);break;case"SELECT_FOLDER_BY_TOKEN":var n=e(r.folders,o.payload,"token");a=_.assign({},r),n&&d(a,n);break;case"SELECT_FOLDER":d(a=_.assign({},r),o.payload);break;case"RESET_SELECTED_FOLDER":(a=_.assign({},r)).selectedFolder.folder=void 0,a.selectedFolder.worksheets=void 0,a.selectedFolder.collaborators=[];break;case"FOLDER_LOADED":(a=_.assign({},r)).folders=o.payload;break;case"NEW_COLLABORATOR":(a=_.assign({},r)).selectedFolder.collaborators.push(angular.copy(o.payload.user));var n=e(a.folders,o.payload.folderId);n&&(n.folder.state="shared");break;case"FOLDER_USERS_LOAD":(a=_.assign({},r)).selectedFolder.collaborators=angular.copy(o.payload);break;case"FOLDER_WORKSHEETS_LOAD":(a=_.assign({},r)).selectedFolder.worksheets=angular.copy(o.payload);break;case"FOLDER_WORKSHEETS_FAIL":(a=_.assign({},r)).selectedFolder.worksheets=[];case"WORKSHEET_MOVED":r.dashboard.selectedFolder.folder&&r.dashboard.selectedFolder.worksheets?(a=_.assign({},r)).selectedFolder.worksheets=a.selectedFolder.worksheets.filter(function(e){return e.id!=o.payload.worksheet.id}):a=r;break;case"REMOVE_WORKSHEET":var t;(a=_.assign({},r)).selectedFolder.folder&&a.selectedFolder.worksheets&&(angular.forEach(a.selectedFolder.worksheets,function(e,d){e.id==o.payload&&(t=d)}),t>=0&&a.selectedFolder.worksheets.splice(t,1)),a.selectedFolder.worksheets.splice(o.payload,1);break;case"ADD_WORKSHEET":(a=_.assign({},r)).selectedFolder.worksheets.push(o.payload);break;case"DELETED_FOLDER":var n=e((a=_.assign({},r)).folders,o.payload.folder),s=a.folders;if(n.parent){var c=e(a.folders,n.parent);c&&!c.nodes&&(l.nodes=[]),s=c.nodes}var f=s.reduce(function(e,d,r){return e>=0?e:d.folder.id==n.folder.id?r:e},-1);f>=0&&s.splice(f,1),(!s||!s.length&&c&&null!=c.expanded)&&delete c.expanded,a.selectedFolder.folder&&a.selectedFolder.folder.nodes&&(angular.forEach(a.selectedFolder.folder.nodes,function(e,d){e.folder.id==o.payload.folder&&(i=d)}),i>=0&&a.selectedFolder.folder.nodes.splice(i,1));break;case"FOLDER_RENAMED":var i,p=e((a=_.assign({},r)).folders,o.payload.folder.id);p&&(p.folder.name=o.payload.folder.name),function(d,r){var o=d,a=e(d,r);a&&(a.nodes||(a.nodes=[]),o=a.nodes);o.sort(function(e,d){return e.folder.name.localeCompare(d.folder.name)})}(a.folders,o.payload.parent),a.selectedFolder.folder.folder.id==o.payload.folder.id&&(a.selectedFolder.folder.folder.name=o.payload.folder.name),a.selectedFolder.folder&&a.selectedFolder.folder.folder.id==o.payload.parent&&a.selectedFolder.folder.nodes&&(angular.forEach(a.selectedFolder.folder.nodes,function(e,d){e.folder.id==o.payload.folder.id&&(i=d)}),i>=0&&(a.selectedFolder.folder.nodes[i].folder.name=o.payload.folder.name));break;case"FOLDER_CHANGE_DESCRIPTION":var p=e((a=_.assign({},r)).folders,o.payload.folder.id);p&&(p.folder.description=o.payload.folder.description);break;case"FAIL_RENAMING_FOLDER":(a=_.assign({},r)).lastError=o.payload,console.log("Unhandled error action:",o.type,a.lastError);break;default:console.log("Unhandled action:",o.type),a=r}return a}};function e(d,r,o){var a;return o||(o=["folder","id"]),d.some(function(d){var l,s;return null!=(a=d.folder&&(l=d,s=o,(Array.isArray(s)?s.reduce(function(e,d){return e[d]},l):l[s])===r)?d:d.nodes?e(d.nodes,r,o):void 0)}),a}function d(d,r){(d.selectedFolder={folder:angular.copy(r)},function d(r,o){if(o.parent){var a=e(r.folders,o.parent);a&&(a.expanded=!0,d(r,a))}}(d,r),r.nodes&&r.nodes.length)&&((r=e(d.folders,r.folder.id)).isShared&&angular.forEach(r.nodes,function(e,d){e.isShared=!0}))}}angular.module("wizer.dashboard.reducers",[]).constant("dashboardReducers",dashboardReducersFactory().reducers);

},{}],"/home/node/app/assets/js/reducers/index.js":[function(require,module,exports){
"use strict";require("./wizer-redux.module"),require("./dashboard.reducers"),require("./learner-reducers");

},{"./dashboard.reducers":"/home/node/app/assets/js/reducers/dashboard.reducers.js","./learner-reducers":"/home/node/app/assets/js/reducers/learner-reducers.js","./wizer-redux.module":"/home/node/app/assets/js/reducers/wizer-redux.module.js"}],"/home/node/app/assets/js/reducers/learner-reducers.js":[function(require,module,exports){
"use strict";function learnerReducersFactory(){return{reducers:function(a,r){var s=a;if(angular.isUndefined(s))return{learner:{}};switch(r.type){case"GROUPS_LOADED":(s=_.assign({},a)).groups=r.payload;break;case"ATTRIBUTES_LOADED":(s=_.assign({},a)).attributes=r.payload;break;case"GROUP_ADDED":(s=_.assign({},a)).groups=s.groups.concat([r.payload]);break;case"REMOVE_GROUP":s=_.assign({},a),angular.forEach(s.groups,function(a,s){a.token==r.payload&&(u=s)}),isNaN(u)||s.groups.splice(u,1);break;case"EDIT_GROUP":var e;s=_.assign({},a),angular.forEach(s.groups,function(a,s){a.token==r.payload.token&&(e=s)}),isNaN(e)||(s.groups[e].name=r.payload.name);break;case"STUDENTS_LOADED":s=_.assign({},a),angular.forEach(s.groups,function(a,s){a.id==r.payload.groupId&&(n=s)}),isNaN(n)||(s.groups[n].students=r.payload.students);break;case"ADD_FILTER":var o;s=_.assign({},a),angular.forEach(s.groups,function(a,s){a.token==r.payload.group.token&&(o=s)}),isNaN(o)||(s.groups[o].filters||(s.groups[o].filters=[]),s.groups[o].filters.push(r.payload.filter));break;case"EDIT_FILTER":s=_.assign({},a),angular.forEach(s.groups,function(a,s){a.token==r.payload.groupToken&&(n=s)}),isNaN(n)||angular.forEach(s.groups[n].filters,function(a,e){a.id==r.payload.filter.id&&(s.groups[n].filters[e]=r.payload.filter)});break;case"REMOVE_FILTER":var n,u;s=_.assign({},a),angular.forEach(s.groups,function(a,s){a.id==r.payload.groupId&&(n=s)}),isNaN(n)||(angular.forEach(s.groups[n].filters,function(a,s){a.id==r.payload.filterId&&(u=s)}),isNaN(u)||s.groups[n].filters.splice(u,1));break;default:console.log("Unhandled action:",r.type),s=a}return s}}}angular.module("wizer.learner.reducers",[]).constant("leanerReducers",learnerReducersFactory().reducers);

},{}],"/home/node/app/assets/js/reducers/wizer-redux.module.js":[function(require,module,exports){
"use strict";var _ngRedux=_interopRequireDefault(require("ng-redux")),_reduxThunk=_interopRequireDefault(require("redux-thunk"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function reduxConfig(e,r,u,d){e.createStoreWith({dashboard:r,learner:u},[d],[],{learner:{groups:[],attributes:[]},dashboard:{tags:{},folders:void 0,selectedFolder:{collaborators:[],worksheets:void 0}}})}reduxConfig.$inject=["$ngReduxProvider","dashboardReducers","leanerReducers","$thunk"],angular.module("wizer.reducers",[_ngRedux.default,"wizer.dashboard.reducers","wizer.learner.reducers"]).config(reduxConfig).constant("$thunk",_reduxThunk.default),reduxConfig.$inject=["$ngReduxProvider","dashboardReducers","leanerReducers","$thunk"];

},{"ng-redux":false,"redux-thunk":"/home/node/app/node_modules/redux-thunk/lib/index.js"}],"/home/node/app/assets/js/resources/index.js":[function(require,module,exports){
"use strict";require("./resources.module"),require("./resource-assignments.component"),require("./resource-collection.component"),require("./resource-gallery.component"),require("./resource-gallery.component.old"),require("./resource-learnerworksheet.component"),require("./resource-organization.component"),require("./resources.component"),require("./resources.router");

},{"./resource-assignments.component":"/home/node/app/assets/js/resources/resource-assignments.component.js","./resource-collection.component":"/home/node/app/assets/js/resources/resource-collection.component.js","./resource-gallery.component":"/home/node/app/assets/js/resources/resource-gallery.component.js","./resource-gallery.component.old":"/home/node/app/assets/js/resources/resource-gallery.component.old.js","./resource-learnerworksheet.component":"/home/node/app/assets/js/resources/resource-learnerworksheet.component.js","./resource-organization.component":"/home/node/app/assets/js/resources/resource-organization.component.js","./resources.component":"/home/node/app/assets/js/resources/resources.component.js","./resources.module":"/home/node/app/assets/js/resources/resources.module.js","./resources.router":"/home/node/app/assets/js/resources/resources.router.js"}],"/home/node/app/assets/js/resources/resource-assignments.component.js":[function(require,module,exports){
"use strict";function ResourceAssignmentsController(e,s,t,r){var n=this;n.assignments=[],n.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},n.getErrorToastPosition=function(){return Object.keys(n.errorToastPosition).filter(function(e){return n.errorToastPosition[e]}).join(" ")},n.showErrorMessage=function(e){var s;s=e&&e.data&&e.data.error?e.data.error:"Something went wrong. Please try again in a few minutes.";t.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+s,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:n.getErrorToastPosition()})},n.loadAssignments=function(){n.isLoadingAssignments=!0,s.loadAssignments(function(e){var s=e.data.assignments;s.sort(function(e,s){return new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()}),n.assignments=s,n.isLoadingAssignments=!1},function(e){n.isLoadingAssignments=!1,n.showErrorMessage(e)})},n.getSolutionStatusIcon=function(e){if(!e||!r.hasOwnProperty(e))return r.default;return r[e]},n.getTeacherDisplayName=function(e){if(!e)return"";var s="";e.teacherUser&&(s=e.teacherUser.firstname?e.teacherUser.firstname+" "+e.teacherUser.lastname:e.teacherUser.username);return s},n.loadAssignments()}ResourceAssignmentsController.$inject=["$scope","Assignments","$mdToast","SOLUTION_STATUS_ICONS"],angular.module("wizer.resources").component("resourceAssignments",{templateUrl:"/js/resources/resource-assignments.component.html",controller:ResourceAssignmentsController}).constant("SOLUTION_STATUS_ICONS",{submit:"fa fa-check text-success","re-submit":"fa fa-check-circle text-success",default:"fa fa-clock-o text-primary"}),ResourceAssignmentsController.$inject=["$scope","Assignments","$mdToast","SOLUTION_STATUS_ICONS"];

},{}],"/home/node/app/assets/js/resources/resource-collection.component.js":[function(require,module,exports){
"use strict";function resourceCollectionComponent(){return{templateUrl:"/js/resources/resource-collection.component.html",controller:ResourceCollectionController,controllerAs:"$ctrl"}}function ResourceCollectionController(e,t,o,r,s,n,i,l,a,d,c,u,f,h,g,k,p,w,v,m,F,b,T,C){e.worksheets=[],e.covers={},e.position=f,e.students=[],e.folders=[],e.toastPosition={bottom:!1,top:!0,left:!1,right:!0},e.pageConfig={},o.$on("$stateChangeSuccess",function(){"resources.worksheets"==b.current.name&&g(function(){b.go("resources.worksheets.allworksheet")},0)}),e.getToastPosition=function(){return Object.keys(e.toastPosition).filter(function(t){return e.toastPosition[t]}).join(" ")};var W=this;e.init=function(){b.current&&"resources.worksheets"==b.current.name&&g(function(){b.go("resources.worksheets.allworksheet")}),e.worksheetsLoading=!0;var o=[],s=r.defer();a.profile(function(t){e.userProfile=t.data.profile,c.setData(t.data.profile),s.resolve()},function(t){e.userProfile=void 0,s.reject()}),o.push(s.promise);var l=r.defer();d.getFeature(function(e){c.setFeature(e.data),l.resolve()},function(e){l.reject()}),o.push(l.promise);var u=r.defer();i.list().success(function(t){t.covers.forEach(function(t){e.covers[t.name]=t}),u.resolve()},function(e){u.reject()}),o.push(u.promise),r.all(o).then(function(o){n.worksheets(e.pageConfig,function(o){delete e.worksheetsLoading,o.data.worksheets&&(e.worksheets=t.filterWorksheetVersion(o.data.worksheets,e.userProfile.id),e.updateIntercom(e.worksheets),e.selectedTags=[],e.wsTags=o.data.tags)},function(t){delete e.worksheetsLoading,console.log("Fail to get worksheets. %s",t)});var r=T.connect(function(e){return{selectedFolder:e.dashboard.selectedFolder,folderWorksheets:e.dashboard.selectedFolder.worksheets,folders:e.dashboard.folders}},{})(e.stateChanged);e.$on("$destroy",r)},function(e){console.log("promise fail:"+e)})},e.stateChanged=function(o,r){o.folderWorksheets?e.folderWorksheets=t.filterWorksheetVersion(o.folderWorksheets,e.userProfile.id):e.folderWorksheets=void 0,_.assign(W,o,r),W.folderWorksheets=void 0},e.$on("copied:worksheet",function(o,r){e.worksheets.push(r),W.selectedFolder&&W.selectedFolder.folder&&(T.dispatch({type:"ADD_WORKSHEET",payload:r}),e.folderWorksheets=t.filterWorksheetVersion(W.selectedFolder.worksheets,e.userProfile.id))}),e.$on("delete:worksheet",function(o,r){var s;angular.forEach(e.worksheets,function(e,t){e.id==r.id&&(s=t)}),e.worksheets.splice(s,1),W.selectedFolder&&W.selectedFolder.folder&&(T.dispatch({type:"REMOVE_WORKSHEET",payload:r.id}),e.folderWorksheets=t.filterWorksheetVersion(W.selectedFolder.worksheets,e.userProfile.id))}),e.$on("folder:worksheets:loaded",function(o){e.folderWorksheets=t.filterWorksheetVersion(W.selectedFolder.worksheets,e.userProfile.id)}),e.$on("folder:worksheets:moved",function(o){W.selectedFolder&&W.selectedFolder.folder&&(e.folderWorksheets=t.filterWorksheetVersion(W.selectedFolder.worksheets,e.userProfile.id))}),W.addWorksheet=function(){k.eventTrack("dashboard-create-new",{category:"dashboard",label:"Create new worksheet",folder:W.selectedFolder.folder?W.selectedFolder.folder.folder.id:void 0}),g(function(){var e="/editor";W.selectedFolder&&W.selectedFolder.folder&&(e+="?f="+W.selectedFolder.folder.folder.id),u.location.href=e},300)},W.closeSidenav=function(){!m("dashboard-left").isOpen()&&m("dashboard-left").isLockedOpen()||m("dashboard-left").toggle().then(function(){})},W.onShowAllWorksheets=function(){k.eventTrack("show-all-worksheet",{category:"dashboard-folder",label:"Show all user worksheets"}),W.closeSidenav(),b.go("resources.worksheets.allworksheet").then(function(){T.dispatch({type:"RESET_SELECTED_FOLDER",payload:null})})},e.showMyworksheet=function(){W.onShowAllWorksheets(),e.clearFilters()},e.updateIntercom=function(t){window.Intercom?window.intercomSettings&&window.intercomSettings.user_id?(window.intercomSettings.count_worksheets=t.length,window.intercomSettings.count_public_worksheets=t.filter(function(e){return e.isPublic}).length,window.Intercom("update",window.intercomSettings)):console.log("No user to report to intercom"):g(function(){e.updateIntercom(t)},1e3)},e.isSidenavOpen=function(){return m("dashboard-left").isOpen()||m("dashboard-left").isLockedOpen()},W.toggleSidenav=function(){if(!m("dashboard-left").isLockedOpen())return m("dashboard-left").toggle().then(function(){})},e.toCoverURL=function(t){return e.covers[t]?e.covers[t].path:e.covers.None?e.covers.None.path:""},e.getLeftOffset=function(t){return e.leftOffset},e.getTopOffset=function(t){return e.topOffset},e.openUserProfile=function(){k.eventTrack("dashboard-user-profile",{category:"dashboard",label:"User profile click"}),g(function(){u.location.href="/profile/"+e.userProfile.token},300)},e.onSearchTextChange=function(t){t?e.pageConfig.q=t:delete e.pageConfig.q,e.load()},e.load=function(o){e.worksheetsLoading=!0,n.worksheets(e.pageConfig,function(o){delete e.worksheetsLoading,o.data.worksheets&&(e.worksheets=t.filterWorksheetVersion(o.data.worksheets,e.userProfile.id),e.wsTags=o.data.tags)},function(t){delete e.worksheetsLoading,console.log("Fail to get worksheets. %s",t)})},e.worksheetsTags=function(){return e.wsTags},e.selectedTagsChanged=function(){e.selectedTags&&0!=e.selectedTags.length?(e.pageConfig.filter={tags:e.selectedTags},e.useSearchQuery&&s.search("q",e.selectedTagsQuery())):(e.pageConfig.filter=void 0,e.useSearchQuery&&s.search("q",void 0)),e.load()},e.selectedTagsQuery=function(){return e.selectedTags?e.selectedTags.reduce(function(e,t,o,r){return e+=t.tag.name,o+1<r.length&&(e+=","),e},""):""},e.$on("filter-tags-change",function(t){e.selectedTagsChanged(),W.closeSidenav()}),e.clearFilters=function(){e.selectedTags=[],e.selectedTagsChanged()},e.init()}angular.module("wizer.resources").factory("Publications",["Dashboard","$q",function(e,t){var o={data:{},setData:function(e,t){o.data[e]=t},getData:function(r){var s=t.defer();return o.data[r]?s.resolve(o.data[r]):e.publications(r,function(e){o.setData(r,e.data.publications),s.resolve(e.data.publications)},function(e){s.reject(e)}),s.promise}};return o}]).factory("LoggedinUserData",function(){var e={setData:function(t){e.data=t},getData:function(){return e.data},setFeature:function(t){e.feature=t},getFeature:function(){return e.feature}};return e}).filter("worksheetTreefilter",function(){return function(e,t){var o={};return e.sort(function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}),angular.forEach(e,function(e,t){var r;null==e.parentId?o[e.id]=e:(r=function e(t,o){if(t[o])return t[o];for(var r in t)if(t[r].child)return e(t[r].child,o)}(o,e.parentId))?(r.child||(r.child={}),r.child[e.id]=e):(o[e.parentId]={child:{}},o[e.parentId].child[e.id]=e)}),o}}).filter("userWorksheetFilter",function(){return function(e,t){var o=[];return function e(t,r){if(t.user&&t.user.id&&t.user.id==r&&o.push(t),t.child)for(var s in t.child)e(t.child[s],r)}(e,t),o}}).filter("parentWorksheetFilter",function(){return function(e){var t=[];return function e(o){if(o.id)t.push(o);else if(o.child){var r;for(var s in o.child)o.child[s].id&&(r=s);if(r)t.push(o.child[r]);else for(var s in o.child)e(o.child[s].child)}}(e),t}}).filter("worksheetBranchAllWorksheetFilter",function(){return function(e){var t=[];return function e(o){if(o.id&&t.push({name:o.name,id:o.id,lastRev:o.lastRev,user:o.user,parentId:o.parentId}),o.child)for(var r in o.child)o.child[r].id&&t.push({name:o.child[r].name,id:o.child[r].id,lastRev:o.child[r].lastRev,user:o.child[r].user,parentId:o.child[r].parentId}),o.child[r].child&&e(o.child[r].child)}(e),t}}).component("resourceCollection",resourceCollectionComponent()),ResourceCollectionController.$inject=["$scope","wsVersionFilter","$rootScope","$q","$location","Dashboard","Covers","Editor","Users","UserFeature","LoggedinUserData","$window","$position","WSPublications","$timeout","$analytics","Publications","$mdMenu","$mdDialog","$mdSidenav","$mdToast","$state","$ngRedux","Folders"];

},{}],"/home/node/app/assets/js/resources/resource-gallery.component.js":[function(require,module,exports){
"use strict";function asyncGeneratorStep(e,t,r,o,n,a,i){try{var s=e[a](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(o,n)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var a=e.apply(t,r);function i(e){asyncGeneratorStep(a,o,n,i,s,"next",e)}function s(e){asyncGeneratorStep(a,o,n,i,s,"throw",e)}i(void 0)})}}function resourceGalleryComponent(){return{templateUrl:"/js/resources/resource-gallery.component.html",controller:ResourceGalleryController}}function ResourceGalleryController(e,t,r,o,n,a,i,s,l,c,u,h,g,p,k,m,d,y){e.publications=[],e.covers={},e.searchQuery="",e.useSearchQuery=!0,e.pageNumber=0,e.$parent.$broadcast("change-menu","gallery"),e.addWorksheet=function(){h.eventTrack("dashboard-gallery-create-new",{category:"dashboard",label:"Create new worksheet from gallery"}),c(function(){g.location.href="/editor"},300)},e.load=function(t,r){e.isLoading=!0,0===e.pageNumber&&(e.publications=[]);l.loadWorksheets(e.searchQuery,e.pageNumber,20).then(function(r){var o=r.data.hits;e.numberOfSearchHits=r.data.nbHits,0===e.pageNumber?(e.publications=o,e.numberOfHits=void 0):e.publications=e.publications.concat(o),delete e.isLoading,e.$apply(),o&&o.length>0?(e.pageLoaded=e.pageNumber,e.pageNumber++):0===o.length&&(e.worksheetsLoaded=!0),t&&t(r)},function(t){console.log("Fail to load public worksheets, %s",t),delete e.isLoading,r&&r()})},e.loadMore=function(){e.initialized&&e.pageNumber>0&&e.pageLoaded===e.pageNumber-1&&!e.isLoading&&!e.worksheetsLoaded&&e.load()},e.getAuthorName=function(e){return e&&e.user?e.user.firstname&&e.user.lastname?e.user.firstname+" "+e.user.lastname:e.user.firstname?e.user.firstname:"Anonymous":"NA"},e.copy=function(e){h.eventTrack("gallery-copy",{category:"gallery",label:"Copy worksheet from gallery"}),c(function(){g.location.href="/editor/copy/"+e.token},300)},e.toggleLikeWorksheet=function(t){h.eventTrack("gallery-like",{category:"gallery",label:"Like worksheet in gallery"}),e.userProfile&&e.userProfile.id>=0?l.likeWorksheet({wsid:t.worksheet.id},function(e){t.isLiked=e.isLiked,t.worksheet.likes=e.likes},function(e){}):p.show({template:'<md-toast class="copy-to-clipboard-popup do-login-toaster"><span flex>Log in to Like</span></md-toast>',hideDelay:3e3,position:e.getToastPosition()})},e.showBottomSheet=function(e){e.showBottomSheet=!0},e.hideBottomSheet=function(e){delete e.showBottomSheet},e.toastPosition={bottom:!0,top:!1,left:!1,right:!0},e.getToastPosition=function(){return Object.keys(e.toastPosition).filter(function(t){return e.toastPosition[t]}).join(" ")},e.getLink=function(e){return g.location.origin+"/preview/"+e.token},e.getImageLink=function(e){var t="";return console.log("getImageLink",e),e&&e.worksheet&&e.worksheet.thumbnail?t=e.worksheet.thumbnail:e&&e.worksheet&&e.worksheet.style&&e.worksheet.style.background&&(t=e.worksheet.style.background.configurable&&e.worksheet.style.images&&e.worksheet.style.images[0]&&e.worksheet.style.images[0].path?e.worksheet.style.images[0].path:e.worksheet.style.background.images&&e.worksheet.style.background.images[0]&&e.worksheet.style.background.images[0].path?e.worksheet.style.background.images[0].path:e.worksheet.style.background.thumbnail?e.worksheet.style.background.thumbnail:e.worksheet.style.background.path),t.indexOf("http")>=0?t:"https://app.wizer.me"+t},e.copyLink=function(t,r){var o=e.getLink(t);e.openCopyLinkDialog(r,o),h.eventTrack("gallery-copy-link",{category:"gallery",label:"copy worksheet link in gallery"})},e.openCopyLinkDialog=function(e,t){var r=angular.element(document.body);k.show({parent:r,targetEvent:e,templateUrl:"/templates/copy-preview-link-dialog.html",locals:{link:t},controller:function(e,t,r){e.link=r,e.closeDialog=function(){t.hide()}}}),c(function(){$('[aria-label="link"]').select()},700)},e.shareEdmodo=function(t){var r=e.getLink(t),o="https://www.edmodo.com/home?share=1&source=95015059&url="+encodeURIComponent(r)+"&desc=",n="Use @wizerme interactive worksheet "+encodeURIComponent(t.worksheet.name?'"'+t.worksheet.name+'" ':"")+"with your students or create your own!";h.eventTrack("gallery-share-edmodo",{category:"gallery",label:"Share worksheet in edmodo"}),window.open(o+n,"_blank")},e.shareTwitter=function(t){var r=e.getLink(t),o="text=Use @wizerme interactive worksheet "+encodeURIComponent(t.worksheet.name?'"'+t.worksheet.name+'" ':"")+"with your students or create your own!&url="+encodeURIComponent(r)+"&hashtags=Worksheet,EdTech";h.eventTrack("gallery-share-twitter",{category:"gallery",label:"Share worksheet in twitter"}),window.open("https://twitter.com/intent/tweet?"+o,"_blank")},e.sharePinterest=function(t){var r,o=e.getLink(t);r="url="+encodeURIComponent(o),e.getImageLink(t)&&(r=r+"&media="+encodeURIComponent(e.getImageLink(t))),r=r+"&description=Use this Wizer.Me​ interactive worksheet "+encodeURIComponent(t.worksheet.name?'"'+t.worksheet.name+'" ':"")+"with your students or create your own.",h.eventTrack("gallery-share-pinterest",{category:"gallery",label:"Share worksheet in pinterest"}),window.open("http://pinterest.com/pin/create/button/?"+r,"_blank")},e.pinPublication=function(t){var r,o=e.getLink(t);r="url="+encodeURIComponent(o),e.getImageLink(t)&&(r=r+"&media="+encodeURIComponent(e.getImageLink(t))),r=r+"&description=Wizer.Me​ interactive worksheet "+encodeURIComponent(t.worksheet.name?'"'+t.worksheet.name+'" ':"")+".",h.eventTrack("gallery-pin-worksheet",{category:"gallery",label:"Pin worksheet from gallery"}),window.open("http://pinterest.com/pin/create/button/?"+r,"_blank")},e.shareFacebook=function(t){var r={method:"feed",link:e.getLink(t),caption:"Wizer.me",description:"Use this @Wizer.Me​ interactive worksheet "+(t.worksheet.name?'"'+t.worksheet.name+'" ':"")+"with your students or create your own! #EdTech"};e.getImageLink(t)&&(r.picture=e.getImageLink(t)),h.eventTrack("gallery-share-facebook",{category:"gallery",label:"Share worksheet in facebook"}),FB.ui(r)},e.editor=function(){h.eventTrack("gallery-editor",{category:"gallery",label:"Start Editor"}),c(function(){g.location.href="/signup?redir="+g.encodeURIComponent("/editor")},300)},e.getThumbnailImage=function(t){var r;if(t){if(t.worksheet&&t.worksheet.thumbnail&&t.worksheet.thumbnail.length>0)return y.resizedImage(t.worksheet.thumbnail,300);t.worksheet&&t.worksheet.style&&t.worksheet.style.background&&((r=e.covers[t.worksheet.style.background.name])||(r=t.worksheet.style.background));var o="";return(o=r&&r.configurable&&t.worksheet.style.images&&t.worksheet.style.images[0]&&t.worksheet.style.images[0].path?t.worksheet.style.images[0].path:r&&r.thumbnail?r.thumbnail:r&&r.path?r.path:r)&&o.length?o.replace("s3.amazonaws.com/",""):""}},e.parseQueryStringFilters=function(){var t=n.search();_.isEmpty(t)||(e.useSearchQuery=!0,_.isEmpty(t.q)||(e.searchQuery=t.q))},e.convertToQueryParam=function(e){return _.isEmpty(e)?void 0:_.isArray(e)?e.join(","):e},e.setSearchQueryParam=function(t,r){n.search(t,e.convertToQueryParam(r))},e.onFiltersChanged=function(){if(delete e.worksheetsLoaded,e.pageNumber=0,e.initialized)return e.useSearchQuery&&(console.log("query params are about to be set",e.searchQuery),e.setSearchQueryParam("q",e.searchQuery)),e.load()},e.init=function(){var t=[],r=a.defer();i.profile(function(t){e.userProfile=t.data.profile,r.resolve()},function(t){e.userProfile=void 0,r.resolve()}),t.push(r.promise);var o=a.defer();s.list().success(function(t){t.covers.forEach(function(t){t.images[0]&&t.images[0].path&&(t.path=t.images[0].path),e.covers[t.name]=t}),o.resolve()},function(e){o.reject()}),t.push(o.promise),$.ajaxSetup({cache:!0}),$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({appId:"458848907630765",version:"v2.4"})}),a.all(t).then(function(){e.parseQueryStringFilters(),e.onFiltersChanged(),e.load(function(t){e.initialized=!0},function(){console.log("in initial load fail")})},function(e){console.log("promise fail:"+e)})},e.searchQueryChanged=function(t){e.searchQuery=t,console.log("search query changed!",t),e.onFiltersChanged()},e.isEmptySearchResults=function(){var t=!!e.searchQuery,r=0===e.publications.length;return t&&r&&!e.isLoading},e.initialized=!1,e.init()}angular.module("wizer.resources").factory("Gallery",["$http","$q","AlgoliaSearch",function(e,t,r){return{saveOrderWeight:function(t){return e.post("/gallery/saveOrderWeight",t)},likeWorksheet:function(t,r,o){e.post("/worksheet/like",t).success(r).error(o)},loadWorksheets:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(o,n,a){var i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o){t.next=9;break}return t.next=4,e.get("/wspublication/publicWorksheets",{params:{pageNumber:n,limit:a,sort:"impactScore",shuffleTop:!0}});case 4:s=t.sent,(i=s.data).hits=i.publications,t.next=12;break;case 9:return t.next=11,r.search(o,n,a);case 11:i=t.sent;case 12:return t.abrupt("return",{result:"success",data:i});case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{result:"error",error:t.t0});case 18:case"end":return t.stop()}},t,null,[[0,15]])}));return function(e,r,o){return t.apply(this,arguments)}}()}}]).component("resourceGallery",resourceGalleryComponent()),ResourceGalleryController.$inject=["$scope","fflip","$attrs","$rootScope","$location","$q","Users","Covers","Gallery","$timeout","$http","$analytics","$window","$mdToast","$mdDialog","$filter","$tags","WeserveImages"];

},{}],"/home/node/app/assets/js/resources/resource-gallery.component.old.js":[function(require,module,exports){
"use strict";

},{}],"/home/node/app/assets/js/resources/resource-learnerworksheet.component.js":[function(require,module,exports){
"use strict";function resourceAssignments(){return{templateUrl:"/js/resources/resource-learnerworksheet.component.html",controller:ResourceLearnerWorksheetsController}}function ResourceLearnerWorksheetsController(e,r,s,t,o,n,a){var i=this;i.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},i.covers={},i.selectedStudent="",i.getErrorToastPosition=function(){return Object.keys(i.errorToastPosition).filter(function(e){return i.errorToastPosition[e]}).join(" ")},i.showErrorMessage=function(e){var r;r=e&&e.data&&e.data.error?e.data.error:"Something went wrong. Please try again in a few minutes.";o.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+r,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:i.getErrorToastPosition()})},i.loadWorksheets=function(){i.isLoadingWorksheets=!0,s.loadLearnerWorksheets(function(e){i.worksheets=e.data.worksheets,e.data.worksheets&&(i.worksheets=e.data.worksheets,i.selectedTags=[],i.wsTags=e.data.tags),i.isLoadingWorksheets=!1},function(e){i.isLoadingWorksheets=!1,i.showErrorMessage(e)})},i.loadAllStudents=function(){s.getAllStudents(function(e){i.students=e.data.students},function(e){})},i.getDisplayName=function(e){e.userData&&_.isObject(e.userData)&&(e=e.userData);var r=e.firstname,s=e.lastname;if(!(r&&r.length||s&&s.length))return e.username;return r+" "+s},i.isLoadingWorksheets=!0,a.settings().then(function(e){if(i.usettings=e,i.usettings&&i.usettings.PERSONALIZATION)return function(){var e=[],o=t.defer();s.profile(function(e){i.userProfile=e.data.profile,o.resolve()},function(e){i.userProfile=void 0,o.reject()}),e.push(o.promise);var n=t.defer();r.list().success(function(e){e.covers.forEach(function(e){i.covers[e.name]=e}),n.resolve()},function(e){n.reject()}),e.push(n.promise),t.all(e).then(function(e){i.loadWorksheets(),i.loadAllStudents()},function(e){i.isLoadingWorksheets=!1,console.log("promise fail:"+e),i.showErrorMessage(e)})}();i.isLoadingWorksheets=!1})}angular.module("wizer.resources").filter("filterLearnerWorksheet",function(){return function(e,r){var s=[];if(r){for(var t=0;t<e.length;t++)e[t].userId==r&&s.push(e[t]);return s}return e}}).component("resourceLearnerWorksheets",resourceAssignments()),ResourceLearnerWorksheetsController.$inject=["$scope","Covers","Users","$q","$mdToast","$mdSidenav","UserSvc"];

},{}],"/home/node/app/assets/js/resources/resource-organization.component.js":[function(require,module,exports){
"use strict";function resourceOrganizationComponent(){return{templateUrl:"/js/resources/resource-organization.component.html",controller:ResourceOrganizationController}}function ResourceOrganizationController(e,o,t,n,r,s,i,a,l,d,c,f,g,u,h,p,k,w,m,v,F,T,z,O,b,S,$){e.worksheets=[],e.organizationToken=o.orgToken,e.defaultOrgCover="/images/page-background/bgs_worksheets_bg.jpg",e.covers={},e.position=u,e.students=[],n.$broadcast("change-menu","dashboard"),e.folders=[],e.toastPosition={bottom:!1,top:!0,left:!1,right:!0},e.pageConfig={},e.getToastPosition=function(){return Object.keys(e.toastPosition).filter(function(o){return e.toastPosition[o]}).join(" ")};var C=this;e.init=function(){e.worksheetsLoading=!0;var o=[],t=r.defer();d.profile(function(o){e.userProfile=o.data.profile,f.setData(o.data.profile),t.resolve()},function(o){e.userProfile=void 0,t.reject()}),o.push(t.promise);var n=r.defer();c.getFeature(function(e){f.setFeature(e.data),n.resolve()},function(e){n.reject()}),o.push(n.promise);var s=r.defer();a.list().success(function(o){o.covers.forEach(function(o){e.covers[o.name]=o}),s.resolve()},function(e){s.reject()}),o.push(s.promise),r.all(o).then(function(o){e.loadOrganization(),e.loadOrganizationTags();var t=O.connect(function(e){return{selectedFolder:e.dashboard.selectedFolder,folderWorksheets:e.dashboard.selectedFolder.worksheets,folders:e.dashboard.folders}},{})(e.stateChanged);e.$on("$destroy",t)},function(e){console.log("promise fail:"+e)})},e.onUploadStart=function(){e.isCoverUploading=!0},e.onFilesSubmitted=function(o,t){console.log("files submitted"),e.s3upload=new S3Upload({files_element:t.target,s3_sign_put_url:"/file/signS3",onProgress:function(e,o){console.log("Upload progress: "+e+"% "+o)},onFinishS3Put:function(t){console.log("Upload completed. Uploaded to: "+t),e.setUploadedImage(o[0],t)},onError:function(o){console.log("Upload error: "+o),e.onUploadError(null,o)}}),e.isCoverUploading=!0},e.onUploadError=function(o,t){e.isCoverUploading=!1},e.setUploadedImage=function(o,t){$.get(t,{cache:!0}).success(function(){e.isCoverUploading=!1,e.organizationData.coverPath=t,e.saveOrganization(),$.post("/file/s3uploadDone",{filename:o.name,imagePath:t,type:"org-cover"}).success(function(){console.log("Success register image upload")}).error(function(e){console.log("Fail register image upload. %s",e)})}).error(function(o){e.isCoverUploading=!1,console.log("Fail to get image (%s) from s3. %s",t,o)})},e.onUploadSucess=function(o,t){var n=JSON.parse(t);if(n&&n.files.length>0){var r=n.files[0].extra.Location;e.setUploadedImage(n.files[0],r)}},e.saveOrganization=function(){S.save(e.organizationData,function(o){console.log("response",o),e.organizationData=angular.extend(e.organizationData,o.data.updatedOrganization)},function(e){console.log("Fail to get worksheets. %s",e)})},e.stateChanged=function(o,n){console.log("State update",o),o.selectedFolder&&o.selectedFolder.folder&&(delete e.searchResults,e.selectedTags=[]),o.folderWorksheets?e.folderWorksheets=t.filterWorksheetVersion(o.folderWorksheets,e.userProfile.id):e.folderWorksheets=void 0,_.assign(C,o,n),C.folderWorksheets=void 0},e.$on("copied:worksheet",function(o,n){e.worksheets.push(n),C.selectedFolder&&C.selectedFolder.folder&&(O.dispatch({type:"ADD_WORKSHEET",payload:n}),e.folderWorksheets=t.filterWorksheetVersion(C.selectedFolder.worksheets,e.userProfile.id))}),e.$on("delete:worksheet",function(o,n){var r;angular.forEach(e.worksheets,function(e,o){e.id==n.id&&(r=o)}),e.worksheets.splice(r,1),C.selectedFolder&&C.selectedFolder.folder&&(O.dispatch({type:"REMOVE_WORKSHEET",payload:n.id}),e.folderWorksheets=t.filterWorksheetVersion(C.selectedFolder.worksheets,e.userProfile.id))}),e.$on("folder:worksheets:loaded",function(o){e.folderWorksheets=t.filterWorksheetVersion(C.selectedFolder.worksheets,e.userProfile.id)}),e.$on("folder:worksheets:moved",function(o){C.selectedFolder&&C.selectedFolder.folder&&(e.folderWorksheets=t.filterWorksheetVersion(C.selectedFolder.worksheets,e.userProfile.id))}),C.addWorksheet=function(){console.log("in addWorksheet"),k.eventTrack("dashboard-create-new",{category:"dashboard",label:"Create new worksheet",folder:C.selectedFolder.folder?C.selectedFolder.folder.folder.id:void 0}),p(function(){var e="/editor";C.selectedFolder&&C.selectedFolder.folder&&(e+="?f="+C.selectedFolder.folder.folder.id),g.location.href=e},300)},C.closeSidenav=function(){!F("dashboard-left").isOpen()&&F("dashboard-left").isLockedOpen()||F("dashboard-left").toggle().then(function(){})},e.updateIntercom=function(o){if(!window.Intercom)return console.log("intercom not ready yet"),void p(function(){e.updateIntercom(o)},1e3);window.intercomSettings&&window.intercomSettings.user_id?(window.intercomSettings.count_worksheets=o.length,window.intercomSettings.count_public_worksheets=o.filter(function(e){return e.isPublic}).length,window.Intercom("update",window.intercomSettings)):console.log("No user to report to intercom")},e.isSidenavOpen=function(){return F("dashboard-left").isOpen()||F("dashboard-left").isLockedOpen()},C.toggleSidenav=function(){if(!F("dashboard-left").isLockedOpen())return F("dashboard-left").toggle().then(function(){})},e.toCoverURL=function(o){return e.covers[o]?e.covers[o].path:e.covers.None?e.covers.None.path:""},e.getLeftOffset=function(o){return e.leftOffset},e.getTopOffset=function(o){return e.topOffset},e.openUserProfile=function(){k.eventTrack("dashboard-user-profile",{category:"dashboard",label:"User profile click"}),p(function(){g.location.href="/profile/"+e.userProfile.token},300)},e.load=function(){e.worksheetsLoading=!0,S.worksheets(e.organizationToken,e.pageConfig,function(o){delete e.worksheetsLoading,e.searchResults=!0,o.data.worksheets&&(e.worksheets=t.filterWorksheetVersion(o.data.worksheets,e.userProfile.id))},function(o){delete e.worksheetsLoading,e.searchResults=!0,console.log("Fail to get worksheets. %s",o)})},e.loadOrganization=function(){e.organizationLoading=!0,S.get(e.organizationToken,function(o){delete e.organizationLoading,e.organizationData=o.data.organization},function(o){delete e.organizationLoading,console.log("Fail to get worksheets. %s",o)})},e.loadOrganizationTags=function(){S.getTags(e.organizationToken,function(o){e.selectedTags=[],e.wsTags=o.data.tags},function(e){console.log("Fail to get organization tags. %s",e)})},e.worksheetsTags=function(){return e.wsTags},e.selectedTagsChanged=function(){z.go("resources.orgview.searchworksheet",{orgToken:e.organizationToken}).then(function(){O.dispatch({type:"RESET_SELECTED_FOLDER",payload:null})}),e.selectedTags&&0!=e.selectedTags.length?(e.pageConfig.filter={tags:e.selectedTags},e.useSearchQuery&&s.search("q",e.selectedTagsQuery())):(e.pageConfig.filter=void 0,e.useSearchQuery&&s.search("q",void 0)),e.load()},e.selectedTagsQuery=function(){return e.selectedTags?e.selectedTags.reduce(function(e,o,t,n){return e+=o.tag.name,t+1<n.length&&(e+=","),e},""):""},e.$on("filter-tags-change",function(o){e.selectedTagsChanged(),C.closeSidenav()}),e.clearFilters=function(){e.selectedTags=[],e.selectedTagsChanged()},e.init()}angular.module("wizer.resources").component("resourceOrganization",resourceOrganizationComponent()),ResourceOrganizationController.$inject=["$scope","$stateParams","wsVersionFilter","$rootScope","$q","$location","Dashboard","Covers","Editor","Users","UserFeature","LoggedinUserData","$window","$position","WSPublications","$timeout","$analytics","Publications","$mdMenu","$mdDialog","$mdSidenav","$mdToast","$state","$ngRedux","Folders","Organization","$http"];

},{}],"/home/node/app/assets/js/resources/resources.component.js":[function(require,module,exports){
"use strict";function resourcesComponent(){return{templateUrl:"/js/resources/resources.component.html",controller:ResourceController}}function ResourceController(e,r,n,o,s,t){var u=this;function c(){o.current.name.indexOf("resources")>=0&&(o.current.name.indexOf("resources.worksheets")>=0?u.activeMenu="collection":o.current.name.indexOf("resources.gallery")>=0?u.activeMenu="community":o.current.name.indexOf("resources.assignments")>=0&&(u.activeMenu="assignments"))}function i(){o.current&&"resources"===o.current.name&&n(function(){u.userProfile&&"student"!==u.userProfile.type?o.go("resources.gallery"):u.userProfile&&"student"===u.userProfile.type&&o.go("resources.assignments"),c()}),c()}u.activeMenu="",e.$on("$stateChangeSuccess",i),r.all([s.profile(function(e){u.userProfile=e.data.profile},function(e){u.userProfile=void 0})]).then(function(){i()})}ResourceController.$inject=["$rootScope","$q","$timeout","$state","Users","UserSvc"],angular.module("wizer.resources").component("resourcesComponent",resourcesComponent());

},{}],"/home/node/app/assets/js/resources/resources.module.js":[function(require,module,exports){
"use strict";angular.module("wizer.resources",["wizer.dashboard"]);

},{}],"/home/node/app/assets/js/resources/resources.router.js":[function(require,module,exports){
"use strict";angular.module("wizer.resources").config(["$stateProvider","$urlRouterProvider",function(e,r){r.when("/dashboard/",["$state",function(e){e.go("resources")}]),r.when("/dashboard/collection",["$state",function(e){e.go("resources.worksheets")}]),e.state("ro-folderview",{url:"/viewfolder/:token",templateUrl:"/js/resources/ro-folderview.html"}).state("resources",{url:"/dashboard",template:'<resources-component layout="row" flex></resources-component>'}).state("resources.upgradeComplete",{url:"/upgraded/:paymentId",template:'<upgrade-complete layout="row" flex></upgrade-complete>'}).state("resources.gallery",{url:"/community",template:'<resource-gallery layout="row" flex></resource-gallery>'}).state("resources.assignments",{url:"/assignments",template:'<resource-assignments layout="row" flex></resource-assignments>'}).state("resources.worksheets",{url:"/collection",template:'<resource-collection layout="row" flex></resource-collection>'}).state("resources.worksheets.folderview",{url:"/folder/:token",templateUrl:"/js/resources/folderview.html"}).state("resources.worksheets.allworksheet",{url:"/",templateUrl:"/js/resources/allworksheet.html"}).state("resources.orgview",{url:"/organization/:orgToken",template:"<resource-organization flex></resource-organization>"}).state("resources.orgview.searchworksheet",{templateUrl:"/js/resources/allworksheet.html"}).state("resources.orgview.noworksheet",{templateUrl:"/js/resources/no-org-worksheetview.html"}).state("resources.orgview.folderview",{url:"/folder/:token",templateUrl:"/js/resources/folderview.html"})}]);

},{}],"/home/node/app/assets/js/services/algolia.service.js":[function(require,module,exports){
"use strict";function asyncGeneratorStep(e,n,r,t,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?n(s):Promise.resolve(s).then(t,a)}function _asyncToGenerator(e){return function(){var n=this,r=arguments;return new Promise(function(t,a){var i=e.apply(n,r);function o(e){asyncGeneratorStep(i,t,a,o,c,"next",e)}function c(e){asyncGeneratorStep(i,t,a,o,c,"throw",e)}o(void 0)})}}var algoliasearch=require("algoliasearch"),Algolia=function(e){this.init=function(){this.client=algoliasearch("7875CUZQVB","12287a9a1d007ef1bb72963556aeb99b"),this.index=this.client.initIndex("gallery")},this.search=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(n,r,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index.search(n,{page:r,hitsPerPage:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(n,r,t){return e.apply(this,arguments)}}()};angular.module("wizerServices").service("AlgoliaSearch",["$http",function(e){var n=new Algolia(e);return n.init(),n}]);

},{"algoliasearch":false}],"/home/node/app/assets/js/services/assign-modal.service.js":[function(require,module,exports){
"use strict";function AssignModal(e,o){return{open:function(s,n,t,i,r){var a;if(o.getByToken({token:s},function(o){a=e.open({templateUrl:"/templates/assign-worksheet-modal.html",controller:"AssignWorksheetModalCtrl",windowClass:"publish-modal",backdrop:"static",keyboard:!1,resolve:{modalData:function(){return{wstoken:s,worksheet:o,courses:t,userSettings:i,userType:r}}}})}),!a)return;return a.result.then(function(e){var o=e[0],s=e[1];n.autoFeedback=o,n.isPublic=s,console.info("Assign modal dismissed at: "+new Date)},function(e){console.info("Assign modal with reason : "+e)})}}}AssignModal.$inject=["$uibModal","Editor"],angular.module("wizerServices").factory("worksheetAssignModal",AssignModal),AssignModal.$inject=["$uibModal","Editor"];

},{}],"/home/node/app/assets/js/services/asyncTimeout.service.js":[function(require,module,exports){
"use strict";angular.module("wizerServices").service("asyncTimeout",function(){return function(e){return new Promise(function(n){return setTimeout(n,e)})}});

},{}],"/home/node/app/assets/js/services/chargebee.service.js":[function(require,module,exports){
"use strict";var MobileDetect=require("mobile-detect"),ChargebeeAPI=function(e,o,t,s,r,n,c){var a=this;a.toast=function(e,o){var t=s.simple(o).toastClass(e).hideDelay(1e4);s.show(t)},a.toastError=function(e){a.toast("purchase-toast-error-message",e)},a.toastSuccess=function(e){a.toast("purchase-toast-success-message",e)},a.init=function(){a.cbInstance=window.Chargebee.init({enableGATracking:!0}),a.resetState(),a.maybeCheckoutFromURLParams()},a.maybeCheckoutFromURLParams=function(){var e=r.search().planId,o=new MobileDetect(window.navigator.userAgent);e&&!o.mobile()&&a.openSubscriptionCheckout(e)},a.resetState=function(){a.hostedPageId=null,a.checkoutCreationError=null},a.yearlyCheckout=function(){a.resetState(),a.openSubscriptionCheckout("awesome-plan-yearly")},a.monthlyCheckout=function(){a.openSubscriptionCheckout("awesome-plan-monthly")},a.openSubscriptionCheckout=function(e,o,t){a.openCheckout("/user/get-subscription-checkout-url",{planId:e},o,t)},a.openPremiumWorksheetCheckout=function(e){a.openCheckout("/user/get-worksheet-checkout-url",{worksheetId:e})},a.openCheckout=function(s,r,u,i){a.cbInstance.openCheckout({hostedPage:function(){var o=t.defer();return e.post(s,r).success(function(e){o.resolve(e.hostedPage)}).error(function(e){o.reject(e),a.checkoutCreationError=e,"error"===e.result?a.toastError("Oops, something went wrong: "+e.reason):a.toastError("Oops, something went wrong while creating the checkout page. Please contact us and we'll fix it as soon as possible!")}),o.promise},loaded:function(){console.log("checkout opened")},error:function(){console.log("checkout error")},close:function(){console.log("checkout closed")},success:function(t){console.log("Checkout successful!"),a.hostedPageId=t,e.post("/user/acknowledge-upgrade",{hostedPageId:a.hostedPageId}).success(function(e){e.upgraded?(console.log("User was upgraded successfully"),a.toastSuccess("Upgrade successful! You are now a Wizer Boost member, you can continue using Wizer now."),c.pushToDataLayer(e.trackingData),o.eventTrack("premium-started",{category:"premium",label:"The user became a premium wizer user."}),u&&u()):e.purchasedWorksheets&&e.purchasedWorksheets.length&&(n.location.reload(),u&&u())}).error(function(e){console.log("User upgrade post purchase failed",e),a.toastSuccess("Oops, we were unable to verify your purchase! Please contact us if the issue persists.")})},step:function(e){console.log(e)}})}};angular.module("wizerServices").service("Chargebee",["$http","$analytics","$q","$mdToast","$location","$window","trackingService",function(e,o,t,s,r,n,c){var a=new ChargebeeAPI(e,o,t,s,r,n,c);return a.init(),a}]);

},{"mobile-detect":false}],"/home/node/app/assets/js/services/google-classroom/google-classroom.service.js":[function(require,module,exports){
"use strict";var googleClassroomService=function(o,e,s){this.promptUserForPermissions=function(r){var t=e.encodeURIComponent(o.path()),n="".concat("/auth/classroom","?redir=").concat(t),i=angular.element(document.body);console.log("promptUserForPermissions: ",n);var c=function(o){this.cancel=function(){o.cancel()},this.authenticateClassroom=function(){o.hide()}};c.$inject=["$mdDialog"],c.$inject=["$mdDialog"],console.log("promptUserForPermissions: ",n),s.show({templateUrl:"/js/services/google-classroom/permissions-request.dialog.html",parent:i,targetEvent:r,clickOutsideToClose:!0,controllerAs:"$ctrl",controller:c}).then(function(o){e.location.href=n})}};googleClassroomService.$inject=["$location","$window","$mdDialog"],angular.module("wizerServices").service("GoogleClassroom",googleClassroomService);

},{}],"/home/node/app/assets/js/services/index.js":[function(require,module,exports){
"use strict";require("./services.module"),require("./algolia.service"),require("./assign-modal.service"),require("./asyncTimeout.service"),require("./chargebee.service"),require("./service"),require("./user.service"),require("./weserve.service"),require("./google-classroom/google-classroom.service"),require("./tracking/tracking.service"),require("./resources");

},{"./algolia.service":"/home/node/app/assets/js/services/algolia.service.js","./assign-modal.service":"/home/node/app/assets/js/services/assign-modal.service.js","./asyncTimeout.service":"/home/node/app/assets/js/services/asyncTimeout.service.js","./chargebee.service":"/home/node/app/assets/js/services/chargebee.service.js","./google-classroom/google-classroom.service":"/home/node/app/assets/js/services/google-classroom/google-classroom.service.js","./resources":"/home/node/app/assets/js/services/resources/index.js","./service":"/home/node/app/assets/js/services/service.js","./services.module":"/home/node/app/assets/js/services/services.module.js","./tracking/tracking.service":"/home/node/app/assets/js/services/tracking/tracking.service.js","./user.service":"/home/node/app/assets/js/services/user.service.js","./weserve.service":"/home/node/app/assets/js/services/weserve.service.js"}],"/home/node/app/assets/js/services/resources/index.js":[function(require,module,exports){
"use strict";require("./parent-invite.resource");

},{"./parent-invite.resource":"/home/node/app/assets/js/services/resources/parent-invite.resource.js"}],"/home/node/app/assets/js/services/resources/parent-invite.resource.js":[function(require,module,exports){
"use strict";angular.module("wizerServices").factory("ParentInvite",["$resource",function(e){return e("/not-used",{},{create:{method:"POST",url:"/user/students/:studentId/invite-parent",params:{studentId:"@studentId"}}})}]);

},{}],"/home/node/app/assets/js/services/service.js":[function(require,module,exports){
"use strict";var _fromPairs=_interopRequireDefault(require("lodash/fromPairs"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,n,r,o,s,a){try{var i=e[s](a),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function a(e){asyncGeneratorStep(s,r,o,a,i,"next",e)}function i(e){asyncGeneratorStep(s,r,o,a,i,"throw",e)}a(void 0)})}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}angular.module("wizerServices").factory("dataTransform",[function(){return{assessment:function(e){null!=e.widgets&&Object.keys(e.widgets).forEach(function(t){var n=e.widgets[t];if(null!=n.blanks){var r=n.blanks;Object.keys(r).forEach(function(e){console.log(_typeof(r[e])),"object"!==_typeof(r[e])&&(console.log("replace blank:",e,r[e]),r[e]={override:r[e]})})}})}}}]).factory("Bubbles",function(){var e=require("../../partials/bubbles.json");return{list:function(){return e},nameMap:function(){return(0,_fromPairs.default)(e.map(function(e){return[e.name,e]}))}}}).factory("Covers",["$http",function(e){return{list:function(){return e.get("/cover/list")},save:function(t){return e.put("/cover/save",t)}}}]).factory("Papers",function(){var e=require("../../partials/papers.json");return{list:function(){return e},nameMap:function(){return(0,_fromPairs.default)(e.map(function(e){return[e.name,e]}))}}}).factory("Colors",["$http",function(e){return{list:function(t,n){e.get("/color/list").then(t,n)},save:function(t){return e.post("/color/save",t)}}}]).factory("Faq",["$http",function(e){return{list:function(t,n){e.get("/faq/list").then(t,n)},get:function(t,n,r){e.get("/faq/get",{params:{id:t}}).success(n).error(r)},save:function(t){return e.post("/faq/save",t)},remove:function(t){return e.post("/faq/remove",t)}}}]).factory("Fonts",function(){var e=require("../../partials/fonts.json");return{list:function(){return e},nameMap:function(){return(0,_fromPairs.default)(e.map(function(e){return[e.name,e]}))}}}).factory("Editor",["$resource",function(e){return e("/editor/:id",{id:"@id"},{save:{method:"PUT",url:"/editor/save"},getByToken:{method:"GET",url:"/editor/getByToken/:token",params:{token:"@token"},isArray:!1},getMultiSelectOptions:{method:"GET",url:"/editor/options",isArray:!1},publish:{method:"POST",url:"/editor/publish"},editPublication:{method:"PUT",url:"/editor/publish"},copy:{method:"GET",url:"/editor/copy",params:{token:"@token"},isArray:!1},isAutoFeedback:{method:"POST",url:"/editor/isAutoFeedback"},autoFeedbackOn:{method:"POST",url:"/editor/autoFeedbackOn"},autoFeedbackOff:{method:"POST",url:"/editor/autoFeedbackOff"}})}]).factory("Learn",["$resource","WidgetsService",function(e,t){return e("/learn/:id",{id:"@id"},{save:{method:"PUT",url:"/editor/save"},previewWorksheet:{method:"GET",url:"/learn/preview/worksheet/:token",params:{token:"@token"},isArray:!1,interceptor:{response:function(e){return e.data&&e.data.worksheet&&t.clearDifferentiation(e.data.worksheet.widgets),e.resource},responseError:function(e){return e}}},previewFeaturedWorksheet:{method:"GET",url:"/learn/preview/featuredworksheet/:token",params:{token:"@token"},isArray:!1,interceptor:{response:function(e){return e.data&&e.data.worksheet&&t.clearDifferentiation(e.data.worksheet.widgets),e.resource},responseError:function(e){return e}}},solutionWorksheet:{method:"GET",url:"/learn/worksheet/:token",params:{token:"@token"},isArray:!1},userSolution:{method:"GET",url:"/learn/userSolution/:token",params:{token:"@token"},isArray:!1,interceptor:{response:function(e){return 204==e.status&&(e.resource.empty=!0),e.resource},responseError:function(e){return console.log("rejection:"+e),e}}},getSolution:{method:"GET",url:"/learn/getSolution/:token",params:{token:"@token"},isArray:!1,interceptor:{response:function(e){return console.log("response:"+e),204==e.status&&(e.resource.empty=!0),e.resource},responseError:function(e){return console.log("rejection:"+e),e}}},startedSolving:{method:"POST",url:"/learn/solution/:token/started",params:{token:"@token"},isArray:!1},saveSolution:{method:"PUT",url:"/learn/updateSolution",isArray:!1},isUserExist:{method:"POST",url:"/learn/lookupUser",isArray:!1},searchToken:{method:"POST",url:"/learn/searchToken",isArray:!1}})}]).factory("Users",["$http","$interval","$q",function(e,t,n){var r,o,s={clearCache:!0,data:[],interval:t(function(){s.clearCache=!0},6e4)};t(function(){r=void 0},1e4);var a={profile:function(t,s){return o?o.promise.then(t,s):r?t(r):(o=n.defer(),e.get("/user/profile").then(function(e){r=e,o.resolve(e),o=void 0},function(e){o.reject(e),o=void 0}),o.promise.then(t,s))},clearProfileCache:function(){function e(){r=null}if(o)return o.promise.then(e,e);e()},profileAsync:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){return a.profile(function(t){e(t.data.profile)},function(e){t(e)})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),isLoggedIn:function(e){return!!e},getAllStudents:function(t,n){if(!s.clearCache)return t(s.data);s.clearCache=!1,e.get("/user/students").then(function(e){return s.data=e,t(e)},n)},loadLearnerWorksheets:function(t,n){e.get("/user/learnerworksheets").then(t,n)},save:function(t,n,r){e.put("/user/profile",t).then(n,r)},passwd:function(t,n,r){e.put("/user/passwd",t).then(n,r)},changeToTeacher:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.changeUserType("/user/changeToTeacher");case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),changeToStudent:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.changeUserType("/user/changeToStudent");case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),changeToParent:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.changeUserType("/user/changeToParent");case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),changeUserType:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.post(n).then(function(){console.log("changeUserType finished"),a.clearProfileCache()},function(e){throw e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),loadPublicWorksheets:function(t,n,r){e.get("/user/publicWorksheets",{params:{userId:t}}).success(n).error(r)},loadLikedWorksheets:function(t,n,r){e.get("/user/likedWorksheets",{params:{userId:t}}).success(n).error(r)}};return a}]).factory("UserFeature",["$http",function(e){return{getFeature:function(t,n){e.get("/user/features").then(t,n)},hideFeature:function(t,n,r){e.post("/user/feature/hide/"+t).then(n,r)}}}]).factory("Organization",["$http",function(e){return{list:function(t,n){e.get("/organizations").then(t,n)},get:function(t,n,r){e.get("/organization/"+t).then(n,r)},save:function(t,n,r){e.post("/organization/edit",{orgData:t}).then(n,r)},getTags:function(t,n,r){e.get("/organization/"+t+"/tags").then(n,r)},worksheets:function(t,n,r,o){e.get("/organization/"+t+"/searchworksheet",{params:n}).then(r,o)},getFolders:function(t,n,r){e.get("/organization/"+t+"/folders").then(n,r)}}}]).factory("Dashboard",["$http",function(e){return{worksheets:function(t,n,r){e.get("/dashboard/worksheets",{params:t}).then(n,r)},getViewpublicationToken:function(t,n,r,o,s){e.post("/dashboard/viewpublication",{id:t,userId:n,lastRev:r}).then(o,s)},publications:function(t,n,r){e.get("/dashboard/publications/"+t).then(n,r)},copy:function(t,n,r){e.post("/dashboard/copy",{token:t}).then(n,r)},delete:function(t,n,r){e.post("/dashboard/delete",{token:t}).then(n,r)}}}]).factory("WsRanking",["$http",function(e){return{getRanking:function(t,n,r){e.get("/ranking/"+t).then(n,r)},saveRanking:function(t,n,r){e.post("/save/ranking",t).then(n,r)}}}]).factory("StudentDashboard",["$http",function(e){return{worksheets:function(t,n){e.get("/studentdashboard/worksheets").then(t,n)}}}]).factory("StudentSolutions",["$resource",function(e){return e("/studentsolution/:id",{id:"@id"},{list:{method:"GET",isArray:!0},create:{method:"POST"},update:{method:"PUT",params:{id:"@id"}},get:{method:"GET",params:{q:"@id"},isArray:!1}})}]).factory("PageExtractor",["$resource",function(e){return e("/extract?pageLink=:pageLink",{pageLink:"@pageLink"},{extract:{method:"GET",isArray:!1}})}]).factory("youtubeSearch",["$q","$http",function(e,t){return{getYoutubeData:function(n){var r=e.defer(),o="//gdata.youtube.com/feeds/api/videos?q="+n+"&alt=json&max-results=4&start-index=1&callback=JSON_CALLBACK";return t.jsonp(o).success(function(e){var t=e.feed.entry;r.resolve(t)}).error(function(e){console.log(JSON.stringify(e))}),r.promise},getYoutubeIdData:function(n){var r=e.defer(),o="//gdata.youtube.com/feeds/api/videos/"+n+"?v2&alt=json&callback=JSON_CALLBACK";return t.jsonp(o).success(function(e){var t=e.entry;r.resolve(t)}).error(function(e){console.log(JSON.stringify(e))}),r.promise}}}]).factory("Player",["youtubeApi",function(e){return e}]).service("$worksheetSvc",["$window","$rootScope",function(e,t){var n=t.$new(!0);return n.openWidgets=[],n.openWidget=function(e,t,r,o){n.openWidgets.length>0&&n.closeOpenWidgets(o),n.openWidgets.push({widget:e,element:t,scope:r})},n.closeOpenWidgets=function(e){e||_.forEach(n.openWidgets,function(t){e?t.scope.changeChoiceState():t.scope.toggleEdit()})},n.closeWidget=function(e,t){e&&t&&(n.openWidgets=n.openWidgets.filter(function(e){return!e||e.element!=t}))},n}]).factory("Feedback",["$http",function(e){var t=function(){};return{submit:function(n,r,o){e.post("/feedback/submit",n).success(r).error(o||t)}}}]).factory("GoogleImageSearch",["$http",function(e){return{search:function(t,n,r,o,s){e.jsonp("https://www.googleapis.com/customsearch/v1?callback=JSON_CALLBACK&key=AIzaSyAurk5duBvLaAnRn47GZlf_atuRkgj8Mz4&cx=006750871500031277040:8usalepyf9y&num="+n+"&start="+r+"&searchType=image&rights=cc_publicdomain&safe=high&q="+t).success(o).error(s)}}}]).factory("WSPublications",["$http",function(e){return{isPublic:function(t){return e.post("/WSPublication/isPublic",{token:t})},public:function(t){return e.post("/WSPublication/public",{token:t})},private:function(t){return e.post("/WSPublication/private",{token:t})},archive:function(t){return e.post("/WSPublication/archive",{token:t})}}}]).factory("Assignments",["$http",function(e){return{loadAssignments:function(t,n){e.get("/assignments/list").then(t,n)}}}]).factory("Classroom",["$http","$q",function(e,t){var n={updateAutoApprove:function(n,r){var o=t.defer(),s="/class/"+n+"/autoApprove/"+!!r;return e.put(s).then(function(e){o.resolve(e)}).catch(function(e){o.reject(e)}),o.promise},loadClassList:function(t,n){e.get("/class/list").then(t,n)},loadClassListAsync:function(){return new Promise(function(e,t){n.loadClassList(e,t)})},addClass:function(t,n,r){e.post("/class/add",{classData:t}).then(n,r)},saveClass:function(t,n,r){e.put("/class/edit",{classData:t}).then(n,r)},addStudent:function(t,n,r,o){var s="/class/"+t+"/addstudent";e.post(s,{student:n}).then(r,o)},changeStudentStatus:function(t,n,r){e.put("/class/student/edit",{student:t}).then(n,r)},getClass:function(t,n,r){var o="/class/"+t+"/data";e.get(o).then(n,r)},getClassStudents:function(t,n,r){var o="/class/"+t+"/students";e.get(o).then(n,r)},getClassAssignments:function(t,n,r){var o="/class/"+t+"/assignments";e.get(o).then(n,r)},syncGoogleCourses:function(t,n){e.get("/googleclass/list").then(t,n)},importGoogleCourses:function(t,n,r){e.post("/googleclass/import",{courses:t}).then(n,r)},syncGoogleStudents:function(t,n,r){var o="/googleclass/student/"+t+"/list";e.get(o).then(n,r)},joinClassroom:function(t,n,r){e.post("/classroom/join_class",{token:t}).then(n,r)},activateClassroom:function(t,n){e.post("/googleclass/activateClassroom").then(t).catch(n)}};return n}]);

},{"../../partials/bubbles.json":"/home/node/app/assets/partials/bubbles.json","../../partials/fonts.json":"/home/node/app/assets/partials/fonts.json","../../partials/papers.json":"/home/node/app/assets/partials/papers.json","lodash/fromPairs":"/home/node/app/node_modules/lodash/fromPairs.js"}],"/home/node/app/assets/js/services/services.module.js":[function(require,module,exports){
"use strict";var _tracking=require("./tracking/tracking.service");angular.module("wizerServices",[require("angular-resource")]).service(_tracking.TRACKING_SERVICE_NAME,_tracking.TrackingService).run([_tracking.TRACKING_SERVICE_NAME,function(r){r.init()}]);

},{"./tracking/tracking.service":"/home/node/app/assets/js/services/tracking/tracking.service.js","angular-resource":false}],"/home/node/app/assets/js/services/tracking/tracking.service.js":[function(require,module,exports){
"use strict";function asyncGeneratorStep(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){asyncGeneratorStep(o,n,a,i,c,"next",e)}function c(e){asyncGeneratorStep(o,n,a,i,c,"throw",e)}i(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TrackingService=exports.TRACKING_SERVICE_NAME=void 0;var TRACKING_SERVICE_NAME="trackingService";exports.TRACKING_SERVICE_NAME=TRACKING_SERVICE_NAME;var TrackingService=function(){function e(t,r,n,a){_classCallCheck(this,e),this.API=t,this.$rootScope=r,this.$http=n,this.$location=a;var o=this;this.registerRouteChange=_.debounce(function(){return o.runDataLayer()},1500)}return e.$inject=["API","$rootScope","$http","$location"],_createClass(e,[{key:"init",value:function(){var e=this;this.$rootScope.$on("$routeChangeSuccess",function(){e.registerRouteChange()})}},{key:"runDataLayer",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.fetchTrackingObject(t.$location.url());case 3:r=e.sent,t.pushToDataLayer(r);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTrackingObject",value:function(e){return this.$http({method:"GET",url:"".concat(this.API.root,"/api/gtm/page?url=").concat(e)}).then(function(e){return e.data})}},{key:"pushToDataLayer",value:function(e){dataLayer&&e&&dataLayer.push(e)}}]),e}();exports.TrackingService=TrackingService;

},{}],"/home/node/app/assets/js/services/user.service.js":[function(require,module,exports){
"use strict";!function(){function e(e,t,i){return i(function(){n=void 0},1e4),{settings:function(){if(r)return r.promise;if(r=t.defer(),n)return r=void 0,t.resolve(n);return e.get("/user/settings").then(function(e){n=e.data.settings,r.resolve(n),r=void 0},function(e){r.reject(e),r=void 0}),r.promise},clear:function(){n=void 0,r=void 0}};var n,r}e.$inject=["$http","$q","$interval"],angular.module("wizerServices").factory("UserSvc",e),e.$inject=["$http","$q","$interval"]}();

},{}],"/home/node/app/assets/js/services/weserve.service.js":[function(require,module,exports){
"use strict";var weserveImages=function(){this.resizedImage=function(e,r,s,n){var a="//images.weserv.nl/?url="+encodeURI(e);return r&&(a+="&w="+r),s&&(a+="&h="+r),a+="&".concat(n||"webp")}};angular.module("wizerServices").service("WeserveImages",function(){return new weserveImages});

},{}],"/home/node/app/assets/js/side-menu/index.js":[function(require,module,exports){
"use strict";require("./side-menu.component");

},{"./side-menu.component":"/home/node/app/assets/js/side-menu/side-menu.component.js"}],"/home/node/app/assets/js/side-menu/side-menu.component.js":[function(require,module,exports){
"use strict";function sideMenuController(e,r,s,t,n,i,o,l,u){var a,c,f=this;function p(e,r){if(e){if(e.startsWith("http"))return o.open(e,"_blank");var s=!1;t.current&&t.current.name||(s=!0),i(function(){t.go(e,r)}),s&&i(function(){o.location.reload()},300)}}f.isLoading=!0,f.userProfile={},f.loadUserProfile=function(){return e.profile(function(e){f.userProfile=e.data.profile},function(){f.userProfile=void 0})},f.openUserProfile=function(){var e=f.userProfile&&"student"===f.userProfile.type;n.eventTrack("user-profile",{category:"side-menu",label:(e?"Learner":"User")+" profile"}),i(function(){if(e)return p("learners.learnerProfile",{token:f.userProfile.token});o.location.href="/profile/"+f.userProfile.token},300)},f.openUserProfileSettings=function(){n.eventTrack("user-profile-settings",{category:"side-menu",label:"User profile settings"}),i(function(){o.location.href="/profile"},300)},f.doLogout=function(){n.eventTrack("user-logout",{category:"side-menu",label:"User Logout"}),u.clear(),o.localStorage.clear(),i(function(){o.location.href="/logout"},300)},f.getMenuName=function(){var e=t.current.name;if(!e)return;"resources.assignments"===e?f.activeMenu="resources.assignments":e.indexOf("resources.gallery")>=0?f.activeMenu="resources.gallery":e.indexOf("resources.")>=0?f.activeMenu="resources.worksheets":e.indexOf("parent-learners.")>=0?f.activeMenu="parent-learners.classes":e.indexOf("class")>=0?f.activeMenu="learners.classes":e.indexOf("learners.learnerProfile")>=0?f.userProfile&&"student"===f.userProfile.type?f.activeMenu="learnerProfile":f.activeMenu="learners.classes":e.indexOf("learners.")>=0&&(f.activeMenu="learners.classes")},f.navigate=p,f.setUpMenus=function(){f.sideMenuLinks=[{text:"Assignments",state:"resources.assignments",icon:"students",isVisible:!(!f.userProfile||"student"!==f.userProfile.type)},{text:"Community",state:"resources.gallery",icon:"community",isVisible:f.userProfile&&"student"!==f.userProfile.type},{text:"Learners",state:"parent-learners.classes",icon:"students",isVisible:!(!f.userProfile||"parent"!==f.userProfile.type)},{text:"Worksheets",state:"resources.worksheets",icon:"resources",isVisible:f.userProfile&&("student"!==f.userProfile.type||f.usettings&&f.usettings.CREATE_WORKSHEET)},{text:"Learners",state:"learners.classes",icon:"students",isVisible:!(!f.userProfile||"student"===f.userProfile.type||"parent"===f.userProfile.type)},{text:"Differentiate",state:"learners.learnerGroups",icon:"differentiate",isVisible:!1},{text:"Coffee Room",state:"https://community.wizer.me",faIcon:"coffee",isVisible:!(!f.userProfile||"student"===f.userProfile.type||"parent"===f.userProfile.type)}]},f.openHelpWizard=function(e){window.open("https://help.wizer.me","_blank")},f.activeMenu="",s.$on("$stateChangeSuccess",function(){f.setUpMenus(),f.getMenuName()}),a=f.loadUserProfile(),c=u.settings().then(function(e){f.usettings=e}),f.isLoading=!0,r.all([a,c]).then(function(){f.isLoading=!1,f.getMenuName(),f.setUpMenus()})}sideMenuController.$inject=["Users","$q","$rootScope","$state","$analytics","$timeout","$window","HelpWizardService","UserSvc"],angular.module("wizer").component("sideMenu",{templateUrl:"/js/side-menu/side-menu.component.html",controller:sideMenuController}),sideMenuController.$inject=["Users","$q","$rootScope","$state","$analytics","$timeout","$window","HelpWizardService","UserSvc"];

},{}],"/home/node/app/assets/js/signup/index.js":[function(require,module,exports){
"use strict";require("./welcome-step-parent-subscribe.directive"),require("./welcome-step-user-info.directive"),require("./welcomeSteps");

},{"./welcome-step-parent-subscribe.directive":"/home/node/app/assets/js/signup/welcome-step-parent-subscribe.directive.js","./welcome-step-user-info.directive":"/home/node/app/assets/js/signup/welcome-step-user-info.directive.js","./welcomeSteps":"/home/node/app/assets/js/signup/welcomeSteps.js"}],"/home/node/app/assets/js/signup/welcome-step-parent-subscribe.directive.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("welcomeStepParentSubscribe",["Users",function(e){return{restrict:"A",scope:{onChange:"&onChange"},templateUrl:"/js/signup/welcome-step-parent-subscribe.html",controller:["$scope","Chargebee",function(e,n){e.onPremiumActivated=function(){e.onChange()},e.onPremiumActivationFailed=function(n){console.log("Error while trying to subscribe: ",n),e.activationError=!0},e.subscribe=function(){n.openSubscriptionCheckout("awesome-parent-monthly",e.onPremiumActivated)},e.subscribe()}],link:function(e,n,t){}}}]);

},{}],"/home/node/app/assets/js/signup/welcome-step-user-info.directive.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("welcomeStepUserInfo",["Users","$mdToast","dataList",function(e,s,r){return{restrict:"A",templateUrl:"/js/signup/welcome-step-user-info.html",controller:["$scope","$element","$attrs","Users",function(e,t,o,n){e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.viewTags=[],e.viewGrades=[],e.titles=["Ms.","Mrs.","Mr.","Dr.","Prof."],e.user={},e.countries=r.getData().countries,e.states=r.getData().states,e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(s){return e.errorToastPosition[s]}).join(" ")},e.showErrorMessage=function(){s.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Failed to save. Try again in a few minutes or check your ',"internet connection.</span>","</div>","</md-toast >"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})},e.continueStep=function(){e.user.status="active",n.save(e.user,function(s){e.redirectUser()},function(s){e.showErrorMessage()})},e.load=function(){n.profile(function(s){e.user=s.data.profile,delete e.user.type,e.user.subjects&&e.user.subjects.length||(e.user.subjects=[]),e.user.grades&&e.user.grades.length||(e.user.grades=[]),e.user.grades=$.unique(e.user.grades),e.user.subjects=$.unique(e.user.subjects)},function(s){e.showErrorMessage()})},e.$on("tags-modified",function(s){var r=[];e.user.subjects&&(e.user.subjects.forEach(function(s){0===e.viewTags.filter(function(e){return e.id&&e.id===s}).length&&r.push(s)}),e.user.subjects=e.user.subjects.filter(function(e){return-1===r.indexOf(e)}),e.viewTags.forEach(function(s){s.id?-1==e.user.subjects.indexOf(s.id)&&e.user.subjects.push(s):e.user.subjects.push(s)}))}),e.$on("grades-modified",function(s){var r=[];e.user.grades&&(e.user.grades.forEach(function(s){0===e.viewGrades.filter(function(e){return e.name&&e.name.replace(/ /g,"").toLowerCase()===s.name.replace(/ /g,"").toLowerCase()}).length&&r.push(s)}),e.user.grades=e.user.grades.filter(function(e){return-1===r.indexOf(e)}),e.viewGrades.forEach(function(s){var r;s.name&&(e.user.grades.forEach(function(e,t){e.name.replace(/ /g,"").toLowerCase()==s.name.replace(/ /g,"").toLowerCase()&&(r=!0)}),r||e.user.grades.push(s))}))}),e.load()}],link:function(e,s,r){}}}]);

},{}],"/home/node/app/assets/js/signup/welcomeSteps.js":[function(require,module,exports){
"use strict";angular.module("wizer").factory("dataList",[function(){var e={data:{countries:[{name:"United States",code:"US"},{name:"United Kingdom",code:"GB"},{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Democratic People's Republic of Korea",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kosovo",code:"XK"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}],states:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"Washington, D.C",abbreviation:"DC"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],grades:[{name:"Kindergarten"},{name:"1st Grade"},{name:"2nd Grade"},{name:"3rd Grade"},{name:"4th Grade"},{name:"5th Grade"},{name:"6th Grade"},{name:"7th Grade"},{name:"8th Grade"},{name:"9th Grade"},{name:"10th Grade"},{name:"11th Grade"},{name:"12th Grade"}]},getData:function(){return e.data}};return e}]).directive("imageLoaded",["$timeout",function(e){return{restrict:"A",link:function(a,n,o){n.find("img").on("load",function(n){e(function(){a.imageLoaded=!0},0)})}}}]).directive("welcomeSteps",[function(){return{restrict:"A",templateUrl:"/js/signup/welcome-steps.html",controller:["$scope","$element","$attrs","$location","$window","Users","UserSvc",function(e,a,n,o,i,m,d){e.user=void 0,e.isLoading=!0,e.init=function(){m.profileAsync().then(function(a){e.user=a,e.recalculateStep()})},e.recalculateStep=function(){d.settings().then(function(a){e.userSettings=a,e.isLoading=!1,e.setWelcomeStep()})},e.setWelcomeStep=function(){e.user?e.welcomeStep="user-info":e.welcomeStep=""},e.redir=o.search().redir,e.redirectUser=function(){e.redir?i.location.href=e.redir:i.location.href="/dashboard"},e.preload=function(){var e=new Image,a=[];a.push("/images/signup/create_worksheet.gif"),a.push("/images/signup/assign_worksheet.gif"),a.push("/images/signup/assess_response.gif"),a.forEach(function(a){e.src=a})},e.preload(),e.init()}],link:function(e,a,n){}}}]);

},{}],"/home/node/app/assets/js/social-share/index.js":[function(require,module,exports){
"use strict";require("./social-share-bar.component");

},{"./social-share-bar.component":"/home/node/app/assets/js/social-share/social-share-bar.component.js"}],"/home/node/app/assets/js/social-share/social-share-bar.component.js":[function(require,module,exports){
"use strict";function SocialShareBar(e,t,o,r){var n=this;n.getWorksheetDescription=function(e,t){var o="Use this @Wizer.me​ interactive worksheet "+(e.name?'"'+e.name+'" ':"")+"with your students or create your own!";return t&&(o=encodeURIComponent(o)),o},n.getImageLink=function(e){var t=e.thumbnail;return t.indexOf("http")>=0?t:"https://app.wizer.me"+t},n.copyLink=function(o){var r=e.absUrl();n.openCopyLinkDialog(o,r),t.eventTrack("gallery-copy-link",{category:"preview",label:"copy worksheet link in gallery"})},n.openCopyLinkDialog=function(e,t){var n=angular.element(document.body);o.show({parent:n,targetEvent:e,templateUrl:"/templates/copy-preview-link-dialog.html",locals:{link:t},controller:["$scope","$mdDialog","link",function(e,t,o){e.link=o,e.closeDialog=function(){t.hide()}}]}),r(function(){$('[aria-label="link"]').select()},700)},n.shareEdmodo=function(){var o=e.absUrl(),r="https://www.edmodo.com/home?share=1&source=95015059&url="+encodeURIComponent(o);t.eventTrack("gallery-share-edmodo",{category:"preview",label:"Share worksheet in edmodo"});var a="&desc="+n.getWorksheetDescription(n.worksheet,!0);window.open(r+a,"_blank")},n.shareTwitter=function(){var o=e.absUrl(),r="text="+n.getWorksheetDescription(n.worksheet,!0);r+="&url="+encodeURIComponent(o)+"&hashtags=Worksheet,EdTech",t.eventTrack("gallery-share-twitter",{category:"preview",label:"Share worksheet in twitter"}),window.open("https://twitter.com/intent/tweet?"+r,"_blank")},n.sharePinterest=function(){var o=e.absUrl(),r="https://pinterest.com/pin/create/button/?",a="url="+encodeURIComponent(o);n.getImageLink(n.worksheet)&&(a=a+"&media="+encodeURIComponent(n.getImageLink(n.worksheet))),a+="&description="+n.getWorksheetDescription(n.worksheet+"#EdTech",!0),t.eventTrack("gallery-share-pinterest",{category:"preview",label:"Share worksheet in pinterest"}),console.log(r+a),window.open(r+a,"_blank")},n.shareFacebook=function(){var o={method:"feed",link:e.absUrl(),caption:"Wizer.me",description:n.getWorksheetDescription(n.worksheet)+" #EdTech"};n.getImageLink(n.worksheet)&&(n.getImageLink(n.worksheet)&&(o.picture=n.getImageLink(n.worksheet)),t.eventTrack("gallery-share-facebook",{category:"preview",label:"Share worksheet in facebook"}),FB.ui(o))}}SocialShareBar.$inject=["$location","$analytics","$mdDialog","$timeout"],angular.module("wizer").component("socialShareBar",{templateUrl:"/js/social-share/social-share-bar.component.html",controller:SocialShareBar,bindings:{worksheet:"<"}}),SocialShareBar.$inject=["$location","$analytics","$mdDialog","$timeout"];

},{}],"/home/node/app/assets/js/student/index.js":[function(require,module,exports){
"use strict";angular.module("wizer.student",[require("angular-moment")]),require("./parent-invite.component"),require("./students-subnavigation.component"),require("./students.component");

},{"./parent-invite.component":"/home/node/app/assets/js/student/parent-invite.component.js","./students-subnavigation.component":"/home/node/app/assets/js/student/students-subnavigation.component.js","./students.component":"/home/node/app/assets/js/student/students.component.js","angular-moment":false}],"/home/node/app/assets/js/student/parent-invite.component.js":[function(require,module,exports){
"use strict";function asyncGeneratorStep(t,e,n,r,a,i,o){try{var c=t[i](o),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function o(t){asyncGeneratorStep(i,r,a,o,c,"next",t)}function c(t){asyncGeneratorStep(i,r,a,o,c,"throw",t)}o(void 0)})}}function parentInviteController(t,e){var n=this;t.formData={},n.alreadyInvited=!1,_.isEmpty(n.invitation)||(n.alreadyInvited=!0,t.formData.email=n.invitation.emailTo),n.buttonText=function(){return n.alreadyInvited?"pending"===n.invitation.status?"Pending":"Accepted":"Invite"},n.sendInvite=_asyncToGenerator(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.alreadyInvited){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.create({studentId:n.studentId,parentEmail:t.formData.email}).$promise;case 4:a=r.sent,n.alreadyInvited=!0,n.invitation=a,t.$apply();case 8:case"end":return r.stop()}},r)}))}parentInviteController.$inject=["$scope","ParentInvite"],angular.module("wizer.student").component("parentInvite",{templateUrl:"js/student/parent-invite.component.html",controller:parentInviteController,bindings:{invitation:"<",studentId:"<"}}),parentInviteController.$inject=["$scope","ParentInvite"];

},{}],"/home/node/app/assets/js/student/students-subnavigation.component.js":[function(require,module,exports){
"use strict";function studentsSubnavigationController(e,n,t){var s=this;function r(){n.current.name.indexOf("classes")>=0?(s.activeMenu="classes",s.hide=!1):n.current.name.indexOf("classview")>=0?(s.activeMenu="classes",s.hide=!0):n.current.name.indexOf("student")>=0?(s.activeMenu="students",s.hide=!1):"learners.learnerProfile"===n.current.name?(s.activeMenu="students",s.hide=!0):"learners.learnerGroups"===n.current.name?(s.activeMenu="groups",s.hide=!1):"learners.learnerworksheets"===n.current.name&&(s.activeMenu="learnerworksheets",s.hide=!1)}s.hide=!0,s.activeMenu="classes",s.hideSubnav=s.hideSubnav||!1,s.classroomTabLabel="parent"!==s.userType?"Classrooms":"Learners",e.$on("$stateChangeSuccess",function(){r()}),t.settings().then(function(e){s.usettings=e,r()})}studentsSubnavigationController.$inject=["$rootScope","$state","UserSvc"],angular.module("wizer.student").component("studentsSubnavigation",{templateUrl:"/js/student/students-subnavigation.component.html",controller:studentsSubnavigationController,bindings:{hideSubnav:"<?",userType:"<"}}),studentsSubnavigationController.$inject=["$rootScope","$state","UserSvc"];

},{}],"/home/node/app/assets/js/student/students.component.js":[function(require,module,exports){
"use strict";function studentsComponent(){return{templateUrl:"/js/student/students.component.html",controller:StudentsController,bindings:{studentsData:"<?",showStatus:"<?",toggleStudentStatus:"&"}}}function StudentsController(t,e,n,r,s,o,a){var i=this;i.filterGroups=[],i.students=i.studentsData||[],i.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},i.getErrorToastPosition=function(){return Object.keys(i.errorToastPosition).filter(function(t){return i.errorToastPosition[t]}).join(" ")},i.showErrorMessage=function(e){var n;n=e&&e.data&&e.data.error&&e.data.error.msg?e.data.error.msg:"Something went wrong. Please try again in a few minutes.";t.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">'+n,"</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:i.getErrorToastPosition()})},i.sortAscStudent=function(t){n.eventTrack("learner-sort-student",{category:"learner",label:"Sort student acending order"}),i.students.sort(function(e,n){return e[t]&&n[t]?e[t]<n[t]?-1:e[t]>n[t]?1:0:e[t]&&!n[t]?-1:!e[t]&&n[t]?1:e.username<n.username?-1:e.username>n.username?1:0})},i.sortDescStudent=function(t){n.eventTrack("learner-sort-student",{category:"learner",label:"Sort student decending order"}),i.students.sort(function(e,n){return e[t]&&n[t]?e[t]<n[t]?1:e[t]>n[t]?-1:0:e[t]&&!n[t]?1:!e[t]&&n[t]?-1:e.username<n.username?1:e.username>n.username?-1:0})},i.openSearch=function(){i.isSearching?i.searchText||(i.isSearching=!1):(n.eventTrack("learner-search-student",{category:"learner",label:"Search student in learner page"}),i.isSearching=!0)},i.onSearchBlur=function(){i.searchText||(i.isSearching=!1)},i.changeStudentStatus=function(t,n){if("archive"==n){var r=e.confirm().title("Are you sure you want to block this learner?").htmlContent("<br/>The learner won't be able to re-join this class again<br/><br/><b>This action is irreversible</b>").targetEvent().ok("Yes, BLOCK LEARNER").cancel("Keep pending status");return void e.show(r).then(function(){i.toggleStudentStatus({student:t,status:n})},function(t){i.showErrorMessage(),console.error("error toggling student archive status",t)})}i.toggleStudentStatus&&_.isFunction(i.toggleStudentStatus)&&i.toggleStudentStatus({student:t,status:n})},i.filterClassToken="",i.searchText="",function(){i.studentsLoading=!0;var t=[];t.push(a.settings().then(function(t){i.usettings=t}));var e=r.defer();s.profile(function(t){i.userProfile=t.data.profile,e.resolve()},function(t){i.userProfile=void 0,e.reject(t)}),t.push(e.promise);var n=r.defer();o.loadClassList(function(t){i.classes=t.data.classes,n.resolve()},function(t){n.reject(t)}),t.push(n.promise),r.all(t).then(function(t){!function(){if(!_.isUndefined(i.studentsData))return i.students=i.studentsData,void(i.studentsLoading=!1);s.getAllStudents(function(t){i.students=t.data.students,i.studentsLoading=!1},function(t){i.studentsLoading=!1})}()},function(t){console.log("failed to load component",t),i.studentsLoading=!1})}()}angular.module("wizer.student").filter("filterStudentByGroup",function(){return function(t,e){return e&&e.length?_.filter(t,function(t){if(!t.groups||!t.groups.length)return!1;var n=_.map(t.groups,"id"),r=!1;return _.forEach(e,function(t){r||n.indexOf(t)>-1&&(r=!0)}),r}):t}}).filter("filterStudent",function(){return function(t,e,n){var r=[];if(e||n){for(var s=0;s<t.length;s++){var o,a=t[s];n&&(o=a.firstname?a.firstname+" "+a.lastname:a.username),n?e?a.class&&a.class.token==e&&o&&o.toLowerCase().indexOf(n.toLowerCase())>=0&&r.push(a):o&&o.toLowerCase().indexOf(n.toLowerCase())>=0&&r.push(a):a.class&&a.class.token==e&&r.push(a)}return r}return t}}).filter("elapsed",["moment",function(t){return function(e){if(e)return t.duration((new Date).getTime()-new Date(e).getTime()).humanize()}}]).component("studentsComponent",studentsComponent()),StudentsController.$inject=["$mdToast","$mdDialog","$analytics","$q","Users","Classroom","UserSvc"];

},{}],"/home/node/app/assets/js/unsorted/angular-classroom-share.js":[function(require,module,exports){
"use strict";angular.module("google-classroom",["ng"]).service("$gapi",["$window","$rootScope",function(e,r){var o=r.$new(!0);o.__ready=!1,o.__callOnReady=[],e.onGooglePlatformJSLoaded=function(){o.__ready=!0;for(var e=0;e<o.__callOnReady.length;e++){var r=o.__callOnReady[e];r.fn.apply(r.obj,r.args)}};var t=document.createElement("script");t.innerText='window.___gcfg = { parsetags: "onload"};';var n=document.createElement("script");n.src="https://apis.google.com/js/platform.js?onload=onGooglePlatformJSLoaded",n.setAttribute("async","async"),n.setAttribute("defer","defer");var a=document.getElementsByTagName("script")[0];return a.parentNode.insertBefore(t,a),a.parentNode.insertBefore(n,a),o.render=function(e,r){o.__ready?gapi.sharetoclassroom.render(e[0],r):o.__callOnReady.push({obj:this,fn:this.render,args:[e,r]})},o}]).controller("ShareToClassroomCtrl",["$scope","$gapi",function(e,r){e.render=function(e,o){r.render(e,o)}}]).directive("sharetoclassroom",[function(){return{restrict:"A",scope:{gcSize:"@",gcUrl:"@",gcTitle:"@",gcBody:"@"},controller:"ShareToClassroomCtrl",compile:function(e,r,o){return{post:function(e,r,o){var t={size:e.gcSize,url:e.gcUrl,title:e.gcTitle,body:e.gcBody};e.render(r,t)}}}}}]);

},{}],"/home/node/app/assets/js/unsorted/angular-google-search-api.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("imageSearchController",["$scope","$window","GoogleImageSearch",function(e,t,r){e.currentPage=1,e.resultCount=0,e.itemsPerPage=8,e.query=void 0,e.search=function(t){r&&(e.query=t,r.search(t,e.itemsPerPage,(e.currentPage-1)*e.itemsPerPage+1,e.searchComplete,function(e){console.log("Sail searching google: %s",e)}))},e.pageChanged=function(){console.log("Page changed: %d",e.currentPage),void 0!==e.query&&e.search(e.query)},e.searchComplete=function(t){if(t.items&&t.items.length>0){var r=t.queries.request[0];e.resultCount=Math.min(100-e.itemsPerPage,r.totalResults),e.searchResults=t.items.map(function(e){return{title:e.title,tburl:e.image.thumbnailLink,width:e.image.width,height:e.image.height,url:e.link}})}}}]).directive("imagesearch",["$log",function(e){return{restrict:"A",controller:"imageSearchController",require:"ngModel",link:function(e,t,r,i){e.$watch(function(){return i.$modelValue},function(t,r){t&&e.search(t)},!0)}}}]);

},{}],"/home/node/app/assets/js/unsorted/angular-youtube-player-api.js":[function(require,module,exports){
"use strict";angular.module("youtube",["ng"]).run(function(){}).service("youtubeApi",["$window","$rootScope","$log",function(e,t,r){var a=t.$new(!0);a.playerCount=0,a.__callOnReady=[],e.onYouTubeIframeAPIReady=function(e){r.info("Youtube API is ready:"+e),a.__ready=!0;for(var t=0;t<a.__callOnReady.length;t++){(0,a.__callOnReady[t])()}},a.ready=function(e){a.__ready?e():a.__callOnReady.push(e)};var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];return o.parentNode.insertBefore(n,o),a.isReady=function(){return a.__ready},a.incrementPlayerCount=function(){return++a.playerCount},a}]).controller("youtubePlayerApi",["$scope","$window","youtubeApi","$log",function(e,t,r,a){e.bindVideoPlayer=function(t){a.info("Binding to player "+t),e.playerId=t},e.createPlayer=function(t){return a.info("Creating a new Youtube player for DOM id "+e.playerId+" and video "+t.videoId),new YT.Player(e.playerId,t)},e.onPlayerReady=function(){console.log("onPlayerReady")},e.onPlayerStateChange=function(){console.log("onPlayerStateChange")},e.loadPlayer=function(){if(r.isReady()&&e.playerId&&e.videoId){e.player&&e.player.destroy();var t={videoId:e.videoId,events:{onReady:e.customPlayerReady||e.onPlayerReady,onStateChange:e.customPlayerStateChange||e.onPlayerStateChange}};t.playerVars||(t.playerVars={}),e.widget&&e.widget.rtdata&&_.isNumber(e.widget.rtdata.startTime)&&(t.playerVars.start=e.widget.rtdata.startTime),e.widget&&e.widget.rtdata&&_.isNumber(e.widget.rtdata.endTime)&&(t.playerVars.end=e.widget.rtdata.endTime),e.player=e.createPlayer(t)}},e.$on("selectVideo",function(t,a,n,o){e.videoId=a,e.customPlayerReady=n,e.customPlayerStateChange=o,r.ready(function(){e.loadPlayer()})}),e.playerIdx=r.incrementPlayerCount()}]).factory("youtubeSearch",["$q","$http","gapiKey",function(e,t,r){return{getYoutubeData:function(a){var n=e.defer(),o="https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&safeSearch=strict&maxResults=10&key="+r+"&q="+a;return t.get(o).success(function(e){var t=e.items;n.resolve(t)}).error(function(e){console.log(JSON.stringify(e))}),n.promise},getYoutubeIdData:function(a){var n=e.defer(),o="https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails&key="+r+"&id="+a;return t.get(o).success(function(e){var t=e.items[0];n.resolve(t)}).error(function(e){console.log(JSON.stringify(e))}),n.promise}}}]).factory("Player",["youtubeApi",function(e){return e}]).directive("youtubePlayer",[function(){return{restrict:"A",controller:"youtubePlayerApi",compile:function(e,t,r){return{pre:function(e,t,r,a,n){},post:function(e,t,r,a,n){t[0].id="ytplayer-"+e.playerIdx,e.bindVideoPlayer("ytplayer-"+e.playerIdx)}}}}}]);

},{}],"/home/node/app/assets/js/unsorted/assess-service.js":[function(require,module,exports){
"use strict";angular.module("wizer").factory("$assessmentSvc",["$window","$rootScope","$http","WidgetsService","$widgetScoring",function(s,e,t,o,i){var n=function(){};return{create:function(s,e){return e||(e="draft"),{solutionId:s.id,worksheetId:s.worksheetId,widgets:{},status:e}},compileAssessment:function(s,e,t){var n={id:t.id,worksheetId:s.id,solutionId:e.id,widgets:{},status:t.status,feedback:t.feedback,video:t.video,feedbackVideo:t.feedbackVideo,audio:t.audio,feedbackAudio:t.feedbackAudio},u=[];o.iterate(s.widgets,function(s){if(t&&t.widgets&&s.seqid in t.widgets){var o=t.widgets[s.seqid];n.widgets[s.seqid]=o}else n.widgets[s.seqid]={};var r=e.solutions[s.seqid]||{},c=n.widgets[s.seqid],d=i.calcAssessment(s,r,c);d?u.push(d.score.value):c&&"number"==typeof c.score?u.push(c.score):u.push(0)}),t.widgets=n.widgets;var r=0;return u.forEach(function(s){r+=s}),u&&u.length&&(r/=u.length),n.score=r,n},save:function(s,e,o){return t.post("/assess/save",{assessment:s}).success(function(t){t&&(s.id||(s.id=t.assessment.id),e&&e(t))}).error(o||n)},load:function(s,e,o){return t.post("/assess/assessment",{token:s}).success(function(s){e&&e(s)}).error(function(s){o&&o(s)})},solutionInfo:function(s,e,o){t.post("/assess/solution",{token:s}).success(e).error(o||n)},publications:function(s,e,o){t.get("/assess/publications/"+s).success(e).error(o||n)},pubSolutions:function(s,e,o,i){t.get("/assess/pubsolutions/"+s+"/"+e).success(o).error(i||n)},solutions:function(s,e,o){t.post("/assess/solutions",{token:s}).success(e).error(o||n)},publishAssessment:function(s,e,o){t.post("/assess/publish",{assessment:s}).success(function(t){t&&(s.id||(s.id=t.assessment.id),e&&e(t))}).error(o||n)},exportAssessment:function(s,e,o){return t.post("/assess/export",{exportData:s}).success(e).error(o||n)},saveSolutionStatus:function(s,e){return t.post("/assess/solution/status",{token:s,status:e})}}}]);

},{}],"/home/node/app/assets/js/unsorted/audio.js":[function(require,module,exports){
"use strict";angular.module("wizer").factory("audioObject",function(){var e={setData:function(o,a){e.data=o,e.type=a},resetData:function(){e={}},getData:function(){return e.data},getType:function(){return e.type}};return e}).controller("AudioRecordController",["$scope","$element","$rootScope","$mdDialog","$analytics","$timeout","$mdToast","$q","$http","audioObject",function(e,o,a,i,t,d,r,n,l,c){c.setData(e.audioData,e.audioName),e.widgetData=c.getData(),e.audioType=c.getType(),e.htmlRecordData={};var s={};e.$watch("isRecording",function(e){a.$broadcast("audio-recording",e)}),e.$watch("isFileUploading",function(e){a.$broadcast("audio-uploading",e)}),e.$on("$locationChangeStart",function(o){var a;(e.isRecording||e.isFileUploading)&&(a=e.isRecording?"Your last recorded audio is not yet uploaded and you will lost the record. Are you sure you want to leave?":"Your audio upload is on progress and upload will be canceled. Are you sure you want to leave?",confirm(a)||o.preventDefault())}),e.timecode=function(e){var o={h:Math.floor(e/36e5),m:Math.floor(e/6e4%60),s:Math.floor(e/1e3%60)},a=[];return o.h>0&&a.push(o.h),a.push(o.m<10&&o.h>0?"0"+o.m:o.m),a.push(o.s<10?"0"+o.s:o.s),a.join(":")},e.toastPosition={bottom:!0,top:!1,left:!1,right:!0},e.getToastPosition=function(){return Object.keys(e.toastPosition).filter(function(o){return e.toastPosition[o]}).join(" ")},e.startOver=function(){t.eventTrack("start-over-recorded-audio",{category:"audio-record",label:"Start over recorded audio"}),e.inline&&e.$emit("validInput"),e.htmlRecordData={},s.recordRTC&&s.recordRTC.clearRecordedData(),s={},delete e.recordingDone,delete e.isRecording},e.closeDialog=function(){if(e.isUploading||e.isFileUploading)window.confirm("If you close the dialog, your audio upload will be canceled. Are you sure you want to close it?")&&e.closeDialogTask();else if(e.isRecording){window.confirm("If you close the dialog, your recorded audio will be lost. Are you sure you want to close it?")&&e.closeDialogTask()}else e.closeDialogTask()},e.closeDialogTask=function(){t.eventTrack("close-audio-record-dialog",{category:"audio-record",label:"Close audio record dialog"}),e.isRecording&&!e.recordingDone&&e.stopRecording(),delete e.isUploading,delete e.recordingDone,delete e.isRecording,delete e.isUploaded,delete e.isFileUploading,e.htmlRecordData={},s.recordRTC&&s.recordRTC.clearRecordedData(),s={},c.resetData(),e.inline?(e.$emit("validInput"),e.hideRecoder()):i.hide()},e.startRecording=function(a){t.eventTrack("start-audio-record",{category:"audio-record",label:"Start audio record"}),e.inline&&e.$emit("invalidInput","Your recoder audio is not uploaded. Please either upload it or click to cancel."),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(a){e.isRecording=!0;var i={mimeType:"audio/webm",disableLogs:!0};window.MediaRecorder||(i.recorderType=RecordRTC.StereoAudioRecorder),s.recordRTC&&s.recordRTC.destroy(),s.recordRTC=RecordRTC(a,i),s.mediaStream=a,s.recordRTC.startRecording();var t=(new Date).getTime();!function a(){d.cancel(s.htmlRecordTimer),s.htmlRecordTimer=d(function(){a()},1e3);var i=(new Date).getTime()-t;e.recordedAudioTime=i,$(o).find('[data-block-name="audio-record-time"]').html(e.timecode(i))}()}).catch(function(a){console.log("in catch",a),e.showBrowserSupportError(a),delete e.isRecording,delete e.recordedAudioTime,$(o).find('[data-block-name="audio-record-time"]').html()})},e.processAudio=function(){d.cancel(s.audioAnalyzeTimer),s.analyserChart||($('[data-block-name="audio_analyzer"]').highcharts({chart:{type:"area",height:100},title:{text:""},credits:{enabled:!1},plotOptions:{area:{marker:{enabled:!1}}},xAxis:{allowDecimals:!1,labels:{enabled:!1}},yAxis:{labels:{enabled:!1},title:""},series:[{showInLegend:!1,color:"#5bbbb7",data:s.analyserData}]}),s.analyserChart=$('[data-block-name="audio_analyzer"]').highcharts()),s.audioAnalyzeTimer=d(function(){var o=new Float32Array(s.analyser.frequencyBinCount);s.analyser.getFloatFrequencyData(o),s.analyserData.length>300&&s.analyserData.splice(0,1),s.analyserData.push(-1*o[0]),s.analyserChart&&s.analyserChart.series[0].setData(s.analyserData),e.processAudio(s.analyser)},200)},e.showBrowserSupportError=function(o){r.show({template:['<md-toast class="browser-audio-support-popup">',"<span flex>","Unable to record audio. If the issue persists please contact us.","Error: ".concat(o),"</span>",'<div class="text-right clickable toaster-action-button" ng-click="hideToast()">OK</div>',"</md-toast>"].join(""),hideDelay:0,position:e.getToastPosition(),controller:["$scope","$mdToast",function(e,o){e.hideToast=function(){o.hide()}}]})},e.stopRecording=function(){t.eventTrack("stop-audio-record",{category:"audio-record",label:"Stop audio record"}),d.cancel(s.htmlRecordTimer),d.cancel(s.audioAnalyzeTimer),s.recordRTC.stopRecording(function(o){e.htmlRecordData.dataBlob=s.recordRTC.getBlob(),s.recordRTC.getDataURL(function(o){e.htmlRecordData.dataUrl=o}),s.mediaStream.getAudioTracks()[0].stop()}),e.recordingDone=!0,$(o).find('[data-block-name="audio-record-time"]').html("0:00 / "+e.timecode(e.recordedAudioTime))},e.playRecording=function(){e.isPlayingRecord||(t.eventTrack("play-recorded-audio",{category:"audio-record",label:"Play recorded audio"}),e.isPlayingRecord=!0,s.playAudio=new Audio(e.htmlRecordData.dataUrl),s.playAudio.play(),s.playAudio.addEventListener("timeupdate",function(){$(o).find('[data-block-name="audio-record-time"]').html(e.timecode(1e3*this.currentTime)+" / "+e.timecode(e.recordedAudioTime))}),s.playAudio.addEventListener("ended",function(){$(o).find('[data-block-name="audio-record-time"]').html("0:00 / "+e.timecode(e.recordedAudioTime)),delete e.isPlayingRecord,e.$apply()}),s.playAudio.addEventListener("pause",function(){$(o).find('[data-block-name="audio-record-time"]').html("0:00 / "+e.timecode(e.recordedAudioTime)),delete this.currentTime}))},e.stopPlayRecording=function(){e.isPlayingRecord&&(t.eventTrack("stop-play-recorded-audio",{category:"audio-record",label:"Stop play recorded audio"}),delete e.isPlayingRecord,$(o).find('[data-block-name="audio-record-time"]').html("0:00 / "+e.timecode(e.recordedAudioTime)),s.playAudio.pause())},e.onFilesSubmitted=function(o,a,i,t){console.log("files submitted",i),e.inline&&e.$emit("invalidInput","Please wait until the file is uploaded."),e.fileUploadProgress=0;var d={s3_sign_put_url:"/file/signS3",s3_object_name:"audio",onProgress:function(o,a){e.fileUploadProgress=o,console.log("Upload progress: "+o+"% "+a)},onFinishS3Put:function(i){console.log("Upload completed. Uploaded to: "+i),a||(e.htmlRecordData={},s.recordRTC&&s.recordRTC.clearRecordedData(),s={},delete e.recordingDone,delete e.isRecording,delete e.isUploading),e.inline&&e.$emit("validInput"),e.setUploadedFile(o[0],i,t)},onError:function(o){console.log("Upload error: "+o),e.inline&&e.$emit("validInput"),delete e.fileUploadProgress,e.isFileUploading=!1,a||(delete e.isUploading,i()),e.onUploadError(null,o)}};a?d.files_element=a.target:d.upload_files=[o],e.s3upload=new S3Upload(d),e.isFileUploading=!0},e.setUploadedFile=function(o,i,t){o||(o={}),o.name||(o.name=i.match(/\/([a-zA-Z0-9\_\-\.]*)$/)[1]),e.isFileUploading=!1,delete e.fileUploadProgress,e.widgetData.audio||(e.widgetData.audio={}),e.widgetData.audio=t?{url:"resource?path="+i,name:o.name}:{url:i,name:o.name},a.$broadcast("audio-added"),e.modifyUserTable(o.name,i,t),e.closeDialog()},e.modifyUserTable=function(e,o,a){l.post("/file/s3uploadDone",{filename:e,imagePath:o,type:"audio",isTranscode:a}).success(function(e){}).error(function(e){console.log("Fail register audio upload. %s",e)})},e.onUploadStart=function(){t.eventTrack("upload-static-audio",{category:"audio-record",label:"Upload static audio"}),e.isFileUploading=!0},e.onUploadError=function(o,a){t.eventTrack("upload-static-audio-error",{category:"audio-record",label:"file: "+o+", msg: "+a}),e.isFileUploading=!1,delete e.fileUploadProgress,e.showUploadError()},e.onUploadSucess=function(o,a){var i=JSON.parse(a);if(i&&i.files.length>0){var t=i.files[0].extra.Location;e.setUploadedFile(i.files[0],t)}},e.uploadAudio=function(o,a){t.eventTrack("upload-recorded-audio",{category:"audio-record",label:"Upload recorded audio"}),e.onFilesSubmitted(new File([e.htmlRecordData.dataBlob],"audio.wav"),void 0,a,!0)},e.uploadAudioPromise=function(){return e.isUploading=!0,n(function(o,i){e.uploadAudio(function(i){o(),e.widgetData.audio={url:"resource?path="+i.Location,name:i.Key},e.isUploaded=!0,e.modifyUserTable(i.Key,i.Location,!0),d(function(){delete e.isUploading,delete e.recordingDone,delete e.isRecording,delete e.isUploaded,e.inline&&e.$emit("validInput"),a.$broadcast("audio-added"),e.closeDialog()},3e3)},function(){i(),delete e.isUploading})})},e.uploadText=function(){return e.isUploaded?"Uploaded":e.isUploading?"Uploading":"Upload"},e.showUploadError=function(){r.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Oops! Something went wrong. Try uploading again.</span>',"</div>","</md-toast >"].join(""),controller:["$scope","$mdToast",function(e,o){e.closeToast=function(){o.hide()}}],hideDelay:5e3})}}]).directive("audioRecorder",[function(){return{templateUrl:"/templates/audio-recorder.html",restrict:"E",scope:{audioData:"=audioData",audioName:"=audioName",hideRecoder:"&hideRecoder",fileUploadProgress:"<"},link:function(e,o,a){null!=a.inline&&(e.inline=!0)},controller:"AudioRecordController"}}]).directive("recordAudio",["$compile","$http","$window","$mdDialog","$mdToast","$q","$timeout","$analytics",function(e,o,a,i,t,d,r,n){return{templateUrl:"/templates/audio.html",restrict:"E",scope:{audioData:"=audioData",state:"=state",stateConst:"=stateConst",isEdit:"=isEdit"},link:function(e,o,a){null!=a.inline&&(e.inline=!0),e.openRecordAudioDialog=function(o){var a={};if(n.eventTrack("open-audio-record-dialog",{category:"audio-record",label:"Open audio record dialog"}),e.state!=e.stateConst.PREVIEW&&e.state!=e.stateConst.EMBED&&(a=e.audioData),e.inline)e.showRecorder=e.state==e.stateConst.EDIT&&e.isEdit,e.recordAudioData=a,e.audioName="audio";else{var t=angular.element(document.body);i.show({parent:t,targetEvent:o,templateUrl:"/templates/audio-record-dialog.html",locals:{audioData:a,audioName:"audio"},controller:["$scope","audioData","audioName",function(e,o,a){e.audioData=o,e.audioName=a}]})}}},controller:["$scope","$element","$attrs","$transclude","fflip",function(e,o,a,i,t){e.isAudioRecordingEnabled=t.recordAudio,e.$watch("isEdit",function(o,a){a&&!o&&e.inline&&(e.showRecorder=!0)}),e.hideInlineRecorder=function(){delete e.showRecorder,delete e.recordAudioData,delete e.audioName}}]}}]);

},{}],"/home/node/app/assets/js/unsorted/backupalert.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("backupmessage",["$compile","$window","$analytics",function(e,t,a){return{templateUrl:"/templates/backupmessage.html",restrict:"E",link:function(e,s,r){e.discardBackup=function(){a.eventTrack("discard-unsaved-edit",{category:"editor",label:"Discard unsaved changes"}),e.ws_state===e.WS_STATE_CONST.PREVIEW||e.ws_state===e.WS_STATE_CONST.EDIT?t.localStorage.removeItem("edit-"+e.worksheet.token):e.ws_state===e.WS_STATE_CONST.ASSESS&&t.localStorage.removeItem("assess-"+e.worksheet.token),delete e.alert.showBackupMessage,e.$emit("discard-unsaved")},e.saveBackup=function(){a.eventTrack("recover-unsaved-edit",{category:"editor",label:"Recover unsaved changes"}),e.save(),delete e.alert.showBackupMessage,e.ws_state===e.WS_STATE_CONST.PREVIEW||e.ws_state===e.WS_STATE_CONST.EDIT?t.localStorage.removeItem("edit-"+e.worksheet.token):e.ws_state===e.WS_STATE_CONST.ASSESS&&t.localStorage.removeItem("assess-"+e.worksheet.token)}}}}]);

},{}],"/home/node/app/assets/js/unsorted/bubble.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("singleBubble",["$compile","$timeout",function(e,t){return{restrict:"E",controller:["$scope","$worksheetSvc",function(e,t){e.customBubbleStyle=function(){if(e.worksheet&&e.worksheet.style.bubble&&e.bubble&&"circular-bubble"==e.bubble.name)return{height:e.worksheet.style.bubble.height,width:e.worksheet.style.bubble.width,padding:e.worksheet.style.bubble.padding}},e.$on("resize-input",function(t,i,s){if(e.bubble&&"circular-bubble"==e.bubble.name){e.worksheet.style.bubble||(e.worksheet.style.bubble={});var l=Math.sqrt(2)*(s/2)-s/2;l>0?(e.worksheet.style.bubble.height=2*l+s+"px",e.worksheet.style.bubble.width=2*l+s+"px",e.worksheet.style.bubble.padding=l+"px"):(e.worksheet.style.bubble.height=void 0,e.worksheet.style.bubble.width=void 0,e.worksheet.style.bubble.padding=void 0)}else e.worksheet.style.bubble.height=void 0,e.worksheet.style.bubble.width=void 0,e.worksheet.style.bubble.padding=void 0})}],link:function(e,t,i){e.bubble&&e.addCustomClass(e,e.bubble,e.$index),e.$watch("worksheet.style.background.bubble",function(t,i){e.addCustomClass(e,e.bubble,e.$index)}),e.$on("worksheet-discarded",function(t){e.addCustomClass(e,e.bubble,e.$index)})}}}]).directive("bubble",["$worksheetSvc","$compile","$timeout","$interpolate",function(e,t,i,s){return{templateUrl:"/templates/bubble.html",restrict:"E",controller:["$scope","$worksheetSvc","$interpolate",function(e,t,i){e.clickHeader=function(t){e.isEdit||e.ws_state!=e.WS_STATE_CONST.EDIT||e.toggleEdit(t)},e.toggleEdit=function(i){void 0!==i&&i.stopPropagation(),i&&i.isImmediatePropagationStopped()||e.isdragging||(e.isEdit=!e.isEdit,!1===e.isEdit?(t.closeWidget(),e.preEditData=void 0):(e.preEditData={name:e.worksheet.name,description:e.worksheet.description},t.closeOpenWidgets()),e.$emit("onWorksheetTitleChanged",e.isEdit))},e.cancelEdit=function(t){void 0!==t&&t.stopPropagation(),e.isEdit=!1,e.worksheet.name=e.preEditData.name,e.worksheet.description=e.preEditData.description},e.titleChanged=function(){e.$emit("onWorksheetTitleChanged",e.isEdit)},e.onTitleNewLine=function(e){return e&&(e.target.blur(),e.preventDefault()),!1},e.$watch("worksheet.name",function(t,i){t!=i&&e.$emit("formdirty")})}],link:function(e,s,l){e.style={width:void 0,height:void 0},e.addCustomClass=function(l,o,d){var b,a={};e.removePreviousStyles(),o.html&&i(function(){b=o.html.join("");var e=$(s).find('[data-block-name="custom_html_'+d+'"]');e.html(b),b=t(e.contents())(l)},0),a[d]=e.createCustomClass(o),e.addNewStyles(a)},e.createCustomClass=function(e){var t="",i="",s="",l="";return e.border&&(e.border.width?t+="border-width:"+e.border.width+";":t+="border-width: 1px;",e.border.style?t+="border-style:"+e.border.style+";":t+="border-style: solid;",e.border.radius&&(t+="border-radius: "+e.border.radius+";")),e.background_image?t+="background-image: url("+e.background_image+");":e.background_gradient&&(t+="background: "+e.background_gradient+";"),e.background_color&&(t+="background-color: "+e.background_color+"!important;"),e.width&&(t+="width: "+e.width+";"),e["max-width"]&&(t+="max-width: "+e["max-width"]+";"),e["min-width"]&&(t+="min-width: "+e["min-width"]+";"),e.height&&(t+="height: "+e.height+";"),e.shadow&&(t+="-webkit-box-shadow: "+e.shadow+";",t+="-moz-box-shadow: "+e.shadow+";",t+="box-shadow: "+e.shadow+";"),e["max-height"]&&(t+="max-height: "+e["max-height"]+";"),e["min-height"]&&(t+="min-height: "+e["min-height"]+";"),e.margin&&(t+="margin: "+e.margin+";"),e.mobilestyles&&(e.mobilestyles.height&&(s+="height: "+e.mobilestyles.height+";"),e.mobilestyles.width&&(s+="width: "+e.mobilestyles.width+";"),e.mobilestyles["max-width"]&&(s+="max-width: "+e.mobilestyles["max-width"]+";"),e.mobilestyles["min-width"]&&(s+="min-width: "+e.mobilestyles["min-width"]+";")),e.tabletstyles&&(e.tabletstyles.width&&(l+="width: "+e.tabletstyles.width+";"),e.tabletstyles.height&&(l+="height: "+e.tabletstyles.height+";"),e.tabletstyles["max-width"]&&(l+="max-width: "+e.tabletstyles["max-width"]+";"),e.tabletstyles["min-width"]&&(l+="min-width: "+e.tabletstyles["min-width"]+";")),e.fieldstyles&&(e.fieldstyles.padding&&(i+="padding: "+e.fieldstyles.padding+";"),e.fieldstyles.text_alignment&&(i+="text-align: "+e.fieldstyles.text_alignment+"!important;"),e.fieldstyles.text_background&&(i+="display: inline;",i+="background: #fff;",i+="line-height: 1.6;")),e.text_color&&(i+="color: "+e.text_color+"!important;"),{styles:t,fieldStyles:i,mobileBubbleStyles:s,tabletBubbleStyles:l}},e.removePreviousStyles=function(){$('style[name="custom_bubble_style"]').remove()},e.addNewStyles=function(e){var t="";angular.forEach(e,function(e,i){t+=".bubble-custom-class-"+i+" {"+e.styles+" } .bubble-custom-class-"+i+" textarea, .bubble-custom-class-"+i+" h1 {"+e.fieldStyles+" }",e.mobileBubbleStyles&&(t+="@media screen and (max-width: 768px) {.bubble-custom-class-"+i+"{"+e.mobileBubbleStyles+"}}"),e.tabletBubbleStyles&&(t+="@media screen and (min-width: 769px) and (max-width: 992px) {.bubble-custom-class-"+i+"{"+e.tabletBubbleStyles+"}}")}),$("<style name='custom_bubble_style'>"+t+"</style>").appendTo("head")}}}}]).directive("circleAutogrow",["$window","$timeout",function(e,t){return{restrict:"A",link:function(i,s,l){function o(){e.pageYOffset,e.pageXOffset;s.css({height:"auto",width:"auto",overflow:"hidden"});var t=s[0].scrollWidth,l=s[0].scrollHeight,o=l-t,d=t*l,b=Math.abs(d/(o/2+t)),a=Math.abs(d/b);s.css("height","60%"),s.css("width","100%"),i.$emit("resize-input",s,(b+a)/2)}s.on("input propertychange",o),t(o)}}}]);

},{}],"/home/node/app/assets/js/unsorted/colors-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("ColorsCtrl",["$scope","$attrs","$location","Colors","$timeout",function(o,e,l,r,t){o.colors=[],o.colorClasses=[{order:1,class:"levelOneColor"},{order:2,class:"levelTwoColor"},{order:3,class:"levelThreeColor"}],o.loadColors=function(){r.list(function(e){o.colors=e.data.colors,o.initDone=!0})},o.queryClassSearch=function(e){var l=angular.lowercase(e);return l?o.colorClasses.filter(function(o){return 0===o.class.lowercase.indexOf(l)}):o.colorClasses},o.saveColor=function(o){r.save(o).then(function(e){o.createdAt=e.data.color.createdAt,o.updatedAt=e.data.color.updatedAt},function(o){console.log("Failed updated color",o)})},o.addColor=function(){o.colors.push({name:"",disabled:!0,colorset:{}})},o.addClass=function(o,e){o[e]||(o[e]={})},o.removeClass=function(o,e){delete o[e]},o.addSetProp=function(o,e){o[e]||(o[e]="")},o.removeProp=function(o,e){delete o[e]},o.init=function(){o.loadColors()},o.init()}]);

},{}],"/home/node/app/assets/js/unsorted/contactus-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("ContactUsCTRL",["$scope","$attrs","$timeout","Feedback",function(t,e,n,a){t.alerts=[],t.contactData={},t.$parent.$broadcast("change-menu","contact"),t.enableAutoGrow=function(){var t=$('[field-name="contact-msg-box"]').prop("scrollHeight")-12;t>86&&t<=250&&$('[field-name="contact-msg-box"]').height(t)},t.submitForm=function(){console.log("form",t.contactform),t.sendingContact||(t.sendingContact=!0,t.alerts=[],a.submit(t.contactData,function(){t.alerts.push({type:"success",msg:"Thanks for your feedback"}),t.contactData={},t.contactform.$setPristine(),delete t.sendingContact,n(function(){t.alerts=[]},1e4)},function(e){console.log("Fail to save feedback- %s",e),delete t.sendingContact,t.alerts.push({type:"danger",msg:"Failed to save feedback"}),n(function(){t.alerts=[]},1e4)}))}}]);

},{}],"/home/node/app/assets/js/unsorted/cover-layout.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("singleCoverImageStyle",["$timeout",function(e){return{restrict:"AC",scope:!1,controller:["$scope","$element","$attrs",function(e,t,r){e.backgroundImagesStyleResult={},e.$watch("worksheet.style.background",function(t,r){t!=r&&(e.backgroundImagesStyleResult={})}),e.$watch("worksheet.style.images[0]",function(t,r){t!=r&&(e.backgroundImagesStyleResult={})}),e.backgroundImagesStyle=function(){if(e.backgroundImagesStyleResult.background)return e.backgroundImagesStyleResult;for(var t={background:[],"background-color":[],"background-size":[]},r=0;e.worksheet.style.background.images[r];r++){var o=e.worksheet.style.background.images[r],n="";o["background-color"]&&0==t["background-color"].length&&t["background-color"].push(o["background-color"]),o.path&&(n+="url("+o.path+") center center "),o.repeat&&(n+=o.repeat),t.background.push(n),o["background-size"]?t["background-size"].push(o["background-size"]):t["background-size"].push("inherit")}return e.backgroundImagesStyleResult={background:t.background.reverse().join(),"background-size":t["background-size"].reverse().join(),"background-color":t["background-color"].reverse().join()},e.backgroundImagesStyleResult}}],link:function(e,t,r){}}}]).directive("coverImageBackgroundGradient",["$timeout",function(e){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs",function(e,t,r){}],link:function(t,r,o){t.$watch("worksheet.style.background.backgroundGradient",function(t,o){t&&e(function(){$(r).attr("style",$(r).attr("style")+t)},1e3)})}}}]).directive("wartyWarthogLayout",[function(){return{restrict:"E",scope:!1,templateUrl:"/templates/cover-layout/warty-warthog-layout.html",controller:["$scope","$element","$attrs",function(e,t,r){}],link:function(e,t,r){}}}]).directive("wartyWarthogOverlayLayout",[function(){return{restrict:"E",scope:!1,templateUrl:"/templates/cover-layout/warty-warthog-overlay-layout.html",controller:["$scope","$element","$attrs",function(e,t,r){}],link:function(e,t,r){e.$watch("worksheet.style.background",function(t){if(t&&e.worksheet.style.background.images[1]){var r={selector:".header-background."+(e.worksheet.style.background.backgroundClass?e.worksheet.style.background.backgroundClass:e.worksheet.style.background.name)+":after",rules:["background-repeat :"+e.worksheet.style.background.images[1].repeat,"background-image: url("+e.worksheet.style.background.images[1].path+")","background-color:"+e.worksheet.style.background.images[1]["background-color"],"background-size:"+e.worksheet.style.background.images[1]["background-size"],"position: absolute","top: 0px","left: 0px",'content: " "',"height: 100%","width: 100%"]},o=r.selector+"{"+r.rules.join(";")+"}";angular.element(document).find("head").prepend('<style type="text/css">'+o+"</style>")}})}}}]).directive("shiretokoLayout",[function(){return{restrict:"E",scope:!1,templateUrl:"/templates/cover-layout/shiretoko-layout.html",controller:["$scope","$element","$attrs",function(e,t,r){}],link:function(e,t,r){}}}]).directive("mothersDayLayout",[function(){return{restrict:"E",scope:!1,templateUrl:"/templates/cover-layout/mothers-day-layout.html",controller:["$scope","$element","$attrs",function(e,t,r){}],link:function(e,t,r){}}}]).directive("windowsVistaLayout",[function(){return{restrict:"E",scope:!1,templateUrl:"/templates/cover-layout/windows-vista-layout.html",controller:["$scope","$element","$attrs",function(e,t,r){}],link:function(e,t,r){}}}]);

},{}],"/home/node/app/assets/js/unsorted/covers-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("reorderWeightedList",[function(){return{restrict:"A",link:function(e,o,r){r.reorderWeightedList?(e.list=e.$eval(r.reorderWeightedList),e.reorder=function(o,r){o.weightOrder;void 0===o.weightOrder&&(o.weightOrder=0),o.weightOrder+=r,e.list.sort(function(e,o){return o.weightOrder-e.weightOrder})}):console.log("missing list in reorderWeightedList directive")}}}]).controller("CoversCtrl",["$scope","$attrs","$location","Covers","Papers","Fonts","Colors","Bubbles","uploadfileservice","$timeout",function(e,o,r,t,i,n,s,l,c,d){e.covers=[],e.colors=[],e.fonts=[],e.papers=[],e.bubbles=[],e.selectedCover={},e.loadCovers=function(){t.list().success(function(o){e.covers=o.covers,e.initDone=!0,e.selectedCover.index=0,e.selectedCover.data=e.covers[e.selectedCover.index]})},e.onCoverSelected=function(){delete e.showValidationError,e.selectedCover.data=e.covers[e.selectedCover.index]},e.loadColors=function(){s.list(function(o){e.colors=o.data.colors})},e.thumbnailUploadDone=function(e,o,r){console.log("imageUploadDone",o,r),e.thumbnail=o},e.iconUploadDone=function(e,o,r){console.log("imageUploadDone",o,r),e.icon=o},e.imageUploadDone=function(e,o,r){console.log("imageUploadDone",o,r);var t=0;t=isNaN(r)?Object.keys(e.images).length:r,e.images[t]={path:o}},e.saveCover=function(o){var r=!0,i=0;if(angular.forEach(o.images,function(e,o){i++,e.path||(r=!1)}),!((i&&r||o.backgroundGradient)&&o.thumbnail))return e.showValidationError=!0,void d(function(){delete e.showValidationError},1e4);t.save(o).success(function(e){console.log("Updated cover"),o.createdAt=e.cover.createdAt,o.updatedAt=e.cover.updatedAt}).error(function(e){console.log("Failed updated cover",e)})},e.addCover=function(){e.initDone&&(e.covers.push({name:"Cover"+(e.covers.length+1),images:{},bubble:{vertical_position:"center",bubbles:[]}}),e.selectedCover.index=e.covers.length-1,e.selectedCover.data=e.covers[e.selectedCover.index])},e.addBubble=function(e,o){e.bubble.bubbles.push({name:o,background_none:!0})},e.removeBubble=function(e,o){var r=e.bubble.bubbles.indexOf(o);r>-1&&e.bubble.bubbles.splice(r,1)},e.init=function(){e.loadColors(),e.fonts=n.list(),e.papers=i.list(),e.loadCovers(),e.bubbles=l.list()},e.init()}]);

},{}],"/home/node/app/assets/js/unsorted/directives.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("editor",[function(){return{restrict:"E",link:function(e,t,n){},scope:!0,transclude:!0,replace:!0,controller:["$scope","$element","$attrs","$transclude",function(e,t,n,i){this.addwidget=function(t){e.addwsp(t)}}]}}]).directive("wizerFroalaEditor",["$http","$timeout",function(e,t){return{restrict:"A",scope:{editorOptions:"=",editorData:"="},template:'<textarea editfocus ng-cloak froala="editorOptions" ng-model="editorData"></textarea>',link:function(e,t,n){},controller:["$scope","$element","$attrs","$transclude",function(t,n,i,o){t.editorOptions||(t.editorOptions={}),t.editorOptions.events||(t.editorOptions.events={}),t.froalaEvents={"froalaEditor.image.uploadedToS3":function(t,n,i){console.log("image upload"),e.post("/file/s3uploadDone",{filename:i.slice(i.lastIndexOf("/")+1,i.length),imagePath:i,type:"image"}).success(function(){console.log("Success register image upload")}).error(function(e){console.log("Fail register image upload. %s",e)})}},t.froalaOptions={imageUploadURL:""},angular.extend(t.editorOptions,t.froalaOptions),angular.extend(t.editorOptions.events,t.froalaEvents),t.$watch("editorData",function(e,n){e||(t.editorData="")})}]}}]).directive("keyBind",function(){return function(e,t,n){t.bind("keydown keypress",function(t){t.which===Number(n.key)&&(e.$apply(function(){e.$eval(n.keyBind,{event:t})}),t.preventDefault())})}}).directive("solve",["WidgetsService",function(e){return{restrict:"E",link:function(t,n,i){t.isArray=function(e){return angular.isArray(e)},t.getWidgetSolution=function(n){if(t.ws_solutions&&t.ws_solutions.solutions)return e.iterate(n,function(e){e.seqid in t.ws_solutions.solutions||(t.ws_solutions.solutions[e.seqid]={})}),angular.isArray(n)?t.ws_solutions.solutions:t.ws_solutions.solutions[n.seqid]},t.getWidgetAssessment=function(e){return angular.isArray(e)?t.assessment:t.assessment&&t.assessment.widgets&&e.seqid in t.assessment.widgets?t.assessment.widgets[e.seqid]:void 0}},scope:!0,transclude:!0,replace:!0}}]).directive("editorwidget",[function(){return{scope:{widgetModel:"="},require:"^editor",restrict:"E",template:'<img class="{{widgetModel.class_name}}"/>',replace:!0,link:function(e,t,n,i){}}}]).directive("worksheet",["HelpWizardService",function(e){return{restrict:"E",transclude:!0,link:function(t,n,i){t.isArray=function(e){return angular.isArray(e)},t.showHelp=function(t,n){var i=e.WIZARD_DATA_ID_MAP.EDITOR,o=e.WIZARD_DATA_ID_MAP[n||"EDITOR.ADDING_QUESTIONS"];e.openHelpWizard(t,i,o)}}}}]).directive("editorWidgets",["$mdDialog","$analytics","UserSvc",function(e,t,n){return{restrict:"E",templateUrl:"/templates/editor-widgets.html",link:function(i){i.clickAddChoiceTab=function(){if(!i.usettings||!i.usettings.PERSONALIZATION){e.eventTrack("payment-sale-popup-diquestion",{category:"payment",label:"Sale Popup - Differentiated Question"});t.show({template:'<upgrade-account-dialog upgrade-msg="Upgrade to Wizer Boost, <b>create alternative questions</b> for your learner, and <b>differentiate your instruction.</b>"></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0})}},n.settings().then(function(e){i.usettings=e})}}}]).directive("studentAssessmentPie",["$timeout",function(e){return{restrict:"A",link:function(e,t,n){e.drawPie=function(n){var i,o,r,c;i=t[0],e.widget.calcScore?(c=(o=e.getStaticScore()).right_answers+"/"+o.num_questions,r=parseInt(o.right_answers/o.num_questions*100)):(c=(o=(e.assessment.score.value||e.assessment.score)*e.widget.point)+"/"+e.widget.point,r=parseInt(o/e.widget.point*100));var a=r,s=75,l=8,u=0,d=document.createElement("canvas"),p=document.createElement("span");p.textContent=c,"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var f=d.getContext("2d");d.width=d.height=s,i.innerHTML="",i.appendChild(p),i.appendChild(d),f.translate(s/2,s/2),f.rotate((u/180-.5)*Math.PI);var g=(s-l)/2,m=function(e,t,n){n=Math.min(Math.max(0,n||1),1),f.beginPath(),f.arc(0,0,g,0,2*Math.PI*n,!1),f.strokeStyle=e,f.lineCap="butt",f.lineWidth=t,f.stroke()};m("#e4453f",l,1),m("#88bc57",l,a/100)},e.$watch("widget.calcScore",function(t,n){e.widget.calcScore&&e.drawPie({calcScore:!0})}),e.$watch("assessment",function(t,n){e.assessment&&e.drawPie()})}}}]).directive("editfocus",["$timeout",function(e){return{restrict:"A",replace:!1,link:function(t,n,i){t.$watch("isEdit",function(){!0===t.isEdit&&e(function(){n[0].focus()},100)})}}}]).directive("autofocus",["$timeout",function(e){return{restrict:"A",scope:{autofocus:"="},link:function(t,n){t.$watch("autofocus",function(t){t&&e(function(){n[0].focus()})})}}}]).directive("dynamicpopover",["$compile","$timeout",function(e,t){return{restrict:"A",scope:!0,controller:["$scope","$element","$attrs","$timeout",function(t,n,i,o){t.showPopover=function(o){var r=e('<span ng-click="closePopover()">'+o+"</span>")(t);$(n).popover({trigger:"manual",html:!0,content:r,placement:i.popoverPlacement}),$(n).popover("show")},t.closePopover=function(){o(function(){$(n).popover("destroy")},0)}}],link:function(e,t,n){e.$on("showPopover",function(t,n){e.showPopover(n)}),e.$on("hidePopover",function(t){e.closePopover()})}}}]).directive("inlineEdit",function(){return{restrict:"A",transclude:!0,template:'<p ng-bind-html="renderHtml(cellData.text)"></p>',scope:{cellData:"=",editorOptions:"="},controller:["$scope","$sce","$element","$timeout","$compile",function(e,t,n,i,o){e.attachEvents=function(){n.next().find("textarea").on("froalaEditor.focus",function(t,n){i(function(){e.cellData.isFocused=!0},100)}),n.next().find("textarea").on("froalaEditor.blur",function(t,o){i(function(){delete e.cellData.isFocused,n.next().remove(),n.css("display","flex")},350)})},e.renderHtml=function(e){return"string"==typeof e?t.trustAsHtml(e):""},n.bind("click",function(){var t=angular.element('<div wizer-froala-editor editor-options="editorOptions" editor-data="cellData.text"></div>');n.css("display","none").after(t),o(t)(e),i(function(){e.attachEvents()},0),i(function(){n.next().find("textarea").froalaEditor("events.focus")},100)})}]}}).directive("resizable",function(){var e={aspectRatio:!0,handles:"se",containment:"wsimage"};return{restrict:"A",scope:{callback:"&onResize"},link:function(t,n,i){$(n).resizable(e),n.on("resizestop",function(e,n){t.callback&&t.callback({event:e,ui:n})})}}}).directive("iframeOnload",[function(){return{scope:{callBack:"&iframeOnload"},link:function(e,t,n){t.on("load",function(){return e.callBack()})}}}]).controller("ShowContentModal",["$scope","$location","$uibModalInstance","usSpinnerService","title","page",function(e,t,n,i,o,r){e.isLogin=!0,e.title=o,e.page=r,e.pageLoaded=!1,e.close=function(){n.dismiss("close")},e.iframeLoadedCallBack=function(){i.stop("loadpage-spinner"),e.pageLoaded=!0,e.$apply()},e.isPageLoaded=function(){return!0===e.pageLoaded}}]).directive("showcontent",function(){return{restrict:"A",transclude:!0,scope:!0,controller:["$scope","$attrs","$location","$transclude","$uibModal",function(e,t,n,i,o){e.open=function(t){o.open({templateUrl:"/templates/show-content-modal.html",controller:"ShowContentModal",size:"lg",windowClass:"show-content-modal",resolve:{title:function(){return e.title},page:function(){return e.page}}})},i(e,function(t){t.length>0&&(e.title=t[0].innerHTML)})}],link:function(e,t,n){e.page=n.page}}}).directive("pininput",function(){return{restrict:"E",transclude:!0,scope:!1,templateUrl:"/templates/pin-input.html",link:function(e,t,n){}}}).directive("autogrow",["$window","$timeout",function(e,t){return{restrict:"A",link:function(n,i,o){function r(){var t=e.pageYOffset,n=e.pageXOffset;i.css({height:"auto",overflow:"hidden"});var o=i[0].scrollHeight;o>0&&i.css("height",o+"px"),e.scrollTo(n,t)}i.on("input propertychange",r),t(r)}}}]).config(["$tooltipProvider",function(e){e.setTriggers({open:"close"})}]).directive("popovererror",["$timeout",function(e){return{scope:!0,link:function(t,n,i){return t.toggle=function(){e(function(){n.triggerHandler(t.openned?"close":"open"),t.openned=!t.openned})},n.on("click",t.toggle)}}}]).directive("wsThumbnailImage",[function(){return{restrict:"A",link:function(e,t,n){e.getThumbnailImage=function(t){if(t&&t.style&&t.style.background){var n=e.covers[t.style.background.name];n||(n=t.style.background);var i="";return(i=n&&n.configurable&&t.style.images&&t.style.images[0]&&t.style.images[0].path?t.style.images[0].path:n&&n.thumbnail?n.thumbnail:n&&n.path?n.path:n)&&i.length?i.replace("s3.amazonaws.com/",""):""}},e.$watch(n.worksheet,function(t){t&&n.$set("style","background-image: url("+e.getThumbnailImage(t)+")")})}}}]).controller("signinButtonCtrl",["$scope","$timeout","$analytics","$window","$location",function(e,t,n,i,o){e.redir=o.search().redir,e.loginClick=function(){n.eventTrack(e.provider+"-login",{category:"user",label:"User "+e.provider+" login"})},e.popupCenter=function(e,t,n,i){var o=null!=window.screenLeft?window.screenLeft:screen.left,r=null!=window.screenTop?window.screenTop:screen.top,c=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-n/2+o,a=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-i/2+r,s=window.open(e,t,"scrollbars=yes, width="+n+", height="+i+", top="+a+", left="+c);window.focus&&s.focus()},e.login=function(){e.loginClick(),e.inIframe()?e.popupCenter(e.redirUrl(),"Login",400,500):t(function(){var t=i.encodeURIComponent(void 0!==e.redir?e.redir:"/dashboard"),n="/auth/"+e.provider+"?redir="+t;e.userType&&(n+="&type="+e.userType),i.location.href=n},300)},e.inIframe=function(){try{return i.self!==i.top}catch(e){return!0}},e.redirParameter=function(){return e.redir?"redir="+i.encodeURIComponent(e.redir):"teacher"===e.userType?"/dashboard":"/"},e.redirUrl=function(){var t=e.redirParameter();return"/auth/"+e.provider+"?op=dg&type="+e.userType+(t.length>0?"&"+e.redirParameter():"")}}]).directive("ssoButton",["$timeout",function(e){return{scope:{provider:"@",userType:"@"},controller:"signinButtonCtrl",templateUrl:function(e,t){return"/templates/"+t.provider+"-button.html"},replace:!0,restrict:"E",link:function(e,t,n){n.action&&(e.action=n.action),e.userType&&0!==e.userType.length||(e.userType="teacher")}}}]).directive("googleClassroomButton",["$timeout",function(e){return{scope:{provider:"@",userType:"@"},controller:"signinButtonCtrl",templateUrl:function(e,t){return"/templates/google-classroom-button.html"},replace:!0,restrict:"E",link:function(e,t,n){n.action&&(e.action=n.action),e.userType&&0!==e.userType.length||(e.userType="teacher")}}}]);

},{}],"/home/node/app/assets/js/unsorted/embed-assess.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("EmbedAssessCtrl",["$scope","$attrs","$sce","$q","Covers","Papers","paperTheme","Colors","colorTheme","Bubbles","Learn","WS_STATE_CONST","$timeout","$window","WidgetsService",function(e,s,o,t,n,r,a,l,i,u,c,k,d,b,g){e.ws_state=k.SOLVE,e.ws_solutions=[],e.publicationToken=s.publicationtoken,e.solutionToken=s.solutiontoken,e.covers={},e.papers=r.nameMap(),e.colors={},e.bubbles=u.nameMap(),e.embedAssess=!0,e.isPrint=function(){return!0},e.getWidgetSolution=function(s){if(e.ws_solutions&&e.ws_solutions.solutions)return g.iterate(s,function(s){s.seqid in e.ws_solutions.solutions||(console.log("No solution for ",s.seqid),e.ws_solutions.solutions[s.seqid]={})}),angular.isArray(s)?e.ws_solutions.solutions:e.ws_solutions.solutions[s.seqid];console.log("No $scope.ws_solutions",e.ws_solutions)},e.getWidgetAssessment=function(s){return angular.isArray(s)?e.assessment:e.assessment&&e.assessment.widgets&&s.seqid in e.assessment.widgets?e.assessment.widgets[s.seqid]:void 0},e.load=function(s){var o=s[0].worksheet,t=s[1].solution;if(e.ws_solutions={worksheetId:o.id,solutions:{},publicationToken:e.publicationToken,timespend:0,status:"draft"},console.log("load json-"+o),e.worksheetId=o.id,void 0===o||0===o.length)e.worksheetId=void 0;else{void 0===t||t.empty||(e.ws_solutions=t),e.worksheet=o,e.worksheet.tags?e.worksheet.tags=$.unique(e.worksheet.tags):e.worksheet.tags=[],e.viewTags=[];var n=function(s){s.rtdata=angular.copy(s.data),s.initialScore=void 0,s.seqid in e.ws_solutions.solutions||(e.ws_solutions.solutions[s.seqid]={})};g.iterate(e.worksheet.widgets,n),g.iterate(e.worksheet.subwidgets,n),t.assessment||(t.assessment={}),e.assessment=t.assessment,e.applyBodyStyle()}if(!e.worksheet.style.color||!e.worksheet.style.color.name||!e.colors[e.worksheet.style.color.name]){var r=e.colors["Wizer-yellow"];e.worksheet.style.color={name:r.name,className:r.className,preview:r.preview}}i.applyColors(e.colors),b.location.pathname.indexOf("print")>=0&&(e.cancelPrintTimeout=d(function(){b.print()},1e4))},e.printWorksheet=function(){d.cancel(e.cancelPrintTimeout),b.print()},e.getWidgetAssessment=function(s){if(e.assessment&&e.assessment.widgets&&s.seqid in e.assessment.widgets)return e.assessment.widgets[s.seqid]},e.applyBodyStyle=function(){if(e.worksheet)if(e.worksheet.style.background){if(e.worksheet.style.background.name&&e.covers[e.worksheet.style.background.name])e.worksheet.style.background=e.covers[e.worksheet.style.background.name];else if(e.worksheet.style.background.path&&e.covers.Marshmallow){var s=e.worksheet.style.background.path;e.worksheet.style.background=e.covers.Marshmallow,e.worksheet.style.images||(e.worksheet.style.images={0:{path:s}})}else e.worksheet.style.background.images||(e.worksheet.style.background.images={0:{}}),e.worksheet.style.background.images[0].path=e.worksheet.style.background.path;e.worksheet.style.background.paper||(e.worksheet.style.background.paper="default-paper"),e.worksheet.style.background.configurable&&e.worksheet.style.images&&angular.forEach(e.worksheet.style.images,function(s,o){e.worksheet.style.background.images[o]||(e.worksheet.style.background.images[o]={}),angular.extend(e.worksheet.style.background.images[o],s)}),e.setWorksheetBubble(),e.setWorksheetPaper()}else e.worksheet.style.background=e.covers.b2s_3},e.setWorksheetBubble=function(){e.worksheet.style.background.bubble&&e.worksheet.style.background.bubble.bubbles&&e.worksheet.style.background.bubble.bubbles.length||(e.worksheet.style.background.bubble={vertical_position:"center",bubbles:[{name:"default-bubble",background_none:!0}]}),angular.forEach(e.worksheet.style.background.bubble.bubbles,function(s,o){e.bubbles[s.name]&&angular.extend(s,e.bubbles[s.name])})},e.setWorksheetPaper=function(){e.worksheet.style.background.name&&e.worksheet.style.background.paper&&e.papers[e.worksheet.style.background.paper]?(a.applyPaperStyles(e.papers[e.worksheet.style.background.paper]),e.selectedPaper=e.papers[e.worksheet.style.background.paper]):a.removePaperStyles()},e.getSaveFeedback=function(){return o.trustAsHtml(e.assessment.feedback)},e.init=function(){var s=[];if(void 0!==e.publicationToken){var o=t.defer();c.solutionWorksheet({token:e.publicationToken},function(e){o.resolve(e)},function(e){o.reject(e)}),s.push(o.promise);var r=t.defer();c.getSolution({token:e.solutionToken},function(e){r.resolve(e)},function(e){r.reject(e)}),s.push(r.promise);var a=t.defer();l.list(function(s){s.data.colors.forEach(function(s){e.colors[s.name]=s}),a.resolve()},function(e){a.reject()}),s.push(a.promise);var i=t.defer();n.list().success(function(s){s.covers.forEach(function(s){s.images[0]&&s.images[0].path&&(s.path=s.images[0].path),e.covers[s.name]=s}),i.resolve()},function(e){i.reject()}),s.push(i.promise),console.log("call $q.all"),t.all(s).then(function(s){console.log("promise sucess:"+s.length,s),e.load(s)},function(e){console.log("promise fail:"+e)},function(e){console.log("promise update:"+e)})}},e.init()}]);

},{}],"/home/node/app/assets/js/unsorted/embed-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("WorksheetEmbedCtrl",["$scope","$window","$element","$q","$attrs","$location","$sce","$uibModal","WidgetsService","Covers","Papers","paperTheme","Colors","colorTheme","Bubbles","Editor","WS_STATE_CONST","$timeout","$analytics","$mdToast",function(e,o,t,s,r,a,n,l,i,c,u,b,k,d,h,p,w,g,y,f){y.eventTrack(e.viewType+"-start",{category:e.viewType,label:"Start embed"}),e.isFinished=!1,e.WS_STATE_CONST=w,e.ws_state=w.EMBED,e.wstoken=r.wstoken,e.covers={},e.papers=u.nameMap(),e.colors={},e.bubbles=h.nameMap(),e.canSubmitResults=void 0===r.submitresults||"true"===r.submitresults,e.viewType="embed",e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.getToastPosition=function(){return Object.keys(e.toastPosition).filter(function(o){return e.errorToastPosition[o]}).join(" ")},e.$on("formdirty",function(){e.wsform&&(e.wsform.$setDirty(),g(function(){e.$apply()},100))}),e.load=function(t){var s=t[0];if(console.log("load json-",s),e.worksheetId=s.id,void 0===s||0===s.length)e.worksheetId=void 0;else{var r=s,a=function(o){o.rtdata=angular.copy(o.data),o.initialScore=void 0,o.seqid in e.ws_solutions.solutions||(e.ws_solutions.solutions[o.seqid]={})};i.iterate(r.widgets,a),i.iterate(r.subwidgets,a),e.worksheet=r,e.applyBodyStyle(),g(function(){e.$broadcast("worksheet-ready")},1e3)}if(e.worksheet&&"disabled"===e.worksheet.status?e.disabledMessage=!0:delete e.disabledMessage,!e.worksheet.style.color||!e.worksheet.style.color.name||!e.colors[e.worksheet.style.color.name]){var n=e.colors["Wizer-yellow"];e.worksheet.style.color={name:n.name,className:n.className,preview:n.preview}}d.applyColors(e.colors),e.isPrint()&&(e.cancelPrintTimeout=g(function(){o.print()},1e4))},e.isPrint=function(){return o.location.pathname.indexOf("print")>=0},e.printWorksheet=function(){g.cancel(e.cancelPrintTimeout),o.print()},e.failLoad=function(o){console.log("fail load json-"+o),e.worksheetId=void 0},e.applyBodyStyle=function(){if(e.worksheet)if(e.worksheet.style.background){if(e.worksheet.style.background.name&&e.covers[e.worksheet.style.background.name])e.worksheet.style.background=e.covers[e.worksheet.style.background.name];else if(e.worksheet.style.background.path&&e.covers.Marshmallow){var o=e.worksheet.style.background.path;e.worksheet.style.background=e.covers.Marshmallow,e.worksheet.style.images||(e.worksheet.style.images={0:{path:o}})}else e.worksheet.style.background.images||(e.worksheet.style.background.images={0:{}}),e.worksheet.style.background.images[0].path=e.worksheet.style.background.path;e.worksheet.style.background.paper||(e.worksheet.style.background.paper="default-paper"),e.worksheet.style.background.configurable&&e.worksheet.style.images&&angular.forEach(e.worksheet.style.images,function(o,t){angular.extend(e.worksheet.style.background.images[t],o)}),e.setWorksheetBubble(),e.setWorksheetPaper()}else e.worksheet.style.background=e.covers.b2s_3},e.setWorksheetBubble=function(){e.worksheet.style.background.bubble&&e.worksheet.style.background.bubble.bubbles&&e.worksheet.style.background.bubble.bubbles.length||(e.worksheet.style.background.bubble={vertical_position:"center",bubbles:[{name:"default-bubble",background_none:!0}]}),angular.forEach(e.worksheet.style.background.bubble.bubbles,function(o,t){e.bubbles[o.name]&&angular.extend(o,e.bubbles[o.name])})},e.setWorksheetPaper=function(){e.worksheet.style.background.name&&e.worksheet.style.background.paper&&e.papers[e.worksheet.style.background.paper]?(b.applyPaperStyles(e.papers[e.worksheet.style.background.paper]),e.selectedPaper=e.papers[e.worksheet.style.background.paper]):b.removePaperStyles()},function(){var o=[];if(void 0!==e.wstoken){e.ws_solutions={worksheetId:e.worksheetId,solutions:{},publicationToken:e.wstoken,timespend:0};var t=s.defer();p.getByToken({token:e.wstoken},function(e){t.resolve(e)},function(o){t.reject(o),e.failLoad()}),o.push(t.promise)}var r=s.defer();k.list(function(o){o.data.colors.forEach(function(o){e.colors[o.name]=o}),r.resolve()},function(e){r.reject()}),o.push(r.promise);var a=s.defer();c.list().success(function(o){o.covers.forEach(function(o){o.images[0]&&o.images[0].path&&(o.path=o.images[0].path),e.covers[o.name]=o}),a.resolve()},function(e){a.reject()}),o.push(a.promise),console.log("call $q.all"),s.all(o).then(function(o){e.load(o)},function(e){console.log("promise fail:"+e)},function(e){console.log("promise update:"+e)})}()}]);

},{}],"/home/node/app/assets/js/unsorted/embed-widget.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("EmbedCTRL",["$scope","$sce","WS_STATE_CONST",function(t,e,d){t.WS_STATE_CONST=d,t.renderHtml=function(t){return e.trustAsHtml(t)},t.evaluateEmbed=function(e){var d=t.widget.rtdata.embedtext;d.search&&0===d.search(/https?:\/\/?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi)?t.widget.rtdata.embedHtml='<iframe height="500px" sandbox="allow-scripts allow-forms" frameborder="no" width="100%" src="'+t.widget.rtdata.embedtext+'" />':d.search&&d.search(/(iframe)|(script)/gi)>=0?t.widget.rtdata.embedHtml=t.widget.rtdata.embedtext:t.widget.rtdata.embedHtml=void 0}}]).directive("wsembed",[function(){return{restrict:"E",scope:{widget:"=",wsState:"=",isEdit:"="},controller:"EmbedCTRL",templateUrl:"/js/worksheet/widgets/templates/embed-widget.html",link:function(t,e,d){t.widget.isEmpty=function(){return void 0===t.widget.rtdata.embedHtml||0===t.widget.rtdata.embedHtml.length},t.widget.partialPointer||(t.widget.partialPointer=!0),void 0===t.widget.rtdata.embedHtml&&t.wsState!=t.WS_STATE_CONST.SOLVE&&(t.widget.rtdata.embedHtml="",t.$emit("toggle-edit"))}}}]);

},{}],"/home/node/app/assets/js/unsorted/faq.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("AdminFaqCtrl",["$scope","$attrs","$mdToast","$mdDialog","Faq",function(e,t,o,a,s){e.addFaq={visible:!0},e.groupedFaqs={},e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.froalaOptions={placeholderText:"Enter text here...",toolbarButtons:["bold","underline","fontSize","color","emoticons","insertImage","insertVideo","insertLink","|","formatOL","textDirection","|","specialCharacters","subscript","superscript","undo","redo","clearFormatting"]},e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(t){return e.errorToastPosition[t]}).join(" ")},e.showErrorMessage=function(){o.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Failed to save. Try again in a few minutes or check your ',"internet connection.</span>","</div>","</md-toast >"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})},e.loadFaq=function(){s.list(function(t){e.groupedFaqs={},angular.forEach(t.data.faqs,function(t){e.groupedFaqs[t.section]||(e.groupedFaqs[t.section]={section:t.section,faqs:[]}),e.groupedFaqs[t.section].faqs.push(t),e.selectedFaqSection||(e.selectedFaqSection=e.groupedFaqs[t.section],e.addFaq.section=e.selectedFaqSection.section)})},function(t){e.showErrorMessage()})},e.selectSection=function(t){t&&(e.selectedFaqSection=t,e.addFaq.section=e.selectedFaqSection.section)},e.saveFaq=function(t){var o=!1;t.visible?t.state="visible":t.state="hidden",e.selectedFaqSection&&e.selectedFaqSection.section!=t.section&&(o=!0),s.save(t).then(function(a){console.log("Updated faq"),delete t.isEdit,delete t.savedCopy,delete t.visible,t.createdAt&&!o||(e.groupedFaqs[t.section]||(e.groupedFaqs[t.section]={section:t.section,faqs:[]}),e.groupedFaqs[a.data.faq.section].faqs.push(t)),t.createdAt?null!=t.id&&angular.forEach(e.groupedFaqs,function(o){angular.forEach(o.faqs,function(e,a){e.id==t.id&&e.section!=o.section&&o.faqs.splice(a,1)}),o.faqs.length||(delete e.groupedFaqs[o.section],e.selectSection(e.groupedFaqs[t.section]))}):(e.selectedFaqSection||e.selectSection(e.groupedFaqs[t.section]),e.addFaq={visible:!0,section:e.selectedFaqSection.section}),t.id=a.data.faq.id,t.createdAt=a.data.faq.createdAt,t.updatedAt=a.data.faq.updatedAt,e.groupedFaqs[a.data.faq.section].faqs.sort(function(e,t){return t.weightage-e.weightage})},function(t){console.log("Failed updated faq",t),e.showErrorMessage()})},e.deleteFaq=function(t,o){var n=a.confirm().title("Are you sure, you want to delete this FAQ?").textContent("").targetEvent(o).ok("Yes").cancel("No");a.show(n).then(function(){var o=!1;s.remove(t).then(function(a){console.log("Deleted faq"),angular.forEach(e.groupedFaqs,function(a){angular.forEach(a.faqs,function(e,o){e.id==t.id&&a.faqs.splice(o,1)}),a.faqs.length||(delete e.groupedFaqs[a.section],o=!0)}),o&&(Object.keys(e.groupedFaqs).length?e.selectSection(e.groupedFaqs[Object.keys(e.groupedFaqs)[0]]):(delete e.selectedFaqSection,e.addFaq={visible:!0}))},function(t){console.log("Failed delete faq",t),e.showErrorMessage()})})},e.enableEdit=function(e){var t=angular.copy(e);e.savedCopy=t,e.isEdit=!0,"visible"==e.state?e.visible=!0:e.visible=!1},e.cancelEdit=function(e){var t=angular.copy(e.savedCopy);e=angular.copy(t)},e.cancelAdd=function(){e.addFaq={visible:!0}},e.init=function(){e.loadFaq()},e.init()}]).controller("FaqCTRL",["$scope","$sce","$analytics","Faq",function(e,t,o,a){e.$parent.$broadcast("change-menu","faq"),e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.groupedFaqs={},e.staticFaqs=[{id:"1",name:"I’d like to suggest a new feature for Wizer!",content:'<p>We love hearing feedback and suggestions from teachers. Please drop us a note via the <a href="https://app.wizer.me/contactus" target="_blank">Contact form</a>.</p>'}],e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(t){return e.errorToastPosition[t]}).join(" ")},e.showErrorMessage=function(){$mdToast.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Failed to save. Try again in a few minutes or check your ',"internet connection.</span>","</div>","</md-toast >"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})},e.loadFaq=function(){var t,o=[];e.isLoading=!0,a.list(function(a){angular.forEach(a.data.faqs,function(e){"visible"==e.state&&o.push(e)}),e.groupedFaqs={},angular.forEach(o,function(o){0==Object.keys(e.groupedFaqs).length&&(t=!0),e.groupedFaqs[o.section]||(e.groupedFaqs[o.section]={section:o.section,faqs:[]}),t&&(e.groupedFaqs[o.section].isExpanded=!0,t=!1),e.groupedFaqs[o.section].faqs.push(o)}),delete e.isLoading},function(t){delete e.isLoading,e.showErrorMessage()})},e.renderHtml=function(e){return"string"==typeof e?t.trustAsHtml(e):""},e.toggleSection=function(t){angular.forEach(e.groupedFaqs,function(e){e.section!=t.section&&(e.isExpanded=!1)}),t.isExpanded=!t.isExpanded,t.isExpanded&&o.eventTrack("faq-category-"+t.section.split(" ").join("-")+"-click",{category:"faq",label:'FAQ category "'+t.section+'" clicked'})},e.toggleAnswer=function(e,t){e.faqs&&e.faqs.length&&angular.forEach(e.faqs,function(e){e.id!=t.id&&(e.isExpanded=!1)}),t.isExpanded=!t.isExpanded,t.isExpanded&&o.eventTrack("faq-question-"+t.name.split(" ").join("-")+"-click",{category:"faq",label:'FAQ question "'+t.name+'" clicked'})},e.toggleStaticAnswer=function(t){e.staticFaqs&&e.staticFaqs.length&&angular.forEach(e.staticFaqs,function(e){e.id!=t.id&&(t.isExpanded=!1)}),t.isExpanded=!t.isExpanded,t.isExpanded&&o.eventTrack("faq-question-"+t.name.split(" ").join("-")+"-click",{category:"faq",label:'FAQ question "'+t.name+'" clicked'})},e.init=function(){e.loadFaq()},e.init()}]);

},{}],"/home/node/app/assets/js/unsorted/forbidden-student.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("StudentForbiddenAccessCtrl",["$scope","$mdToast","Users","$window","$analytics",function(e,o,t,n,r){e.openLearn=function(){window.open("/dashboard","_self")},e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.styleBoxTransition=!1,e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(o){return e.errorToastPosition[o]}).join(" ")},e.changeUserType=function(){e.changingUserType||(r.eventTrack("change-account-type",{category:"student",label:"Change user type",user:e.uid}),e.changingUserType=!0,t.changeToTeacher().then(function(o){delete e.changingUserType,n.location.href="/dashboard"}).catch(function(t){delete e.changingUserType,o.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Failed to save. Try again in a few minutes or check your ',"internet connection.</span>","</div>","</md-toast >"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})}))}}]);

},{}],"/home/node/app/assets/js/unsorted/header-controller.js":[function(require,module,exports){
"use strict";var _user=_interopRequireDefault(require("../common/helpers/user.helper"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}angular.module("wizer").controller("HeaderCTRL",["$scope","$state","$attrs","$location","$timeout","$http","$window","$analytics","$q","$mdMenu","$mdMedia","$mdSidenav","$mdDialog","WSPublications","Dashboard","WS_STATE_CONST","Classroom","UserSvc",function(e,t,o,n,a,i,r,s,c,l,u,h,d,g,k,v,w,f){e.aboutNavCollapsed=!0,e.activeMenu="",e.isPremium=!1,this.$onInit=function(){f.settings().then(function(t){e.isPremium=_user.default.isPremium(t)})},e.openJoinClassroomDialog=function(e){var t=angular.element(document.body);d.show({parent:t,targetEvent:e,templateUrl:"/templates/join-class.html",controller:["$scope","$mdDialog","$timeout",function(e,t,o){e.closeDialog=function(){t.cancel()},e.joinClass=function(){e.token&&!e.joining&&(delete e.errMsg,delete e.successMsg,e.joining=!0,w.joinClassroom(e.token,function(t){if("active"===t.data.student.status)return e.successMsg="Your request to join the class was approved!",void setTimeout(function(){return r.location.reload()},3e3);delete e.joining,e.successMsg="Your join request is sent to the teacher for approval"},function(t){e.errMsg=t&&t.data&&t.data.error&&t.data.error.msg?t.data.error.msg:"Failed to join class. Please try again!",delete e.joining}))}}]})},e.home=function(){s.eventTrack("nav-home",{category:"navigation",label:"Navigate to home"}),t.go("resources"),t.current&&t.current.name||a(function(){r.location.href="/"},300)},e.gallery=function(){s.eventTrack("nav-gallery",{category:"navigation",label:"Navigate to gallery"}),a(function(){r.location.href="/gallery"},300)},e.$on("$locationChangeSuccess",function(){n&&!_.isUndefined(n.path)&&_.isFunction(n.path)?n.path().indexOf("/editor/preview")>-1?e.activeMenu="editorPreview":n.path().indexOf("/editor")>-1?e.activeMenu="editor":n.path().indexOf("/assess")>-1&&(e.activeMenu="assess"):e.activeMenu="editor"}),e.navigateToEditor=function(t){e.ws_state==v.PREVIEW&&t||(e.activeMenu="",a(function(){e.ws_state==v.ASSESS?r.location.href="/editor/"+(t?"preview/":"")+e.worksheet.token:n.path("/editor/"+(t?"preview/":"")+e.worksheet.token).replace()},300))},e.assessWorksheet2=function(){a(function(){r.location.href="/assess2/worksheet/"+e.wstoken},300)},e.navigateTeachers=function(){s.eventTrack("nav-teacher",{category:"navigation",label:"Navigate to teachers"}),a(function(){r.location.href="/teachers"},300)},e.navigateSchools=function(){s.eventTrack("nav-schools",{category:"premium",label:"Navigate to schools"}),a(function(){r.location.href="//info.wizer.me/schools-and-districts/"},300)},e.navigateParents=function(){s.eventTrack("nav-parents",{category:"premium",label:"Navigate to parents"}),a(function(){r.location.href="//info.wizer.me/parents/"},300)},e.navigateUpgrade=function(){s.eventTrack("nav-upgrade",{category:"premium",label:"Navigate to upgrade page"}),a(function(){r.location.href="/pricing"},300)},e.navigateTeacherPricing=function(){s.eventTrack("nav-pricing",{category:"premium",label:"Navigate to pricing"}),a(function(){r.location.href="/pricing"},300)},e.navigateSubscription=function(){i.get("/user/self_serve_portal").success(function(e){a(function(){r.location.href=e.accessUrl},300)}).error(function(e){console.log("failed to get self servel portal redirection URL.",e)})},e.navigateAbout=function(){s.eventTrack("nav-about-us",{category:"navigation",label:"Navigate to about us"}),a(function(){r.location.href="/about-us"},300)},e.navigateFAQ=function(){s.eventTrack("nav-faq",{category:"navigation",label:"Navigate to FAQ"}),a(function(){r.open("/faq","_blank")},300)},e.navigateTeam=function(){s.eventTrack("nav-team",{category:"navigation",label:"Navigate to team"}),a(function(){r.location.href="/team"},300)},e.navigateContactUs=function(){s.eventTrack("nav-contact-us",{category:"navigation",label:"Navigate to contactus"}),a(function(){r.location.href="/contactus"},300)},e.navigateBlog=function(){s.eventTrack("nav-blog",{category:"navigation",label:"Navigate to blog"}),a(function(){r.open("http://newblog.wizer.me/","_blank")},300)},e.navigateDashboard=function(e){a(function(){r.location.href="/dashboard"+(e?"/"+e:"")},300)},e.isDesktopMenu=function(){return u("(min-width: 768px)")},e.logoClicked=function(){u("(min-width: 768px)"),e.home()},e.createNew=function(){s.eventTrack("nav-new-ws-click",{category:"navigation",label:"Create new worksheet"}),a(function(){r.location.href="/editor"},300)},e.$on("change-menu",function(t,o){"about-us"!==o&&"contact"!==o&&"faq"!==o&&"how_it_works"!==o||(e.aboutNavCollapsed=!1),e.activeMenu=o}),e.toggleAboutMenu=function(){e.aboutNavCollapsed=!e.aboutNavCollapsed},e.openShareMenu=function(t,o){e.shareMenuOpened?(t.close(),delete e.shareMenuOpened):(t.open(o),e.shareMenuOpened=!0,r.onmouseup=function(o){delete e.shareMenuOpened,t.close()})},e.changeMenuOpen=function(t){t.stopPropagation(),delete e.shareMenuOpened},e.getWorksheetLink=function(){var t=c.defer();return e.viewToken?t.resolve(e.viewToken):k.getViewpublicationToken(e.worksheet.id,e.worksheet.userId,e.worksheet.lastRev,function(o){e.viewToken=r.location.origin+"/preview/"+o.data.viewToken,t.resolve(e.viewToken)},function(e){t.reject(),console.log("failed to get view token",e)}),t.promise},e.$watch("worksheet",function(t){e.worksheet&&e.worksheet.id&&e.worksheet.lastRev&&e.getWorksheetLink()}),e.getThumbnailImage=function(){var t;if(e.worksheet){if(e.worksheet.thumbnail&&e.worksheet.thumbnail.length>0)return e.worksheet.thumbnail.replace("s3.amazonaws.com/","");e.worksheet&&e.worksheet.style&&e.worksheet.style.background&&((t=e.covers[e.worksheet.style.background.name])||(t=e.worksheet.style.background));return(t&&t.configurable&&e.worksheet.style.images&&e.worksheet.style.images[0]&&e.worksheet.style.images[0].path?e.worksheet.style.images[0].path:t&&t.thumbnail?t.thumbnail:t&&t.path?t.path:t).replace("s3.amazonaws.com/","")}},e.shareEdmodo=function(){var t="Use this Wizer.Me​ interactive worksheet "+encodeURIComponent(e.worksheet.name?'"'+e.worksheet.name+'" ':"")+"with your students or create your own.",o="/dashboard/share/"+e.worksheet.id+"/"+e.worksheet.userId+"/"+e.worksheet.lastRev+"?type=edmodo&description="+t+"&edmodo_share=1&edmodo_source=95015059";s.eventTrack("editor-share-edmodo",{category:"editor",label:"Share worksheet in edmodo"}),window.open(o,"_blank")},e.sharePinterest=function(){var t=e.getThumbnailImage(),o="Use this Wizer.Me​ interactive worksheet "+encodeURIComponent(e.worksheet.name?'"'+e.worksheet.name+'" ':"")+"with your students or create your own.",n="/dashboard/share/"+e.worksheet.id+"/"+e.worksheet.userId+"/"+e.worksheet.lastRev+"?type=pinterest&description="+o+"&media="+encodeURIComponent(t);s.eventTrack("editor-share-pinterest",{category:"editor",label:"Share worksheet in pinterest"}),window.open(n,"_blank")},e.shareFacebook=function(){var t="Use this @Wizer.Me​ interactive worksheet "+encodeURIComponent(e.worksheet.name?'"'+e.worksheet.name+'" ':"")+"with your students or create your own!",o=e.getThumbnailImage(),n="/dashboard/share/"+e.worksheet.id+"/"+e.worksheet.userId+"/"+e.worksheet.lastRev+"?type=facebook&description="+t+"&media="+encodeURIComponent(o)+"&caption="+encodeURIComponent("Wizer.me")+"&hashTags=EdTech";s.eventTrack("editor-share-facebook",{category:"editor",label:"Share worksheet in facebook"}),window.open(n,"_blank")},e.shareTwitter=function(){var t="Use @wizerme interactive worksheet "+encodeURIComponent(e.worksheet.name?'"'+e.worksheet.name+'" ':"")+"with your students or create your own!",o="/dashboard/share/"+e.worksheet.id+"/"+e.worksheet.userId+"/"+e.worksheet.lastRev+"?type=twitter&description="+t+"&hashTags=Worksheet,EdTech";s.eventTrack("editor-share-twitter",{category:"editor",label:"Share worksheet in twitter"}),window.open(o,"_blank")},e.openCopyLinkDialog=function(t){e.getWorksheetLink().then(function(e){var o=angular.element(document.body);d.show({parent:o,targetEvent:t,templateUrl:"/templates/copy-preview-link-dialog.html",locals:{link:e},controller:["$scope","$mdDialog","link",function(e,t,o){e.link=o,e.closeDialog=function(){t.hide()}}]}),a(function(){$('[aria-label="link"]').select()},700)})},e.changePublicationType=function(t){t&&t.stopPropagation(),e.worksheet.isPublic=!e.worksheet.isPublic,e.worksheet.isPublic?g.public(e.worksheet.token).success(function(){e.save()}):g.private(e.worksheet.token).success(function(){e.save()}),s.eventTrack("dashboard-worksheet-accesstype",{category:"editor",label:"Changed worksheet access type"})},e.onChangePublicationType=function(){e.worksheet.isPublic=!e.worksheet.isPublic}}]);

},{"../common/helpers/user.helper":"/home/node/app/assets/js/common/helpers/user.helper.js"}],"/home/node/app/assets/js/unsorted/image-upload-button.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("imageUploadButton",["$analytics",function(e){return{restrict:"E",scope:{imageId:"=",imageUploaded:"&imageUploaded",model:"=ngModel"},transclude:!0,templateUrl:"/templates/image-upload-button.html",link:function(e,o,a){console.log("image-upload-button")},controller:["$scope","$element","$attrs","$transclude","uploadfileservice",function(o,a,n,t,i){o.isUploading=function(){return i.isUploading(o,o.imageId)},o.onUploadStart=function(){e.eventTrack("upload-image-click"+o.imageId,{category:"editor",label:"Upload image clicked"}),i.onUploadStart(o,o.imageId)},o.onUploadError=function(e,a){i.onUploadError(e,a,o,o.imageId)},o.onFilesSubmitted=function(e,a){i.onFilesSubmitted(e,a,o,o.imageId).then(function(e){o.setUploadedImage(e.file,e.url,o.imageId)},function(e){o.onUploadError(null,e,o)})},o.setUploadedImage=function(e,a){i.setUploadedImage(e,a,o,o.imageId).then(function(e){var a=i.index(o,o.imageId);o.imageUploaded()(o.model,e,a)})},o.onUploadSucess=function(e,a){i.onUploadSucess(e,a,option,o.imageId).then(function(e,a,n){o.setUploadedImage(e,a,o,n)})}}]}}]);

},{}],"/home/node/app/assets/js/unsorted/index.js":[function(require,module,exports){
"use strict";require("./angular-classroom-share"),require("./angular-google-search-api"),require("./angular-youtube-player-api"),require("./wizer-angulartics-intercom"),require("./assess-service"),require("./audio"),require("./backupalert"),require("./bubble"),require("./colors-controller"),require("./contactus-controller"),require("./cover-layout"),require("./covers-controller"),require("./directives"),require("./embed-assess"),require("./embed-controller"),require("./embed-widget"),require("./faq"),require("./forbidden-student"),require("./header-controller"),require("./image-upload-button"),require("./joinsession-controller"),require("./md-tab-class"),require("./mouseaway"),require("./new-feature-animation"),require("./paper-theme"),require("./playaudio"),require("./plugin-controllers"),require("./preview-bar"),require("./preview-controller"),require("./profile-controller"),require("./public-profile"),require("./single-container-layout"),require("./socket.service"),require("./static-controller"),require("./student-dashboard"),require("./tags-controller"),require("./themes-controller"),require("./uploadfileservice"),require("./wizer-login"),require("./worksheet-search"),require("./worksheet-tags"),require("./ws-color-selector"),require("./ws-cover-select"),require("./ws-font-selector"),require("./ws-layout"),require("./ws-theme-selector");

},{"./angular-classroom-share":"/home/node/app/assets/js/unsorted/angular-classroom-share.js","./angular-google-search-api":"/home/node/app/assets/js/unsorted/angular-google-search-api.js","./angular-youtube-player-api":"/home/node/app/assets/js/unsorted/angular-youtube-player-api.js","./assess-service":"/home/node/app/assets/js/unsorted/assess-service.js","./audio":"/home/node/app/assets/js/unsorted/audio.js","./backupalert":"/home/node/app/assets/js/unsorted/backupalert.js","./bubble":"/home/node/app/assets/js/unsorted/bubble.js","./colors-controller":"/home/node/app/assets/js/unsorted/colors-controller.js","./contactus-controller":"/home/node/app/assets/js/unsorted/contactus-controller.js","./cover-layout":"/home/node/app/assets/js/unsorted/cover-layout.js","./covers-controller":"/home/node/app/assets/js/unsorted/covers-controller.js","./directives":"/home/node/app/assets/js/unsorted/directives.js","./embed-assess":"/home/node/app/assets/js/unsorted/embed-assess.js","./embed-controller":"/home/node/app/assets/js/unsorted/embed-controller.js","./embed-widget":"/home/node/app/assets/js/unsorted/embed-widget.js","./faq":"/home/node/app/assets/js/unsorted/faq.js","./forbidden-student":"/home/node/app/assets/js/unsorted/forbidden-student.js","./header-controller":"/home/node/app/assets/js/unsorted/header-controller.js","./image-upload-button":"/home/node/app/assets/js/unsorted/image-upload-button.js","./joinsession-controller":"/home/node/app/assets/js/unsorted/joinsession-controller.js","./md-tab-class":"/home/node/app/assets/js/unsorted/md-tab-class.js","./mouseaway":"/home/node/app/assets/js/unsorted/mouseaway.js","./new-feature-animation":"/home/node/app/assets/js/unsorted/new-feature-animation.js","./paper-theme":"/home/node/app/assets/js/unsorted/paper-theme.js","./playaudio":"/home/node/app/assets/js/unsorted/playaudio.js","./plugin-controllers":"/home/node/app/assets/js/unsorted/plugin-controllers.js","./preview-bar":"/home/node/app/assets/js/unsorted/preview-bar.js","./preview-controller":"/home/node/app/assets/js/unsorted/preview-controller.js","./profile-controller":"/home/node/app/assets/js/unsorted/profile-controller.js","./public-profile":"/home/node/app/assets/js/unsorted/public-profile.js","./single-container-layout":"/home/node/app/assets/js/unsorted/single-container-layout.js","./socket.service":"/home/node/app/assets/js/unsorted/socket.service.js","./static-controller":"/home/node/app/assets/js/unsorted/static-controller.js","./student-dashboard":"/home/node/app/assets/js/unsorted/student-dashboard.js","./tags-controller":"/home/node/app/assets/js/unsorted/tags-controller.js","./themes-controller":"/home/node/app/assets/js/unsorted/themes-controller.js","./uploadfileservice":"/home/node/app/assets/js/unsorted/uploadfileservice.js","./wizer-angulartics-intercom":"/home/node/app/assets/js/unsorted/wizer-angulartics-intercom.js","./wizer-login":"/home/node/app/assets/js/unsorted/wizer-login.js","./worksheet-search":"/home/node/app/assets/js/unsorted/worksheet-search.js","./worksheet-tags":"/home/node/app/assets/js/unsorted/worksheet-tags.js","./ws-color-selector":"/home/node/app/assets/js/unsorted/ws-color-selector.js","./ws-cover-select":"/home/node/app/assets/js/unsorted/ws-cover-select.js","./ws-font-selector":"/home/node/app/assets/js/unsorted/ws-font-selector.js","./ws-layout":"/home/node/app/assets/js/unsorted/ws-layout.js","./ws-theme-selector":"/home/node/app/assets/js/unsorted/ws-theme-selector.js"}],"/home/node/app/assets/js/unsorted/joinsession-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("JoinSessionCTRL",["$scope","$attrs","$timeout","$window","Learn",function(e,s,n,o,i){e.messages=[],e.submitToken=function(){i.searchToken({token:e.token},function(s){e.worksheetData=s,o.location.href=s.link},function(s){console.log("Fail searching for pin %s, error: %s",e.token,s);var o=e.messages.push({msg:"Fail to search pin",type:"danger"});n(function(){e.messages.splice(o-1,1)},1e4)})},e.closeMessage=function(s){e.messages.splice(s,1)}}]);

},{}],"/home/node/app/assets/js/unsorted/md-tab-class.js":[function(require,module,exports){
"use strict";function mdTabClassDirective(){function t(t){return 0!==t.indexOf("md-")&&0!==t.indexOf("ng-")}return{restrict:"A",require:["^mdTabs"],link:function(e,i,n,r){var a,s=r[0],d=i.closest("md-tabs");e.$watch(function(){return i.attr("class")},function(e,n){if(e!==n&&(a||(a=s.tabs.filter(function(t){return t.element.is(i)}).shift()),a)){var r=e.split(" ").filter(t),u=n.split(" ").filter(t).filter(function(t){return-1===r.indexOf(t)}),l=a.getIndex(),f=d.find("md-tab-item:eq("+l+"), md-dummy-tab:eq("+l+")");f.removeClass(u.join(" ")),f.addClass(r.join(" ")),s.updatePagination(),s.updateInkBarStyles()}})}}}angular.module("wizer").directive("mdTabClass",mdTabClassDirective);

},{}],"/home/node/app/assets/js/unsorted/mouseaway.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("mouseaway",["$parse",function(e){return{restrict:"A",link:function(t,r,n){var a=e(n.mouseaway);r.bind("mouseout",function(e){for(var n=e.toElement||e.relatedTarget;n;){if(n===r[0])return;n=n.parentNode}t.$apply(function(){a(t,{$event:e})})})}}}]);

},{}],"/home/node/app/assets/js/unsorted/new-feature-animation.js":[function(require,module,exports){
"use strict";function newFeatureAnimationComponent(e,t){return{restrict:"A",link:function(n,a,r,i){i.featureName=r.newFeatureAnimation,i.disabled="true"===r.nfaDisabled,i.disabled||!i.userFeatures||i.userFeatures[i.featureName]||e("/templates/new-feature-animation.html").then(function(e){i.animElement=angular.element(e),a.after(i.animElement),t(i.animElement)(n),a.bind("click",i.clickHandler)})},controller:newFeatureAnimationController,controllerAs:"$faCtrl",bindToController:!0}}function newFeatureAnimationController(e,t,n){var a=this;a.userFeatures=t.getFeature(),a.hideFeature=function(){a.animElement.remove(),a.userFeatures[a.featureName]=!0,t.setFeature(a.userFeatures),n.hideFeature(a.featureName,function(e){e.data[a.featureName]},function(e){})},a.clickHandler=function(){a.hideFeature(),$(this).unbind("click",a.clickHandler)}}newFeatureAnimationController.$inject=["$scope","LoggedinUserData","UserFeature"],newFeatureAnimationComponent.$inject=["$templateRequest","$compile"],angular.module("wizer").directive("newFeatureAnimation",newFeatureAnimationComponent),newFeatureAnimationComponent.$inject=["$templateRequest","$compile"],newFeatureAnimationController.$inject=["$scope","LoggedinUserData","UserFeature"];

},{}],"/home/node/app/assets/js/unsorted/paper-theme.js":[function(require,module,exports){
"use strict";angular.module("wizer").service("paperTheme",function(){this.applyPaperStyles=function(r){var e=this.createStyles(r);this.removePaperStyles(),this.addPaperStyles(e)},this.createStyles=function(r){var e="";return r.paper&&(r.paper.paper_url&&(e+=".worksheet-paper:before{background-image:url("+r.paper.paper_url+")}",r.paper.border&&r.paper.border.radius&&(e+=".worksheet-paper:before{border-radius:"+r.paper.border.radius+";}")),r.paper.repeat&&(e+=".worksheet-paper:before{background-repeat:"+r.paper.repeat+"}"),r.paper.position&&(e+=".worksheet-paper:before{background-position:"+r.paper.position+"}"),r.paper.size&&(e+=".worksheet-paper:before{background-size:"+r.paper.size+"}"),r.paper["background-color"]&&(e+=".worksheet-paper{background-color:"+r.paper["background-color"]+"!important}",e+="worksheet.worksheet{background-color:"+r.paper["background-color"]+"!important}"),r.paper.opacity&&(e+=".worksheet-paper:before{opacity:"+r.paper.opacity+"}"),r.paper.shadow&&(e+=".worksheet{-webkit-box-shadow:"+r.paper.shadow+";",e+="-moz-box-shadow:"+r.paper.shadow+";box-shadow:"+r.paper.shadow+";}"),r.paper.border&&(r.paper.border.width&&(e+=".worksheet{border-width:"+r.paper.border.width+";}",e+=".worksheet .worksheet-paper{border-width:0px;}"),r.paper.border.style&&(e+=".worksheet{border-style:"+r.paper.border.style+";}"),r.paper.border.radius&&(e+=".worksheet{border-radius:"+r.paper.border.radius+";}",e+=".add-widget-container{border-bottom-right-radius:"+r.paper.border.radius+";border-bottom-left-radius:"+r.paper.border.radius+";}",e+=".worksheet .worksheet-paper{border-top-left-radius:"+r.paper.border.radius,e+=";border-top-right-radius:"+r.paper.border.radius+";border-bottom-right-radius:0px;border-bottom-left-radius:0px;}",e+=".preview-worksheet-paper{border-bottom-right-radius:"+r.paper.border.radius+" !important;border-bottom-left-radius:"+r.paper.border.radius+" !important;}"),r.paper.border.color&&(e+=".worksheet{border-color:"+r.paper.border.color+"!important;}")),r.paper.padding&&(e+=".worksheet-paper{padding:"+r.paper.padding+"}",e+="@media screen and (max-width: 768px) {.worksheet{padding-left:0px;padding-right:0px;}}"),r.paper.margin&&(e+=".worksheet-paper{margin:"+r.paper.margin+"}",e+="@media screen and (max-width: 768px) {.worksheet{margin-left:0px;margin-right:0px;}}")),r.background&&(r.background["background-color"]&&(e+=".worksheet-background .page-wrapper:before{background-color:"+r.background["background-color"]+"!important}"),r.background.background_url&&(e+=".worksheet-background .page-wrapper:before{background-image:url("+r.background.background_url+")}"),r.background["background-gradient"]&&(e+=".worksheet-background .page-wrapper:before{background-image:"+r.background["background-gradient"]+"}"),r.background.repeat&&(e+=".worksheet-background .page-wrapper:before{background-repeat:"+r.background.repeat+"}"),r.background.position&&(e+=".worksheet-background .page-wrapper:before{background-position:"+r.background.position+"}"),r.background.size&&(e+=".worksheet-background .page-wrapper:before{background-size:"+r.background.size+"}"),r.background.opacity&&(e+=".worksheet-background .page-wrapper:before{opacity:"+r.background.opacity+"}",e+="editor, solve{background-color:transparent !important;}")),e},this.removePaperStyles=function(){$('style[name="custom_paper_style"]').remove()},this.addPaperStyles=function(r){$("<style name='custom_paper_style'>"+r+"</style>").appendTo("head")}});

},{}],"/home/node/app/assets/js/unsorted/playaudio.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("audioPlayer",["$mdToast","$mdDialog","$analytics",function(a,o,e){return{templateUrl:"/templates/audioplayer.html",restrict:"A",scope:{isLocked:"<?",widgetData:"=widgetData",state:"=state",widgetId:"=widgetId",stateConstant:"=stateConstant",isEdit:"=isEdit",teacherAudio:"=teacherAudio",audioPlayerBlock:"=audioPlayerBlock",audioName:"@audioName"},link:function(t,i,n){t.playerId=angular.copy(t.widgetId)+"_"+Math.random().toString(36).substr(2,18),null!=n.assessFeedback&&(t.assessFeedback=!0,t.playerId="feedback_"+t.playerId),null!=n.answerIndex&&(t.answerAudio=!0,t.playerId="answer_"+t.playerId),null!=n.matchingAudio&&(t.matchingAudio=!0,t.playerId="matching_"+t.playerId),t.$watch("widgetData.audio.name",function(a,o){a&&o&&a!=o&&(delete t.playDuration,delete t.audioLoaded,delete t.isPlaying,delete t.isPauseAble,soundManager.destroySound("mySound-"+t.playerId))}),t.timecode=function(a){var o={h:Math.floor(a/36e5),m:Math.floor(a/6e4%60),s:Math.floor(a/1e3%60)},e=[];return o.h>0&&e.push(o.h),e.push(o.m<10&&o.h>0?"0"+o.m:o.m),e.push(o.s<10?"0"+o.s:o.s),e.join(":")},t.toastPosition={bottom:!0,top:!1,left:!1,right:!0},t.getToastPosition=function(){return Object.keys(t.toastPosition).filter(function(a){return t.toastPosition[a]}).join(" ")},t.playAudio=function(o){if(o.stopPropagation(),e.eventTrack("play-audio",{category:"audio-player",label:"Play uploaded audio"}),!t.isLoading)if(soundManager.ok())t.isPlaying?(soundManager.resume("mySound-"+t.playerId),t.isPauseAble=!0):(t.audioLoaded?t.isPauseAble=!0:t.isLoading=!0,soundManager.createSound({id:"mySound-"+t.playerId,url:t.widgetData.audio.url,onload:function(o){delete t.isLoading,o?(t.audioLoaded=!0,t.isPlaying=!0,t.isPauseAble=!0):(a.show({template:'<md-toast class="copy-to-clipboard-popup"><span flex>Failed to load audio.</span></md-toast>',hideDelay:3e3,position:t.getToastPosition()}),soundManager.destroySound("mySound-"+t.playerId)),t.$apply()},onerror:function(a,o){console.log("playaudio: onerror: ",a,o)}}),soundManager.play("mySound-"+t.playerId,{onplay:function(){},whileplaying:function(){t.playPositionMs=this.position,t.playPosition=t.timecode(this.position),t.playDuration=t.timecode(this.duration),t.$apply()},onfinish:function(){t.isPlaying=!1,delete t.isPauseAble,delete t.playDuration,delete t.playPositionMs,t.$apply()}}));else a.show({template:['<md-toast class="browser-audio-support-popup">',"<span flex>","Playing audio is not supported by your device. ","Try it from a computer that has Flash installed on it. ","</span>",'<div class="text-right clickable" ng-click="hideToast()">OK</div>',"</md-toast>"].join(""),hideDelay:0,position:t.getToastPosition(),controller:["$scope","$mdToast",function(a,o){a.hideToast=function(){o.hide()}}]})},t.pauseAudio=function(a){e.eventTrack("pause-audio",{category:"audio-player",label:"Pause playing uploaded audio"}),a.stopPropagation(),soundManager.pause("mySound-"+t.playerId),t.isPauseAble=!1},t.rewindAudio=function(a){e.eventTrack("rewind-audio",{category:"audio-player",label:"Rewind playing uploaded audio"}),a.stopPropagation();var o=t.playPositionMs-3e4;o<0&&(o=0),soundManager.setPosition("mySound-"+t.playerId,o)},t.toggleAudioPlay=function(a){a.stopPropagation(),t.isPauseAble?t.pauseAudio(a):t.playAudio(a)},t.removeAudio=function(a){a.stopPropagation();var i=o.confirm().title("Are you sure you want to delete this audio from this worksheet?").htmlContent("").targetEvent(a).ok("YES, DO IT!").cancel("CANCEL");o.show(i).then(function(){e.eventTrack("remove-audio",{category:"audio-player",label:"Remove uploaded audio"}),soundManager.destroySound("mySound-"+t.playerId),t.widgetData.audio={},t.$emit("formdirty")})}}}}]);

},{}],"/home/node/app/assets/js/unsorted/plugin-controllers.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("LoginHeaderCTRL",["$scope","$state","$attrs","$location","$rootScope","$window","$uibModal","$analytics","$timeout","$mdDialog","Classroom",function(e,o,n,t,r,i,l,a,s,u,c){r.userName=n.wmUser,r.uid=n.wmUid,r.utoken=n.wmUtoken,r.uType=n.wmUtype,r.userImage=n.wmUserImg,e.openLoginDialog=function(e){l.open({templateUrl:"/templates/login-modal.html",controller:"LoginCTRL",size:e,backdrop:"static",windowClass:"login-modal",resolve:{}})},e.openUserProfile=function(e){a.eventTrack("user-profile",{category:"user",label:"User profile"}),s(function(){i.location.href="student"!==e?"/profile/"+r.utoken:"/profile/learner/"+r.utoken},300)},e.openUserProfileSettings=function(){a.eventTrack("user-profile-settings",{category:"user",label:"User profile settings"}),s(function(){i.location.href="/profile"},300)},e.doLogout=function(){a.eventTrack("user-logout",{category:"user",label:"User Logout"}),i.localStorage.clear(),s(function(){i.location.href="/logout"},300)},e.navigateSignup=function(){a.eventTrack("user-signup",{category:"user",label:"User Signup"}),s(function(){i.location.href="/signup"},300)},e.navigateLogin=function(){a.eventTrack("user-login",{category:"user",label:"User Login"}),s(function(){i.location.href="/login"},300)}}]).controller("CoverCTRL",["$scope",function(e){e.height=500}]);

},{}],"/home/node/app/assets/js/unsorted/preview-bar.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("PreviewBarCTRL",["$scope","$analytics","$timeout","$window",function(e,o,i,r){e.copy=function(){o.eventTrack("preview-copy",{category:"preview",label:"Copy preview worksheet"}),i(function(){r.location.href="/editor/copy/"+e.wstoken},300)},e.like=function(){o.eventTrack("preview-like",{category:"preview",label:"Preview like"}),i(function(){r.location.href="/editor/copy/"+e.wstoken},300)}}]);

},{}],"/home/node/app/assets/js/unsorted/preview-controller.js":[function(require,module,exports){
"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function _iterableToArrayLimit(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,s=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,o,r,n,s,a){try{var i=e[s](a),l=i.value}catch(e){return void o(e)}i.done?t(l):Promise.resolve(l).then(r,n)}function _asyncToGenerator(e){return function(){var t=this,o=arguments;return new Promise(function(r,n){var s=e.apply(t,o);function a(e){asyncGeneratorStep(s,r,n,a,i,"next",e)}function i(e){asyncGeneratorStep(s,r,n,a,i,"throw",e)}a(void 0)})}}angular.module("wizer").directive("wspreview",function(){return{restrict:"A",transclude:!0,replace:!0,controller:["$scope","$element","$attrs","$location","$sce","$analytics","$timeout","$mdToast","$mdDialog","$window","Editor","Covers","Gallery","Dashboard","Chargebee","worksheetAssignModal","Users","Classroom",function(e,t,o,r,n,s,a,i,l,c,u,d,h,k,p,f,g,w){e.covers={},e.shareToolBar={isOpen:!1},d.list(function(t){t.forEach(function(t){e.covers[t.name]=t})}),e.toggleMobileMenu=function(){e.expandedMobileMenu=!e.expandedMobileMenu},e.showBottomSheet=function(e){e.showBottomSheet=!0},e.hideBottomSheet=function(e){delete e.showBottomSheet},e.toastPosition={bottom:!0,top:!1,left:!1,right:!0},e.getToastPosition=function(){return Object.keys(e.toastPosition).filter(function(t){return e.toastPosition[t]}).join(" ")},e.copyWorksheet=function(t){return new Promise(function(o,r){k.copy(e.worksheet.token,function(r){e.hasCopied=!0,r.data&&r.data.newWs&&(e.copiedWorksheetToken=r.data.newWs.token),!e.hasAddedRating&&t&&e.scrollToFeedback(),o()},function(e){console.log("fail copying worksheet: %s",e),r(e)})})},e.assignWorksheet=_asyncToGenerator(regeneratorRuntime.mark(function t(){var o,r,n,s,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasCopied){t.next=3;break}return t.next=3,e.copyWorksheet(!1);case 3:return t.next=5,Promise.all([g.profileAsync(),w.loadClassListAsync(),u.getByToken({token:e.copiedWorksheetToken}).$promise]);case 5:o=t.sent,r=_slicedToArray(o,3),n=r[0],s=r[1],a=r[2],f.open(e.copiedWorksheetToken,a,s.data.classes,e.usettings,n.type);case 11:case"end":return t.stop()}},t)})),e.useWorksheet=function(){var t;e.canUserCopyWs()?(s.eventTrack("preview-copy",{category:"preview",label:"Copy preview worksheet"}),e.isLoggedIn&&e.worksheet.token?e.copyWorksheet(!0):c.location.href="/login?redir="+encodeURIComponent(r.path())):e.isWorksheetOnSale()?p.openPremiumWorksheetCheckout(e.worksheetId):(t="This worksheet contains question types available only to <b>Wizer Boost</b> users.<br/>Upgrade to unlock extra question types.",s.eventTrack("payment-sale-popup-copyws",{category:"payment",label:"Sale Popup - Copy Premium Worksheet"}),l.show({template:'<upgrade-account-dialog upgrade-msg="'+t+'"></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0}))},e.openCopiedWorksheet=function(){s.eventTrack("preview-open-copy",{category:"preview",label:"Open copied worksheet"}),a(function(){c.location.href="/editor/"+e.copiedWorksheetToken},300)},e.createNewWorksheet=function(){s.eventTrack("create-worksheet",{category:"preview",label:"create worksheet"}),c.location.href="/editor"},e.showGallery=function(){c.location.href="/"},e.copy=function(e){s.eventTrack("gallery-copy",{category:"preview",label:"Copy worksheet from gallery"}),a(function(){c.location.href="/editor/copy/"+e.token},300)},e.init=function(){$.ajaxSetup({cache:!0}),$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({appId:"458848907630765",version:"v2.4"})})},e.$on("worksheet-ready",function(){e.$watch("waypoints.featured.down",function(t,o){e.isFeaturedViewed||!0!==t||(console.log("Featured recommendations in view new:%s, old:%s",t,o),e.isFeaturedViewed=!0,s.eventTrack("preview-featured-in-view",{category:"preview",label:"Featured recommendations are visible"}))})}),e.init()}],link:function(e,t,o){}}}).controller("WorksheetPreviewCtrl",["$scope","$window","$element","$q","$attrs","$location","$sce","WidgetsService","Covers","Papers","paperTheme","Colors","colorTheme","Bubbles","Learn","Users","WsRanking","StudentSolutions","WS_STATE_CONST","$timeout","$analytics","$mdToast","$assessmentSvc","fflip","IOSocket","$mdMedia","UserSvc","Editor","WeserveImages",function(e,t,o,r,n,s,a,i,l,c,u,d,h,k,p,f,g,w,y,b,m,v,T,S,W,I,P,A,O){m.eventTrack(e.viewType+"-start",{category:e.viewType,label:"Start preview"}),e.wstoken=n.wstoken,e.selectedPublicationToken=n.wstoken,e.hasAddedRating="true"===n.hasaddedfeedback,e.hasCopied="true"===n.hascopied,e.isLoggedIn="true"===n.isloggedin,e.copiedWorksheetToken=n.copiedworksheettoken?n.copiedworksheettoken:"",e.covers={},e.papers=c.nameMap(),e.colors={},e.bubbles=k.nameMap(),e.feedback={rating:{}},e.canSubmitResults=void 0===n.submitresults||"true"===n.submitresults,e.viewType=e.canSubmitResults?"learn":"preview",e.isFinished=!1,e.WS_STATE_CONST=y,e.ws_state=y.SOLVE,e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.getResizedThumbnail=function(e){return O.resizedImage(e,300)},e.showInfo=function(e){return!_.isEmpty(e)},e.thumbnailAlt=function(){if(!e.worksheet)return"";var t="Interactive worksheet "+e.worksheet.name;_.isEmpty(e.worksheet.grades)||(t+=" Grades: ",t+=e.worksheet.grades.map(function(t){return e.getOptionLabelById(e.multiSelectOptions.grades,t)}).join(", "));_.isEmpty(e.worksheet.subjects)||(t+=" Teaching Resource subjects: ",t+=e.worksheet.subjects.map(function(t){return e.getOptionLabelById(e.multiSelectOptions.subjects,t)}).join(", "));return t+=" Teacher: "+e.getAuthorName(e.worksheet),e.worksheet.widgets&&e.worksheet.widgets>0&&(t+=" Questions: "+e.worksheet.widgets.length),t},e.$on("formdirty",function(){e.wsform&&(e.wsform.$setDirty(),b(function(){e.$apply()},100))}),e.$on("audio-added",function(t){e.$emit("formdirty")}),e.$on("added:ranking",function(t,o,r){r&&(e.hasAddedRating=!0),o.ownRanking=!0,o.parentId?e.ranking[o.parentId]&&(e.ranking[o.parentId].replies||(e.ranking[o.parentId].replies=[]),e.ranking[o.parentId].replies.push(o)):e.ranking[o.id]=o}),e.renderHtml=function(e){return a.trustAsHtml(e)},e.getToolbarWorksheetName=function(){if(e.worksheet)return e.worksheet.name?e.worksheet.name.length<25?'"'+e.worksheet.name+'"':'"'+e.worksheet.name.substr(0,20)+' ..."':'"Untitled worksheet"'},e.isMobileWidth=function(){return I("(min-width: 768px)")},e.getAuthorName=function(e){return e.user.firstname&&e.user.lastname?e.user.firstname+" "+e.user.lastname:e.user.firstname?e.user.firstname:"Anonymous"},e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(t){return e.errorToastPosition[t]}).join(" ")},e.shuffleWorksheet=function(){var t,o,r,n=[],s=-1;angular.forEach(e.worksheet.widgets,function(a,i){if(angular.isArray(a)||"question"==a.type&&i!=e.worksheet.widgets.length-1)-1==s&&(s=i),n.push(angular.copy(a));else{if(n.length){for(i==e.worksheet.widgets.length-1&&n.push(angular.copy(a)),t=n.length;0!==t;)r=Math.floor(Math.random()*n.length),o=n[t-=1],n[t]=n[r],n[r]=o;for(var l=0;l<n.length;l++)e.worksheet.widgets[s]=angular.copy(n[l]),s++}s=-1,n=[]}})},e.load=function(t){var o=t[0].worksheet;if(e.worksheetId=o.id,e.saleInfo=t[0].sale,void 0===o||0===o.length)e.worksheetId=void 0;else{e.ws_solutions.worksheetId||(e.ws_solutions.worksheetId=o.id),e.worksheet=o,e.expandedMobileMenu=!0,e.worksheet&&e.worksheet.shuffle&&e.shuffleWorksheet(),e.worksheet.tags?_.isNumber(e.worksheet.tags)?e.worksheet.tags=[e.worksheet.tags]:_.isArray(e.worksheet.tags)&&(e.worksheet.tags=$.unique(e.worksheet.tags)):e.worksheet.tags=[],e.viewTags=[];var r=function(t){t.rtdata=angular.copy(t.data),t.initialScore=void 0,t.seqid in e.ws_solutions.solutions||(e.ws_solutions.solutions[t.seqid]={})};i.iterate(e.worksheet.widgets,r),_.forEach(e.worksheet.subwidgets,r),"preview"===e.viewType&&(e.loadRanking(),f.profile(function(t){e.userProfile=t.data.profile,$(".author-bio").length&&$(".author-bio").readmore({collapsedHeight:50,blockCSS:"font-size: 15px;",moreLink:'<a href="#">Read more</a>'})},function(t){e.userProfile=void 0})),e.applyBodyStyle(),b(function(){e.ws_solutions.startTime=new Date,$.waypoints("refresh"),e.$broadcast("worksheet-ready")},1e3)}if(e.worksheet&&"disabled"===e.worksheet.status?e.disabledMessage=!0:delete e.disabledMessage,!e.worksheet.style.color||!e.worksheet.style.color.name||!e.colors[e.worksheet.style.color.name]){var n=e.colors["Wizer-yellow"];e.worksheet.style.color={name:n.name,className:n.className,preview:n.preview}}h.applyColors(e.colors)},e.scrollToFeedback=function(){var t=$('[data-block-name="preview-container"]'),o=$('[data-block-name="ranking"]').offset().top;e.lastScrollPosition||(e.lastScrollPosition=0),o>50?(t.animate({scrollTop:e.lastScrollPosition+o},10),e.lastScrollPosition+=o,e.scrollTime=b(e.scrollToFeedback,100)):(t.scrollTop(e.lastScrollPosition+o-110),delete e.lastScrollPosition,b.cancel(e.scrollTime),delete e.scrollTime)},e.loadRanking=function(){e.isLoadingRanking=!0,e.worksheet.token&&g.getRanking(e.worksheet.token,function(t){e.isLoadingRanking=!1,e.ranking=t.data.ranking},function(){e.isLoadingRanking=!1})},e.hasRanking=function(){return e.ranking?Object.keys(e.ranking).length:0},e.editRating=function(e){e.isEdit=!0},e.failLoad=function(t){console.log("fail load json-"+t),e.worksheetId=void 0,e.failedLoadingSolution=!0},e.applyBodyStyle=function(){if(e.worksheet)if(e.worksheet.style.background){if(e.worksheet.style.background.name&&e.covers[e.worksheet.style.background.name])e.worksheet.style.background=e.covers[e.worksheet.style.background.name];else if(e.worksheet.style.background.path&&e.covers.Marshmallow){var t=e.worksheet.style.background.path;e.worksheet.style.background=e.covers.Marshmallow,e.worksheet.style.images||(e.worksheet.style.images={0:{path:t}})}else e.worksheet.style.background.images||(e.worksheet.style.background.images={0:{}}),e.worksheet.style.background.images[0].path=e.worksheet.style.background.path;e.worksheet.style.background.paper||(e.worksheet.style.background.paper="default-paper"),e.worksheet.style.background.configurable&&e.worksheet.style.images&&angular.forEach(e.worksheet.style.images,function(t,o){e.worksheet.style.background.images[o]||(e.worksheet.style.background.images[o]={}),angular.extend(e.worksheet.style.background.images[o],t)}),e.setWorksheetBubble(),e.setWorksheetPaper()}else e.worksheet.style.background=e.covers.b2s_3},e.setWorksheetBubble=function(){e.worksheet.style.background.bubble&&e.worksheet.style.background.bubble.bubbles&&e.worksheet.style.background.bubble.bubbles.length||(e.worksheet.style.background.bubble={vertical_position:"center",bubbles:[{name:"default-bubble",background_none:!0}]}),angular.forEach(e.worksheet.style.background.bubble.bubbles,function(t,o){e.bubbles[t.name]&&angular.extend(t,e.bubbles[t.name])})},e.setWorksheetPaper=function(){e.worksheet.style.background.name&&e.worksheet.style.background.paper&&e.papers[e.worksheet.style.background.paper]?(u.applyPaperStyles(e.papers[e.worksheet.style.background.paper]),e.selectedPaper=e.papers[e.worksheet.style.background.paper]):u.removePaperStyles()},e.widgetFeedbackTitleText=function(){return""},e.getSaveFeedback=function(){return a.trustAsHtml(e.assessment.feedback)},e.getOptionLabelById=function(e,t){for(var o=0;o<e.length;o++){var r=e[o];if(r.id===t)return r.label}},e.canUserCopyWs=function(){return e.usettings&&0!==e.usettings.userId&&e.isWorksheetOnSale()?e.wasWorksheetPurchased():!function(){if(e.worksheet){var t=i.filterPremiumWidgets(e.worksheet.widgets);return t&&t.length>0}return!1}()||function(){if(!e.usettings||!e.usettings.PERSONALIZATION)return!1;return e.usettings&&e.usettings.PERSONALIZATION}()},e.getCopyActionText=function(){return e.isWorksheetOnSale()&&!e.wasWorksheetPurchased()?"Buy":"Copy"},e.isWorksheetOnSale=function(){return e.saleInfo&&e.saleInfo.isOnSale},e.wasWorksheetPurchased=function(){return e.saleInfo&&e.saleInfo.wasPurchased},function(){var t=[];if(void 0!==e.wstoken){e.ws_solutions={worksheetId:e.worksheetId,solutions:{},publicationToken:e.wstoken,timespend:0,status:"draft"};var o=r.defer();p.previewWorksheet({token:e.wstoken},function(e){o.resolve(e)},function(t){o.reject(t),e.failLoad()}),t.push(o.promise);r.defer()}var n=r.defer();d.list(function(t){t.data.colors.forEach(function(t){e.colors[t.name]=t}),n.resolve()},function(e){n.reject()}),t.push(n.promise);var s=r.defer();l.list().success(function(t){t.covers.forEach(function(t){t.images[0]&&t.images[0].path&&(t.path=t.images[0].path),e.covers[t.name]=t}),s.resolve()},function(e){s.reject()}),t.push(s.promise);var a=r.defer();A.getMultiSelectOptions(function(t){e.multiSelectOptions=t,a.resolve()},function(){e.multiSelectOptions={},a.reject()}),t.push(a.promise),r.all(t).then(function(t){e.load(t)},function(e){console.log("promise fail:"+e)},function(e){console.log("promise update:"+e)}),P.settings().then(function(t){e.usettings=t})}()}]);

},{}],"/home/node/app/assets/js/unsorted/profile-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("ProfileCTRL",["$scope","$rootScope","$attrs","$timeout","$http","Users","usSpinnerService","$window","dataList","$mdDialog",function(e,r,o,s,a,i,t,n,l,u){e.alerts=[],e.editUserProfile={},e.isUploading=!1,e.titles=["Ms.","Mrs.","Mr.","Dr.","Prof."],e.countries=l.getData().countries,e.states=l.getData().states,e.genders=[{name:"male",value:"Male"},{name:"female",value:"Female"}],e.viewTags=[],e.viewGrades=[],e.enableAutoGrow=function(){var e=$('[field-name="profile-bio-box"]').prop("scrollHeight")-12;e>86&&e<=250&&$('[field-name="profile-bio-box"]').height(e)},e.saveProfile=function(){var o=e.editUserProfile;i.save(o,function(o){e.form.$setPristine(),e.alerts=[],e.userProfile=o.data.profile;var a=e.alerts.push({type:"success",msg:"Your profile is updated"});e.editUserProfile=angular.copy(e.userProfile),e.userProfile.firstname?r.userName=e.userProfile.firstname+" "+e.userProfile.lastname:r.userName=e.userProfile.username,e.userProfile.imagePath&&(r.userImage=e.userProfile.imagePath,$('[data-block-name="header_login_user_image"]').html("<div class=\"header-avatar\" ng-style=\"{'background-image':'url("+e.userProfile.imagePath+')\'}" style="background-image: url('+e.userProfile.imagePath+');"></div>')),s(function(){e.closeAlert(a-1)},1e4)},function(r){console.log("Fail to update your profile- %s",r),e.alerts.push({type:"danger",msg:"Failed to update profile",err:r})})},e.load=function(){i.profile(function(r){e.userProfile=r.data.profile,e.userProfile.subjects&&e.userProfile.subjects.length||(e.userProfile.subjects=[]),e.userProfile.subjects=$.unique(e.userProfile.subjects),e.userProfile.grades&&e.userProfile.grades.length||(e.userProfile.grades=[]),e.userProfile.grades=$.unique(e.userProfile.grades),e.editUserProfile=angular.copy(e.userProfile),console.log("profile",e.editUserProfile.email,e.userProfile)},function(r){e.alerts.push({type:"danger",msg:"Failed to load profile",err:r}),e.userProfile=void 0})},e.$on("tags-modified",function(r){var o=[];e.editUserProfile.subjects&&(e.editUserProfile.subjects.forEach(function(r){0===e.viewTags.filter(function(e){return e.id&&e.id==r}).length&&o.push(r)}),e.editUserProfile.subjects=e.editUserProfile.subjects.filter(function(e){return-1==o.indexOf(e)}),e.viewTags.forEach(function(r){r.id?-1==e.editUserProfile.subjects.indexOf(r.id)&&e.editUserProfile.subjects.push(r):e.editUserProfile.subjects.push(r)}))}),e.$on("grades-modified",function(r){var o=[];e.editUserProfile.grades&&(e.editUserProfile.grades.forEach(function(r){0===e.viewGrades.filter(function(e){return e.name&&e.name.replace(/ /g,"").toLowerCase()==r.name.replace(/ /g,"").toLowerCase()}).length&&o.push(r)}),e.editUserProfile.grades=e.editUserProfile.grades.filter(function(e){return-1==o.indexOf(e)}),e.viewGrades.forEach(function(r){var o;r.name&&(e.editUserProfile.grades.forEach(function(e,s){e.name.replace(/ /g,"").toLowerCase()==r.name.replace(/ /g,"").toLowerCase()&&(o=!0)}),o||e.editUserProfile.grades.push(r))}))}),n.onbeforeunload=function(r){if(e.form.$dirty){var o="You have unsaved changes. Are you sure you want to leave?";return void 0===r&&(r=window.event),r&&(r.returnValue=o),o}},e.$on("$locationChangeStart",function(r){e.form&&e.form.$dirty&&(confirm("You have unsaved changes. Are you sure you want to leave?")||r.preventDefault())}),e.closeAlert=function(r){e.alerts.splice(r,1)},e.onUploadStart=function(){e.isUploading=!0,t.spin("upload-spinner")},e.onFilesSubmitted=function(r,o){console.log("files submitted"),e.s3upload=new S3Upload({files_element:o.target,s3_sign_put_url:"/file/signS3",onProgress:function(e,r){console.log("Upload progress: "+e+"% "+r)},onFinishS3Put:function(o){console.log("Upload completed. Uploaded to: "+o),e.setUploadedImage(r[0],o)},onError:function(r){console.log("Upload error: "+r),e.onUploadError(null,r)}}),t.spin("upload-spinner"),e.isUploading=!0},e.onUploadError=function(r,o){e.isUploading=!1,t.stop("upload-spinner");var s={type:"danger",msg:"Failed to upload image, please try again.",err:error};e.alerts.push(s)},e.setUploadedImage=function(r,o){a.get(o,{cache:!0}).success(function(){e.isUploading=!1,t.stop("upload-spinner"),e.editUserProfile.imagePath=o,e.form.$setDirty(),a.post("/file/s3uploadDone",{filename:r.name,imagePath:o,type:"avatar"}).success(function(){console.log("Success register image upload")}).error(function(e){console.log("Fail register image upload. %s",e)})}).error(function(r){e.isUploading=!1,t.stop("upload-spinner");var s={type:"danger",msg:"Failed to upload image, please try again.",err:error};e.alerts.push(s),console.log("Fail to get image (%s) from s3. %s",o,r)})},e.onUploadSucess=function(r,o){var s=JSON.parse(o);if(s&&s.files.length>0){var a=s.files[0].extra.Location;e.setUploadedImage(s.files[0],a)}},e.cancelEdit=function(){e.editUserProfile=angular.copy(e.userProfile),e.form.$setPristine()},e.showChangePassword=function(e){var r=angular.element(document.body);u.show({parent:r,targetEvent:e,templateUrl:"/templates/changepassword.html",controller:"ChangePassCTRL"})},e.init=function(){e.load()},e.init()}]).controller("ChangePassCTRL",["$scope","Users","$timeout","$mdDialog",function(e,r,o,s){e.alerts=[],e.changePassword={},e.closeAlert=function(r){e.alerts.splice(r,1)},e.confirmPass=function(r){return r==e.changePassword.password},e.savePassword=function(){e.alerts=[];var s=e.changePassword;r.passwd(s,function(){e.passwordform.$setPristine(),e.changePassword={};var r=e.alerts.push({type:"success",msg:"Password changed"});o(function(){e.closeAlert(r-1),e.closePopup()},5e3)},function(r){console.log("Fail changing your password",r);var o={type:"danger",msg:r.data.msg||"Something went wrong, please try again.",err:r};e.alerts.push(o)})},e.closePopup=function(){s.hide()}}]);

},{}],"/home/node/app/assets/js/unsorted/public-profile.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("PublicProfileCTRL",["$scope","$rootScope","$attrs","$http","usSpinnerService","Users","Gallery","Covers","$q","$analytics","$timeout","$window","$mdToast","$mdDialog",function(e,o,t,i,r,n,s,a,l,c,u,p,h,k){e.covers={},e.saveProfile=function(){var t=e.userProfile;n.save(t,function(t){e.userProfile=t.data.profile,e.userProfile.coverPath&&($('[data-block-name="cover_block"]').css({"background-image":"url("+e.userProfile.coverPath+")"}),$('[data-block-name="cover_block"]').addClass("cover-image-avaiable")),e.userProfile.imagePath&&($('[data-block-name="profile_image_block"]').css("background-image","url("+e.userProfile.imagePath+")"),$('[data-block-name="no_image_block"]').remove(),o.userImage=e.userProfile.imagePath,$('[data-block-name="header_login_user_image"]').html("<div class=\"header-avatar\" ng-style=\"{'background-image':'url("+e.userProfile.imagePath+')\'}" style="background-image: url('+e.userProfile.imagePath+');"></div>'))},function(o){console.log("Fail to update your profile- %s",o),e.showErrorMessage()})},e.onUploadStart=function(o){e.userProfile.id==e.publicProfileId&&(o?e.isCoverUploading=!0:(e.isImageUploading=!0,r.spin("upload-image-spinner")))},e.onFilesSubmitted=function(o,t,i){e.userProfile.id==e.publicProfileId&&(console.log("files submitted"),e.s3upload=new S3Upload({files_element:t.target,s3_sign_put_url:"/file/signS3",onProgress:function(e,o){console.log("Upload progress: "+e+"% "+o)},onFinishS3Put:function(t){console.log("Upload completed. Uploaded to: "+t),e.setUploadedImage(o[0],t,i)},onError:function(o){console.log("Upload error: "+o),e.onUploadError(null,o,i)}}),i?e.isCoverUploading=!0:(e.isImageUploading=!0,r.spin("upload-image-spinner")))},e.onUploadError=function(o,t,i){e.showErrorMessage(),e.userProfile.id==e.publicProfileId&&(i?e.isCoverUploading=!1:(e.isImageUploading=!1,r.stop("upload-image-spinner")))},e.setUploadedImage=function(o,t,n){e.userProfile.id==e.publicProfileId&&i.get(t,{cache:!0}).success(function(){n?(e.isCoverUploading=!1,e.userProfile.coverPath=t):(e.isImageUploading=!1,r.stop("upload-image-spinner"),e.userProfile.imagePath=t),e.saveProfile(),i.post("/file/s3uploadDone",{filename:o.name,imagePath:t,type:n?"profile-cover":"avatar"}).success(function(){}).error(function(e){console.log("Fail register image upload. %s",e)})}).error(function(o){n?e.isCoverUploading=!1:(e.isImageUploading=!1,r.stop("upload-image-spinner")),console.log("Fail to get image (%s) from s3. %s",t,o)})},e.onUploadSucess=function(o,t,i){if(e.userProfile.id==e.publicProfileId){var r=JSON.parse(t);if(r&&r.files.length>0){var n=r.files[0].extra.Location;e.setUploadedImage(r.files[0],n,i)}}},e.showScoreInfo=function(e){var o=angular.element(document.body);k.show({parent:o,targetEvent:e,templateUrl:"/templates/wizer-score-info.html",controller:["$scope","$mdDialog",function(e,o){e.closeDialog=function(){o.hide()}}]})},e.loadPublicWorksheets=function(){e.isLoadingPublicWorksheet=!0,n.loadPublicWorksheets(e.publicProfileId,function(o){angular.forEach(o.publications,function(o,t){o.worksheet.likes&&o.worksheet.likes.length&&e.userProfile&&angular.forEach(o.worksheet.likes,function(t,i){t.userId!==e.userProfile.id||o.isLiked||(o.isLiked=!0)})}),e.publicWorksheets=o.publications,e.isLoadingPublicWorksheet=!1},function(o){e.isLoadingPublicWorksheet=!1})},e.loadLikedWorksheets=function(){e.isLoadingLikeWorksheet=!0,n.loadLikedWorksheets(e.publicProfileId,function(o){angular.forEach(o.publications,function(o,t){o.worksheet.likes&&o.worksheet.likes.length&&e.userProfile&&angular.forEach(o.worksheet.likes,function(t,i){t.userId!==e.userProfile.id||o.isLiked||(o.isLiked=!0)})}),e.likedWorksheets=o.publications,e.isLoadingLikeWorksheet=!1},function(o){e.isLoadingLikeWorksheet=!1})},e.getAuthorName=function(e){return e.user.firstname&&e.user.lastname?e.user.firstname+" "+e.user.lastname:e.user.firstname?e.user.firstname:"Anonymous"},e.copy=function(e){c.eventTrack("public-profile-copy",{category:"public_profile",label:"Copy worksheet from public profile"}),u(function(){p.location.href="/editor/copy/"+e.token},300)},e.toggleLikeWorksheet=function(o){c.eventTrack("public-profile-like",{category:"public_profile",label:"Like worksheet in public profile"}),e.userProfile&&e.userProfile.id>=0?s.likeWorksheet({wsid:o.worksheet.id},function(t){o.isLiked=t.isLiked,o.worksheet.likes=t.likes,e.publicProfileId==e.userProfile.id&&(o.isLiked?(e.likedWorksheets||(e.likedWorksheets=[]),e.likedWorksheets.push(o)):angular.forEach(e.likedWorksheets,function(t,i){t.id==o.id&&e.likedWorksheets.splice(i,1)}))},function(o){e.showErrorMessage()}):h.show({template:'<md-toast class="copy-to-clipboard-popup do-login-toaster"><span flex>Log in to Like</span></md-toast>',hideDelay:3e3,position:e.getToastPosition()})},e.showBottomSheet=function(e){e.showBottomSheet=!0},e.hideBottomSheet=function(e){delete e.showBottomSheet},e.toastPosition={bottom:!0,top:!1,left:!1,right:!0},e.getToastPosition=function(){return Object.keys(e.toastPosition).filter(function(o){return e.toastPosition[o]}).join(" ")},e.getLink=function(e){return p.location.origin+"/preview/"+e.token},e.getImageLink=function(e){var o="";return e&&e.worksheet&&e.worksheet.thumbnail?o=e.worksheet.thumbnail:e&&e.worksheet&&e.worksheet.style&&e.worksheet.style.background&&(o=e.worksheet.style.background.configurable&&e.worksheet.style.images&&e.worksheet.style.images[0]&&e.worksheet.style.images[0].path?e.worksheet.style.images[0].path:e.worksheet.style.background.images&&e.worksheet.style.background.images[0]&&e.worksheet.style.background.images[0].path?e.worksheet.style.background.images[0].path:e.worksheet.style.background.thumbnail?e.worksheet.style.background.thumbnail:e.worksheet.style.background.path),o.indexOf("http")>=0?o:"https://app.wizer.me"+o},e.copyLink=function(o,t){var i=e.getLink(o);e.openCopyLinkDialog(t,i),c.eventTrack("public-profile-copy-link",{category:"public_profile",label:"Copy worksheet link in public profile"})},e.openCopyLinkDialog=function(e,o){var t=angular.element(document.body);k.show({parent:t,targetEvent:e,templateUrl:"/templates/copy-preview-link-dialog.html",locals:{link:o},controller:["$scope","$mdDialog","link",function(e,o,t){e.link=t,e.closeDialog=function(){o.hide()}}]}),u(function(){$('[aria-label="link"]').select()},700)},e.shareEdmodo=function(o){var t=e.getLink(o),i="https://www.edmodo.com/home?share=1&source=95015059&url="+encodeURIComponent(t)+"&desc=",r="Use @wizerme interactive worksheet "+encodeURIComponent(o.worksheet.name?'"'+o.worksheet.name+'" ':"")+"with your students or create your own!";c.eventTrack("public-profile-share-edmodo",{category:"public_profile",label:"Share worksheet in edmodo"}),window.open(i+r,"_blank")},e.shareTwitter=function(o){var t=e.getLink(o),i="text=Use @wizerme interactive worksheet "+encodeURIComponent(o.worksheet.name?'"'+o.worksheet.name+'" ':"")+"with your students or create your own!&url="+encodeURIComponent(t)+"&hashtags=Worksheet,EdTech";c.eventTrack("public-profile-share-twitter",{category:"public_profile",label:"Share worksheet in twitter"}),window.open("https://twitter.com/intent/tweet?"+i,"_blank")},e.sharePinterest=function(o){var t,i=e.getLink(o);t="url="+encodeURIComponent(i),e.getImageLink(o)&&(t=t+"&media="+encodeURIComponent(e.getImageLink(o))),t=t+"&description=Use this Wizer.Me​ interactive worksheet "+encodeURIComponent(o.worksheet.name?'"'+o.worksheet.name+'" ':"")+"with your students or create your own.",c.eventTrack("public-profile-share-pinterest",{category:"public_profile",label:"Share worksheet in pinterest"}),window.open("http://pinterest.com/pin/create/button/?"+t,"_blank")},e.pinPublication=function(o){var t,i=e.getLink(o);t="url="+encodeURIComponent(i),e.getImageLink(o)&&(console.log("in get image link"),t=t+"&media="+encodeURIComponent(e.getImageLink(o))),t=t+"&description=Wizer.Me​ interactive worksheet "+encodeURIComponent(o.worksheet.name?'"'+o.worksheet.name+'" ':"")+".",c.eventTrack("public-profile-pin-worksheet",{category:"public_profile",label:"Pin worksheet from pub;ic profile"}),window.open("http://pinterest.com/pin/create/button/?"+t,"_blank")},e.shareFacebook=function(o){var t={method:"feed",link:e.getLink(o),caption:"Wizer.me",description:"Use this @Wizer.Me​ interactive worksheet "+(o.worksheet.name?'"'+o.worksheet.name+'" ':"")+"with your students or create your own! #EdTech"};e.getImageLink(o)&&(t.picture=e.getImageLink(o)),c.eventTrack("public-profile-share-facebook",{category:"public_profile",label:"Share worksheet in facebook"}),FB.ui(t)},e.getThumbnailImage=function(o){var t;if(o){if(o.worksheet&&o.worksheet.thumbnail&&o.worksheet.thumbnail.length>0)return o.worksheet.thumbnail.replace("s3.amazonaws.com/","");o.worksheet&&o.worksheet.style&&o.worksheet.style.background&&((t=e.covers[o.worksheet.style.background.name])||(t=o.worksheet.style.background));return(t&&t.configurable&&o.worksheet.style.images&&o.worksheet.style.images[0]&&o.worksheet.style.images[0].path?o.worksheet.style.images[0].path:t&&t.thumbnail?t.thumbnail:t&&t.path?t.path:t).replace("s3.amazonaws.com/","")}},e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(o){return e.errorToastPosition[o]}).join(" ")},e.normalizeScore=function(e){if(e>1e3){var o=e/1e3;return Math.round(10*o)/10+"K"}return e},e.showErrorMessage=function(){h.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Failed to save. Try again in a few minutes or check your ',"internet connection.</span>","</div>","</md-toast >"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()})},e.$on("delete:worksheet",function(o,t){angular.forEach(e.publicWorksheets,function(o,i){o&&o.worksheet&&o.worksheet.token==t&&e.publicWorksheets.splice(i,1)}),angular.forEach(e.likedWorksheets,function(o,i){o&&o.worksheet&&o.worksheet.token==t&&e.likedWorksheets.splice(i,1)})}),e.init=function(){e.publicProfileId=t.profileUid;var o=[],i=l.defer();n.profile(function(o){e.userProfile=o.data.profile,i.resolve()},function(o){e.userProfile=void 0,i.resolve()}),o.push(i.promise);var r=l.defer();a.list().success(function(o){o.covers.forEach(function(o){o.images[0]&&o.images[0].path&&(o.path=o.images[0].path),e.covers[o.name]=o}),r.resolve()},function(e){r.reject()}),o.push(r.promise),$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({appId:"458848907630765",version:"v2.4"})}),l.all(o).then(function(o){e.loadPublicWorksheets(),e.loadLikedWorksheets()},function(e){console.log("promise fail:"+e)})},e.init()}]);

},{}],"/home/node/app/assets/js/unsorted/single-container-layout.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("singleContainerLeyout",[function(){return{restrict:"E",scope:!1,templateUrl:"/templates/cover-layout/single-container.html",controller:["$scope","$element","$attrs",function(e,t,n){}],link:function(e,t,n){}}}]);

},{}],"/home/node/app/assets/js/unsorted/socket.service.js":[function(require,module,exports){
"use strict";angular.module("wizer").factory("IOSocket",[function(){var n;return{isConnected:function(){return t().isConnected()},on:function(){return t().on.apply(t(),arguments)},get:function(){return t().get.apply(t(),arguments)},post:function(){return t().post.apply(t(),arguments)},put:function(){return t().put.apply(t(),arguments)}};function t(){return n||(n=io.sails.connect())}}]);

},{}],"/home/node/app/assets/js/unsorted/static-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("SchoolCTRL",["$scope",function(e){e.$parent.$broadcast("change-menu","schools")}]).controller("TeamCTRL",["$scope",function(e){e.$parent.$broadcast("change-menu","team")}]).controller("HigherEdCTRL",["$scope",function(e){}]).controller("AboutUsCTRL",["$scope","$interval","$timeout","$window","$analytics",function(e,t,a,n,i){e.$parent.$broadcast("change-menu","about-us"),e.activeStep=0,e.myInterval=5e3,e.steps=[{header:"Create worksheets",content:"Add video, audio, images and a variety of question types, all wrapped in a beautiful, engaging & easy to use app.",image:"/images/how-it-works/create.png",mobileImage:"/images/how-it-works/create.png"},{header:"Assign to students",content:"1-click to share with students via Google Classroom or any learning management system.",image:"/images/how-it-works/create.png",mobileImage:"/images/how-it-works/create.png"},{header:"Assess answers",content:"Save time with automatic checking & grading, or review one by one to give more personal feedback.",image:"/images/how-it-works/create.png",mobileImage:"/images/how-it-works/create.png"},{header:"Share & discover",content:"Browse the Wizer collection of FREE digital learning resources created by our community of teachers.",image:"/images/how-it-works/create.png",mobileImage:"/images/how-it-works/create.png"}],t(function(){e.activeStep==e.steps.length-1?e.activeStep=0:e.activeStep++},e.myInterval),e.changeStep=function(t){e.activeStep=t},e.openBlog=function(){i.eventTrack("how-it-works-blog-click",{category:"how_it_works",label:"How it works blog clicked"})},e.openTutorialVideo=function(){i.eventTrack("how-it-works-tutorial-click",{category:"how_it_works",label:"How it works tutorial clicked"})},e.teacherInterval=8e3,e.noWrapSlides=!1,e.activeTeacherStep=0,e.slides=[{image:"/images/teachers/Clare-Kinnane.png",text:"Really love using Wizer. It is a time saver, the students love it, great interactivity and engages the students even those who are reluctant about homework. Looking forward to all the new features which are in the pipeline.",name:"Clare Kinnane",link:"https://app.wizer.me/preview/ouPIX",designation:"Coordinator of Innovative and Online Learning",location:"Social Science Department Meriden School Sydney, Australia"},{image:"/images/teachers/Mindy-Southern.png",text:"This is NOT your typical worksheet! Wizer.me has taken creating online content for students to a new level! Teachers love how easy it is to get started and quickly prepare a new lesson or convert an old lesson using Wizer.me. The tools available in Wizer make it easier than ever to differentiate and adapt a lesson for all types of learners. Students love the many different content styles available in one worksheet. The integration with Google makes Wizer.me a no brainer for any GAFE school.",name:"Mindy Southern",link:"https://app.wizer.me/preview/blP2O",designation:"District Educational Technology Facilitator",location:"Farmington R7 School District, MO, USA"},{image:"/images/teachers/Lisaoct2014.jpg",text:"I love Wizer! I think of it as a worksheet on steroids. Themes make it fun for the students and I can create my own content; adding text, videos, images, and a variety of question formats, including open response! LOVE that I can not only share my content with other teachers, but that I can use theirs. It self-corrects, always a plus for any teacher! And I have the ability to easily share it with my students via Google Classroom, a code, or a link! Wizer is constantly evolving. It's worksheet on steroids!.",name:"Mrs. Lisa Mims",link:"https://app.wizer.me/preview/6J20A",designation:"4th grade teacher",location:"Pleasantville Elementary, New Castle, DE, USA"},{image:"/images/teachers/Adam-Watson.jpg",text:"Wizer only takes 5 minutes to register and get started. That is a significant factor as teachers don’t have time to waste learning new technologies.",name:"Adam Watson",link:"https://app.wizer.me/preview/p0UDt",designation:"Digital Learning Coordinator",blogName:"Edtech Elixirs",blogLink:"http://watsonedtech.blogspot.co.il",location:"Shelby County Board of Education Shelby, KY, USA"}]}]).controller("TeacherCTRL",["$scope","$analytics","$timeout","$window",function(e,t,a,n){e.$parent.$broadcast("change-menu","teacher"),e.myInterval=8e3,e.noWrapSlides=!1,e.active=0,e.slides=[{image:"/images/teachers/Clare-Kinnane.png",text:"Really love using Wizer. It is a time saver, the students love it, great interactivity and engages the students even those who are reluctant about homework. Looking forward to all the new features which are in the pipeline.",name:"Clare Kinnane",link:"https://app.wizer.me/preview/ouPIX",designation:"Coordinator of Innovative and Online Learning",location:"Social Science Department Meriden School Sydney, Australia"},{image:"/images/teachers/Mindy-Southern.png",text:"This is NOT your typical worksheet! Wizer.me has taken creating online content for students to a new level! Teachers love how easy it is to get started and quickly prepare a new lesson or convert an old lesson using Wizer.me. The tools available in Wizer make it easier than ever to differentiate and adapt a lesson for all types of learners. Students love the many different content styles available in one worksheet. The integration with Google makes Wizer.me a no brainer for any GAFE school.",name:"Mindy Southern",link:"https://app.wizer.me/preview/blP2O",designation:"District Educational Technology Facilitator",location:"Farmington R7 School District, MO, USA"},{image:"/images/teachers/Lisaoct2014.jpg",text:"I love Wizer! I think of it as a worksheet on steroids. Themes make it fun for the students and I can create my own content; adding text, videos, images, and a variety of question formats, including open response! LOVE that I can not only share my content with other teachers, but that I can use theirs. It self-corrects, always a plus for any teacher! And I have the ability to easily share it with my students via Google Classroom, a code, or a link! Wizer is constantly evolving. It's worksheet on steroids!.",name:"Mrs. Lisa Mims",link:"https://app.wizer.me/preview/6J20A",designation:"4th grade teacher",location:"Pleasantville Elementary, New Castle, DE, USA"},{image:"/images/teachers/Adam-Watson.jpg",text:"Wizer only takes 5 minutes to register and get started. That is a significant factor as teachers don’t have time to waste learning new technologies.",name:"Adam Watson",link:"https://app.wizer.me/preview/p0UDt",designation:"Digital Learning Coordinator",blogName:"Edtech Elixirs",blogLink:"http://watsonedtech.blogspot.co.il",location:"Shelby County Board of Education Shelby, KY, USA"}],e.createNew=function(){t.eventTrack("teacher-new-ws-click",{category:"teacher-page",label:"Create new worksheet"}),a(function(){n.location.href="/signup?redir="+n.encodeURIComponent("/editor")},300)},e.shareTwitter=function(){t.eventTrack("teacher-share-twitter",{category:"teacher-page",label:"Share in twitter"}),window.open("https://twitter.com/intent/tweet?text=I just discovered @wizerme, a wonderful FREE tool to easily make interactive worksheets. Can’t wait to get started! &hashtags=Worksheet,EdTech","_blank")}}]);

},{}],"/home/node/app/assets/js/unsorted/student-dashboard.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("StudentDashboardCTRL",["$scope","$location","StudentDashboard","Covers","$window","$position",function(o,t,e,n,s,r){o.worksheets=[],o.covers={},o.position=r,o.init=function(){e.worksheets(function(t){t.data.worksheets&&(o.worksheets=t.data.worksheets)}),n.list(function(t){t.forEach(function(t,e){o.covers[t.name]=t})})},o.toCoverURL=function(t){return o.covers[t]?o.covers[t].path:o.covers.None?o.covers.None.path:""},o.init()}]);

},{}],"/home/node/app/assets/js/unsorted/tags-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("TagsCtrl",["$scope","$attrs","$location","$tags","$timeout","$window",function(e,t,n,a,o,s){e.buildTagsTree=function(t){e.tagsTree=[],a.list().success(function(t){e.tagValues=t.tags,e.tags={},t.tags.forEach(function(t){e.tags[t.id]?angular.extend(e.tags[t.id],t):(e.tags[t.id]=t,e.tags[t.id].nodes={}),t.parent&&t.parent>0&&(e.tags[t.parent]||(e.tags[t.parent]={nodes:{}}),e.tags[t.parent].nodes[t.id]=t)}),e.tagsTree=function e(t,n){var a=[];return t?(Object.keys(t).forEach(function(o){var s=t[o];(angular.isNumber(s.parent)?s.parent:0)==n&&a.push(s),s.nodes=e(s.nodes,s.id)}),a):a}(e.tags,0)}).error(function(e){console.log("fail to get tags list")})},e.deleted=[],e.updated={},e.added=[],e.treeOptions={removed:function(t){e.deleted.push(t)},dropped:function(t){var n=e.tags[t.source.nodeScope.$modelValue.id],o=n.parent?n.parent:0;t.dest.nodesScope.$parent.$modelValue?n.parent=t.dest.nodesScope.$parent.$modelValue.id:n.parent=0,o!=n.parent&&a.save(n).success(function(e){}).error(function(e){console.log("fail save tag",n.id),n.parent=o})}},e.toggleHidden=function(e,t){t.enabled=!t.enabled,a.save(t).success(function(e){}).error(function(e){console.log("fail save tag",t.id),t.enabled=!t.enabled})},e.toggle=function(e){e.toggle()},e.edit=function(t,n,a){a.isEdit=!0,t.stopPropagation(),a.preChangeName=a.name,n.activeEvent=s.onclick=function(t){e.doneEdit(t,n,a)}},e.doneEdit=function(e,t,n){e.stopPropagation(),n.isEdit=!1,delete n.isEdit,delete t.activeEvent,a.save(n).success(function(e){console.log("tag saved"),delete n.preChangeName}).error(function(e){n.name=n.preChangeName,delete n.preChangeName})},e.doNothing=function(e){e.stopPropagation()},e.addTag=function(){var t={parent:0,name:"New Tag."+(e.tagsTree.length+1),enabled:!1,nodes:[]};a.save(t).success(function(n){t.id=n.data.tag.id,e.tagsTree.push(t),e.tags[t.id]=t,e.tagValues.push(t)}).error(function(e){console.log("fail save tag",tag.id)})},e.newSubItem=function(t){var n=t.$modelValue,o={parent:n.id,name:n.name+"."+(n.nodes.length+1),enabled:!1,nodes:[]};a.save(o).success(function(t){o.id=t.data.tag.id,n.nodes.push(o),e.tags[o.id]=o,e.tagValues.push(o)}).error(function(e){console.log("fail save tag",tag.id)})},e.init=function(){e.buildTagsTree()},e.init()}]);

},{}],"/home/node/app/assets/js/unsorted/themes-controller.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("ThemesCtrl",["$scope","$attrs","$location","Themes","Colors","Covers","Papers","uploadfileservice","$timeout","Fonts",function(e,o,n,s,t,c,r,i,l,a){e.themes=[],e.covers={},e.colors={},e.loadThemes=function(){s.list().success(function(o){e.themes=o.themes,e.initDone=!0})},e.loadCovers=function(){c.list().success(function(o){o.covers.forEach(function(o,n){0!=o.enabled&&(e.covers[o.name]=o)})})},e.loadColors=function(){t.list(function(o){o.data.colors.forEach(function(o){e.colors[o.name]=o})})},e.toggleThemeColor=function(e,o){var n=!1;e.colors&&e.colors.length&&e.colors.forEach(function(s,t){n||s.name!==o.name||(e.colors.splice(t,1),n=!0)}),n||(e.colors&&e.colors.length||(e.colors=[]),e.colors.push({name:o.name}))},e.isThemeColor=function(e,o){return!(!e.colors||!e.colors.length)&&e.colors.filter(function(e){return e.name==o.name}).length>0},e.imageUploadDone=function(e,o,n){e.imagePath=o},e.archiveTheme=function(o,n){o.status="archive",s.save(o).then(function(o){e.themes.splice(n,1)},function(e){console.log("Failed archive theme",e)})},e.saveTheme=function(e){s.save(e).success(function(o){e.id=o.theme.id}).error(function(e){console.log("Failed updated theme",e)})},e.toggleThemeCover=function(e,o){var n=!1;e.covers.forEach(function(s,t){n||s.name!==o.name||(e.covers.splice(t,1),n=!0)}),n||e.covers.push({name:o.name})},e.isThemeCover=function(e,o){return e.covers.filter(function(e){return e.name==o.name}).length>0},e.addTheme=function(){e.initDone&&e.themes.push({name:"Theme"+(e.themes.length+1),covers:[]})},e.init=function(){e.loadThemes(),e.loadCovers(),e.loadColors()},e.init()}]);

},{}],"/home/node/app/assets/js/unsorted/uploadfileservice.js":[function(require,module,exports){
"use strict";angular.module("wizer").service("uploadfileservice",["$analytics","$http","$q","usSpinnerService",function(e,n,o,i){var s=this;s.isUploadingIndex={},this.index=function(e,n){return n||(e.$index?e.$index:0)},this.onUploadStart=function(e,n){var o=s.index(e,n);s.isUploadingIndex[o]=!0,i.spin("upload-spinner-"+o)},this.isUploading=function(e,n){var o=s.index(e,n);return 1==s.isUploadingIndex[o]},this.onUploadError=function(n,r,t,l){e.eventTrack("upload-static-audio-error",{category:"audio-record",label:"Error: "+r});var a=s.index(t,l),d=o.defer();return s.isUploadingIndex[a]=!1,i.stop("upload-spinner-"+a),d.resolve(),d.promise},this.onFilesSubmitted=function(e,n,r,t){var l=s.index(r,t),a=o.defer();i.spin("upload-spinner-"+l),s.isUploadingIndex[l]=!0;new S3Upload({files_element:n.target,s3_sign_put_url:"/file/signS3",onProgress:function(e,n){console.log("Upload progress: "+e+"% "+n)},onFinishS3Put:function(n){console.log("Upload completed. Uploaded to: "+n),a.resolve({url:n,file:e[0]})},onError:function(e){console.log("Upload error: "+e),a.reject(e)}});return a.promise},this.setUploadedImage=function(e,r,t,l){var a=s.index(t,l),d=o.defer();return n.get(r,{cache:!0}).success(function(){s.isUploadingIndex[a]=!1,i.stop("upload-spinner-"+a),n.post("/file/s3uploadDone",{filename:e.name,imagePath:r,type:"image"}).success(function(){d.resolve(r)}).error(function(e){s.isUploadingIndex[a]=!1,i.stop("upload-spinner-"+a),console.log("Fail register image upload. %s",e),d.reject()})}).error(function(e){s.isUploadingIndex[a]=!1,i.stop("upload-spinner-"+a),console.log("Fail to get image (%s) from s3. %s",r,e),d.reject()}),d.promise},this.onUploadSucess=function(e,n,i,r){s.index(i,identifier);var t=o.defer();if(msgJson=JSON.parse(n),msgJson&&msgJson.files.length>0){var l=msgJson.files[0].extra.Location;t.resolve(msgJson.files[0],l)}}}]);

},{}],"/home/node/app/assets/js/unsorted/urlencode.filter.js":[function(require,module,exports){
"use strict";function URLEncodeFilter(){return function(e){return window.encodeURIComponent(e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.URLEncodeFilter=URLEncodeFilter;

},{}],"/home/node/app/assets/js/unsorted/wizer-angulartics-intercom.js":[function(require,module,exports){
"use strict";angular.module("wizer.angulartics.intercom",["angulartics"]).config(["$analyticsProvider",function(t){var e=[{category:"editor$",action:["theme-de-select$","assign-open$","save-edit$","start-edit$"]},{category:"public-upon-assign$",action:["upgrade-upon-assign$","publish-upon-assign$"]},{category:"premium$",action:["premium-started$"]}];t.registerSetUsername(function(t){window.Intercom&&window.Intercom("update",{user_id:t})}),t.registerEventTrack(function(t,r){e.filter(function(e){var n=!0,a=!0;return r.category&&e.category&&(a=0==r.category.search(e.category)),a&&e.action&&t&&(n=Array.isArray(e.action)?e.action.filter(function(e){return 0==t.search(e)}).length>0:0==t.search(e.action)),n&&a}).length>0&&window.Intercom&&window.Intercom("trackEvent",t,r)})}]);

},{}],"/home/node/app/assets/js/unsorted/wizer-login.js":[function(require,module,exports){
"use strict";function asyncGeneratorStep(e,r,t,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var i=e.apply(r,t);function a(e){asyncGeneratorStep(i,n,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,n,o,a,s,"throw",e)}a(void 0)})}}var wizerAuthApp=angular.module("wizer-login",["ng"]);wizerAuthApp.factory("Auth",["$resource",function(e){return e("/auth",{id:"@id"},{loginJson:{method:"POST",url:"/loginJson",isArray:!1},signup:{method:"POST",url:"/signup",isArray:!1},emailExists:{method:"POST",url:"/auth/exists",isArray:!1},forgot:{method:"POST",url:"/forgot",isArray:!1},reset:{method:"POST",url:"/reset",isArray:!1}})}]).service("RedirectionService",["$location","$window",function(e,r){return new function(){var t=this,n=e.search();this.redir=n.redir,this.act=n.act,this.redirParameter=function(){return t.redir?"?redir="+r.encodeURIComponent(t.redir):""},this.redirectToNextPage=function(){if(t.redir){var e=t.redir;t.act&&(e+="?act=".concat(t.act)),r.location.href=e}else r.location.href="/dashboard"}}}]).controller("AuthCTRL",["$scope","$attrs","$location","$window","Users","RedirectionService",function(e,r,t,n,o){}]).controller("SignupCTRL",["$location","$scope","Users","$analytics","Auth","RedirectionService","asyncTimeout","$routeParams","$window",function(e,r,t,n,o,i,a,s,c){var u=new URLSearchParams((s.redir||"").replace("/activate","")).get("source"),l=u&&"canva"===u;r.showCheckbox=l,r.formData={newsletter:!l},r.userType=void 0,r.ANONYMOUS_USER="anonymous",r.init=function(){r.redirParameter=i.redirParameter();var t=e.search().type;t&&(r.userType=t,r.maybeChangeTypeForAnonymousUser(t))},r.isAnonymous=function(){return!r.userType||r.userType===r.ANONYMOUS_USER},r.maybeChangeTypeForAnonymousUser=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.profileAsync();case 2:if(o=e.sent,!n||!o||o.type!==r.ANONYMOUS_USER){e.next=12;break}return i={teacher:t.changeToTeacher,student:t.changeToStudent,parent:t.changeToParent},s=i[n],o.type=n,e.next=9,s();case 9:return e.next=11,a(3e3);case 11:r.redirectOrAskForMoreInfo(o);case 12:case"end":return e.stop()}},e)}));return function(r){return e.apply(this,arguments)}}(),r.onUserTypeSelected=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("parent"!==t){e.next=2;break}return e.abrupt("return",c.location.href="https://info.wizer.me/parents/");case 2:return r.userType=t,l||(r.formData.newsletter="teacher"===t),e.next=6,r.maybeChangeTypeForAnonymousUser(t);case 6:case"end":return e.stop()}},e)}));return function(r){return e.apply(this,arguments)}}(),r.redirectOrAskForMoreInfo=function(e){if("teacher"===e.type||"parent"===e.type){var t=r.redirParameter?"".concat(r.redirParameter):"";c.location.href="/userinfo"+t}else i.redirectToNextPage()},r.reselectUserType=function(){r.userType=void 0},r.signup=function(){n.eventTrack("user-signup",{category:"user",label:"User Signup click"});var e={password:r.formData.password,email:r.formData.email,type:r.userType,newsletter:!!r.formData.newsletter,remember:0};o.signup(e,function(e){console.log("Signup successful. Data: ",e),r.redirectOrAskForMoreInfo(e.user)},function(e){console.log("signup failed- %j",e),e.data.invalidAttributes&&e.data.invalidAttributes.username&&(r.messages="User name already exist")})},r.init()}]).controller("UserLoginCTRL",["$scope","$location","Auth","$window","$analytics","$timeout","fflip","Users","RedirectionService",function(e,r,t,n,o,i,a,s,c){e.isLogin=!0,e.loginMessages={},e.redirParameter=c.redirParameter(),e.skipLoginPageIfLoggedIn=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.profileAsync();case 2:r=e.sent,s.isLoggedIn(r)&&c.redirectToNextPage();case 4:case"end":return e.stop()}},e)})),e.toggleLogin=function(){e.isLogin=!e.isLogin},e.resetState=function(e){e.$error.googleAccount&&e.$setValidity("googleAccount",!0)},e.login=function(){i(function(){if(e.loginForm.$invalid)e.loginForm.password.$setDirty();else{o.eventTrack("user-login",{category:"user",label:"User login click"});var r=e.rememberMe;"none"===$("[name=remember]").css("display")&&(r=!0);var n={username:e.email,password:e.password,remember:r};t.loginJson(n,function(e){c.redirectToNextPage()},function(r){401===r.status&&(r.data&&r.data.tryGoogle?e.loginForm.email.$error.googleAccount=!0:e.loginMessages.fail=!0)})}},100)},e.skipLoginPageIfLoggedIn()}]).controller("ForgotPassCTRL",["$scope","$location","Auth","$analytics","$timeout","$window","RedirectionService",function(e,r,t,n,o,i,a){e.redirParameter=a.redirParameter(),e.forgot=function(){n.eventTrack("user-forgot-pass",{category:"user",label:"User forgot pass click"}),t.forgot({email:e.email},function(r){e.forgotSendSuccess=!0},function(r){console.log("forgot failed- %j",r),e.forgotSendSuccess=!1})}}]).controller("ResetPassCTRL",["$scope","$location","Auth","$analytics","$timeout","$routeParams","$window","RedirectionService",function(e,r,t,n,o,i,a,s){e.token=i.token,e.resetMessages={},e.redirParameter=s.redirParameter(),e.redirectToUrl=function(e){a.location.href=e},e.reset=function(){n.eventTrack("user-reset-pass",{category:"user",label:"User reset pass click"}),t.reset({token:e.token,password:e.password},function(r){e.redirectToUrl("/login")},function(r){console.log("reset failed- %j",r),498==r.status?e.resetMessages.expired=!0:e.resetMessages.fail=!0})}}]).directive("checkAutofill",["$timeout",function(e){return{restrict:"A",link:function(r,t){t.hover(function(){t.find("input").checkAndTriggerAutoFillEvent()}),e(function(){t&&t.checkAndTriggerAutoFillEvent&&t.find("input").checkAndTriggerAutoFillEvent()},2e3)}}}]).directive("uniqueEmail",["isEmailAvailable",function(e){return{restrict:"A",require:"ngModel",link:function(r,t,n,o){o.$asyncValidators.unique=e}}}]).factory("isEmailAvailable",["$q","Auth",function(e,r){return function(t){var n=e.defer();return r.emailExists({email:t},function(e){e.exists?n.reject():n.resolve()},function(){n.reject()}),n.promise}}]);

},{}],"/home/node/app/assets/js/unsorted/worksheet-search.js":[function(require,module,exports){
"use strict";angular.module("wizer").controller("WorksheetSearchController",["$scope","$attrs","$mdConstant","$analytics",function(e){var t=this;e.searchText="",this.onTextChange=_.debounce(function(){e.onSearchTextChange({text:e.searchText})},500),e.searchTextChange=function(){t.onTextChange()},e.clearFilter=function(){e.searchText="",e.searchTextChange()}}]).directive("worksheetSearch",[function(){return{restrict:"E",scope:{onSearchTextChange:"&"},replace:!1,templateUrl:"/templates/worksheet-search.html",controller:"WorksheetSearchController"}}]);

},{}],"/home/node/app/assets/js/unsorted/worksheet-tags.js":[function(require,module,exports){
"use strict";angular.module("wizer").factory("$tags",["$http",function(e){return{list:function(){return e.get("/tag/list")},save:function(t){return e.put("/tag/save",t)},get:function(t){return e.post("/get/tags",t)}}}]).controller("UserGradesController",["$scope","$element","$attrs","dataList","$mdConstant",function(e,t,a,n,r){e.gradeValues=n.getData().grades,e.keys=[r.KEY_CODE.ENTER],e.grades={},e.gradeValues.forEach(function(t){e.grades[t.name.replace(/ /g,"").toLowerCase()]=t}),e.createGradeList=function(){e.data&&e.data.forEach(function(t){var a;e.viewGrades.forEach(function(e,n){e.name.replace(/ /g,"").toLowerCase()==t.name.replace(/ /g,"").toLowerCase()&&(a=!0)}),a||e.viewGrades.push(t)})},e.$watch("data",function(t,a){t&&e.createGradeList()}),e.querySearch=function(t){var a=t?t.toLowerCase():t;return e.gradeValues.filter(function(e){return-1!==e.name.toLowerCase().indexOf(a)})},e.transformChip=function(t){if(angular.isObject(t))return t;var a=t?t.toLowerCase():t,n=e.gradeValues.filter(function(e){return e.name.toLowerCase()==a});return n.length>0?n[0]:{name:t}},e.onRemove=function(t){e.$emit("grades-modified")},e.onAdd=function(t){e.$emit("grades-modified")}}]).controller("UserTagsController",["$scope","$element","$attrs","$tags","$mdConstant",function(e,t,a,n,r){e.tagValues=[],e.keys=[r.KEY_CODE.ENTER,r.KEY_CODE.COMMA],e.$watch("data",function(t,a){t&&e.loadTagList()}),e.loadTagList=function(){n.list().then(function(t){e.tagValues=t.data.tags,e.tags={},t.data.tags.forEach(function(t){e.tags[t.id]=t}),e.createTagList()})},e.createTagList=function(){e.data&&e.data.forEach(function(t){var a,n=e.tags[t.id];e.viewTags.forEach(function(e,r){t.name&&(n?e.id==t.id&&(a=!0):e.name.toLowerCase()==t.name.toLowerCase()&&(a=!0))}),a||e.viewTags.push(t)})},e.querySearch=function(t){var a=t?t.toLowerCase():t;return e.tagValues.filter(function(e){return e.enabled&&-1!==e.name.toLowerCase().indexOf(a)&&e.popularity>3})},e.transformChip=function(t){if(angular.isObject(t))return t;var a=t?t.toLowerCase():t,n=e.tagValues.filter(function(e){return e.name.toLowerCase()==a});return n.length>0?n[0]:{name:t}},e.onRemove=function(t){e.$emit("tags-modified")},e.onAdd=function(){e.$emit("tags-modified")}}]).controller("WorksheetTagsController",["$scope","$element","$attrs","$tags","$mdConstant",function(e,t,a,n,r){e.tagValues=[],e.keys=[r.KEY_CODE.ENTER,r.KEY_CODE.COMMA],n.list().then(function(t){e.tagValues=t.data.tags,e.tags={},t.data.tags.forEach(function(t){e.tags[t.id]=t}),e.createTagList()}),e.$on("worksheet-discarded",function(t){e.viewTags=[],e.createTagList()}),e.createTagList=function(){e.wsTags&&e.wsTags.forEach(function(t){var a=e.tags[t];a?e.viewTags.push(a):e.viewTags.push(t)})},e.querySearch=function(t){var a=t?t.toLowerCase():t;return e.tagValues.filter(function(e){return e.enabled&&-1!==e.name.toLowerCase().indexOf(a)&&e.popularity>3})},e.transformChip=function(t){if(angular.isObject(t))return t;var a=t?t.toLowerCase():t,n=e.tagValues.filter(function(e){return e.name.toLowerCase()==a});return n.length>0?n[0]:{name:t}},e.onRemove=function(t){e.$emit("tags-modified")},e.onAdd=function(){e.$emit("tags-modified")}}]).directive("userTags",[function(){return{restrict:"E",replace:!1,templateUrl:"/templates/user-tags.html",controller:"UserTagsController",scope:{viewTags:"=",data:"=",placeholder:"@"},link:function(e,t,a){e.readonly=a.readonly}}}]).directive("userGrades",[function(){return{restrict:"E",replace:!1,templateUrl:"/templates/user-grades.html",controller:"UserGradesController",scope:{viewGrades:"=",data:"=",placeholder:"@"},link:function(e,t,a){e.readonly=a.readonly}}}]).directive("worksheetTags",[function(){return{restrict:"E",replace:!1,templateUrl:"/templates/worksheet-tags.html",controller:"WorksheetTagsController",link:function(e,t,a){e.readonly=a.readonly},scope:{viewTags:"=",wsTags:"="}}}]).directive("previewTags",["$tags",function(e){return{restrict:"E",scope:{tags:"="},templateUrl:"/templates/preview-tags.html",controller:["$scope","$tags",function(e,t){t.get({ids:e.tags}).then(function(t){e.viewTags=t.data.tags})}],link:function(e,t,a){e.readonly=!0}}}]).directive("autocompleteBlur",["$timeout",function(e){return{link:function(t,a,n){e(function(){a.find("#autocomplete-input-id").bind("blur",function(){angular.element(this).val("")})},0)}}}]);

},{}],"/home/node/app/assets/js/unsorted/ws-color-selector.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wsColorSelector",["$window","$analytics","colorTheme","Colors",function(e,o,r,l){return{restrict:"E",require:"ngModel",scope:{theme:"=wzTheme",coverColor:"=wzCoverColor",coverName:"=wzCoverName",defaultColor:"@wzDefaultColor",userType:"=userType"},templateUrl:"/templates/ws-color-selector.html",link:function(e,c,a,s){e.wscolor=s,e.colors={},e.init=function(){l.list(function(o){o.data.colors.forEach(function(o){e.colors[o.name]=o}),r.applyColors(e.colors),e.createPreviewColorSet(),e.watchColorChange(),e.watchCover(),e.watchCoverColor()})},e.createPreviewColorSet=function(){e.$watch("theme",function(o,r){o&&e.theme.colors&&e.theme.colors.length&&(e.themeColors=e.theme.colors.map(function(o){return e.colors[o.name]})),o&&e.theme.colors&&e.theme.colors.length||(e.themeColors=[],angular.forEach(e.colors,function(o,r){o.default&&e.themeColors.push(o)})),e.colorPackages=[],angular.forEach(e.themeColors,function(o,r){"superuser"!==e.userType&&o.disabled||e.colorPackages.push({name:o.name,className:o.className,preview:o.preview})}),e.createPreviewColors()})},e.createPreviewColors=function(){var o=e.createPreviewClasses();e.addPreviewStyles(o)},e.createPreviewClasses=function(){var o="";return angular.forEach(e.colorPackages,function(e,r){o+="."+e.className+".color-preview{background-color:"+e.preview+"}"}),e.removePreviewStyles(),o},e.removePreviewStyles=function(){$('style[name="preview_style"]').remove()},e.addPreviewStyles=function(e){$("<style name='preview_style'>"+e+"</style>").appendTo("head")},e.watchCover=function(){e.$watch("coverName",function(o,r){o&&o!=r&&r&&delete e.wscolor.$modelValue.colorOveridden},!0)},e.watchCoverColor=function(){e.$watch("coverColor",function(o,r){if(o&&o!=r&&!e.wscolor.$modelValue.colorOveridden){var l=e.colorPackages.filter(function(e){return e.name==o});l.length>0&&e.wscolor.$setViewValue(l[0])}},!0)},e.selectColor=function(r){var l={};o.eventTrack("color-select-edit",{category:"editor",label:"Select color click"}),r.name&&e.colors[r.name]?(o.eventTrack("color-select-"+r.className,{category:"editor",label:"Select color click"}),l=e.colors[r.name],e.selectedColor=l):e.selectedColor=e.colors[e.defaultColor],e.wscolor.$setViewValue(e.selectedColor),e.coverColor&&e.wscolor.$modelValue.name!=e.coverColor&&(e.wscolor.$modelValue.colorOveridden=!0),e.$emit("ng-change"),e.$emit("formdirty")},e.watchColorChange=function(){e.$watch("wscolor.$modelValue",function(o,r){o&&e.colors[o.name]||e.setDefaultColor()})},e.preview=function(o){e.wscolor=o},e.reset=function(){e.wscolor=e.selectedColor},e.setDefaultColor=function(){e.defaultColor||(e.defaultColor="Wizer-yellow");var o=e.colors[e.defaultColor];!o&&Object.keys(e.colors).length>0&&(o=e.colors[Object.keys(e.colors)[0]]),e.wscolor.$setViewValue(o)},e.init()}}}]).service("colorTheme",function(){this.applyColors=function(e){var o=this.createStyles(e);this.addColorsStyles(o)},this.createStyles=function(e){var o="";return angular.forEach(e,function(e,r){angular.forEach(e.colorset,function(r,l){var c=0==l.search(/level.*Color/);angular.forEach(r,function(r,a){switch(a){case"text":o+="."+e.className+":not(.assess-page) ."+l+(c?"-text":"")+",",o+="."+e.className+":not(.assess-page) ."+l+(c?"-text":"")+" .form-control{color:"+r+"}",o+="."+e.className+":not(.assess-page) ."+l+(c?"-text":"")+" .text-color-border{border-color:"+r+"}",o+="."+e.className+":not(.assess-page) ."+l+"-text-color-border{border-color:"+r+"}",o+="."+e.className+":not(.assess-page) ."+l+(c?"-text":"")+" .text-color-background{background-color:"+r+"}";break;case"background":o+="."+e.className+":not(.assess-page) ."+l+(c?"-background":"")+"{background-color:"+r+"}";break;case"background_gradient":o+="."+e.className+":not(.assess-page) ."+l+(c?"-background":"")+"{",o+=r,o+="}";break;case"border":o+="."+e.className+":not(.assess-page) ."+l+(c?"-border":"")+"{border-color:"+r+"}",o+="."+e.className+":not(.assess-page) ."+l+(c?"-border":"")+" .border-color-background{background-color:"+r+"}";break;default:o+="."+e.className+":not(.assess-page) ."+l+"{"+a+":"+r+"}"}})})}),o},this.addColorsStyles=function(e){$('style[name="custom_color_style"]').remove(),$("<style name='custom_color_style'>"+e+"</style>").appendTo("head")}});

},{}],"/home/node/app/assets/js/unsorted/ws-cover-select.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wsCoverSelect",["$window","$analytics",function(e,o){return{restrict:"E",require:"ngModel",transclude:!0,scope:{theme:"=wzTheme"},templateUrl:"/templates/ws-cover-select.html",controller:["$scope","$element","$attrs","$http","Covers","usSpinnerService",function(e,n,r,t,c,l){e.covers={},e.coverSelectorExpended=!1,c.list().success(function(o){o.covers.forEach(function(o,n){0!=o.enabled&&(o.path=o.images[0],e.covers[o.name]=o)}),e.$watch("theme",function(o,n){o?(e.themeCovers=e.theme.covers.map(function(o){return e.covers[o.name]}),e.themeCovers.sort(function(e,o){return o.weightOrder-e.weightOrder})):e.themeCovers=[]})}),e.toggleCoverSelector=function(){e.themeCovers&&e.themeCovers.length>4&&(e.coverSelectorExpended=!e.coverSelectorExpended,o.eventTrack("toggel-covers-"+(e.coverSelectorExpended?"open":"close"),{category:"editor",label:"Toggle open/close covers list"}))},e.changeCover=function(n){o.eventTrack("background-header-selected-edit",{category:"editor",label:"Background-header selected click"}),o.eventTrack("background-header-"+n.name,{category:"editor",label:"Background-header selected click"}),e.coverModel.$setViewValue(n),e.$emit("ng-change"),e.$emit("formdirty")},e.onFilesSubmitted=function(o,n){console.log("files submitted"),e.s3upload=new S3Upload({files_element:n.target,s3_sign_put_url:"/file/signS3",onProgress:function(e,o){console.log("Upload progress: "+e+"% "+o)},onFinishS3Put:function(n){console.log("Upload completed. Uploaded to: "+n),e.setUploadedImage(o[0],n)},onError:function(o){console.log("Upload error: "+o),e.onUploadError(null,o)}}),l.spin("upload-spinner-"+e.$index),e.isUploading=!0},e.setUploadedImage=function(o,n){t.get(n,{cache:!0}).success(function(){e.isUploading=!1,l.stop("upload-spinner"),e.changeCover({name:"custom",path:n}),t.post("/file/s3uploadDone",{filename:o.name,imagePath:n,type:"header"}).success(function(){console.log("Success register image upload")}).error(function(e){console.log("Fail register image upload. %s",e)})}).error(function(o){e.isUploading=!1,l.stop("upload-spinner"),console.log("Fail to get image (%s) from s3. %s",n,o)})},e.onUploadError=function(o,n){e.isUploading=!1,l.stop("upload-spinner")}}],link:function(e,o,n,r){e.coverModel=r}}}]);

},{}],"/home/node/app/assets/js/unsorted/ws-font-selector.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wsFontSelector",["$window","Fonts","$analytics",function(e,t,o){return{restrict:"E",require:"ngModel",scope:{coverFont:"=wzCoverFont",worksheetFont:"=wzWorksheetFont"},templateUrl:"/templates/ws-font-selector.html",link:function(e,n,l,a){e.fontModel=a,e.fontPackages=t.nameMap(),e.$watchGroup(["coverFont","worksheetFont"],function(t,o){if((t[0]||t[1])&&!_.isEqual(t,o)){var n=t[1]?t[1].name:t[1],l=e.fontPackages[t[0]],a=e.fontPackages[n]||l;a&&e.fontModel.$setViewValue(a)}}),e.$watch("fontModel.$modelValue",function(t,o){e.fontModel.$modelValue&&e.fontModel.$modelValue.name&&e.fontModel.$modelValue.name!==e.selectedFont&&(e.selectedFont=e.fontModel.$modelValue.name)},!0),e.selectedFontClass=function(){var t=e.fontPackages[e.selectedFont];return t?t.className:void 0},e.changeFont=function(){if(e.fontModel.$modelValue.name&&e.fontModel.$modelValue.name!==e.selectedFont){var t=e.fontPackages[e.selectedFont];o.eventTrack("font-select-edit",{category:"editor",label:"Font selected click"}),o.eventTrack("font-select-"+t.className,{category:"editor",label:"Font selected click"}),e.fontModel.$setViewValue(t),e.$emit("ng-change"),e.$emit("formdirty")}}}}}]);

},{}],"/home/node/app/assets/js/unsorted/ws-layout.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wsLayout",[function(){return{restrict:"E",transclude:!0,link:function(t,r,e){}}}]);

},{}],"/home/node/app/assets/js/unsorted/ws-theme-selector.js":[function(require,module,exports){
"use strict";angular.module("wizer").factory("Themes",["$http",function(e){return{list:function(){return e.post("/theme/list")},save:function(t){return e.put("/theme/save",t)}}}]).directive("wsThemeSelector",["$window","Themes","$analytics",function(e,t,n){return{restrict:"E",require:"^ngModel",scope:{modelTheme:"=ngModel",modelCover:"=wzCover",noBackground:"=noBackground"},templateUrl:"/templates/ws-theme-selector.html",link:function(e,o,r){e.isLoading=!0,e.themeReady=!1,t.list().error(function(t){console.log("error loading theme",t),e.isLoading=!1}).success(function(t){e.themes=t.themes,e.themeReady=!0,e.isLoading=!1,e.$watch("modelCover",function(t){if(t){if(t.theme){var n=e.themes.filter(function(e){return e.name==t.name});if(n.length>0)return void(e.modelTheme=n[0])}e.setFirstMatchedTheme(t)}})}),e.setFirstMatchedTheme=function(t){e.themes.forEach(function(n){n.covers.filter(function(e){return e.name==t.name}).length>0&&(e.modelTheme=n)})},e.changeTheme=function(t){n.eventTrack("theme-select-edit",{category:"editor",label:"Theme selected click"}),n.eventTrack("theme-select-"+t.name,{category:"editor",label:"Theme selected click"}),e.noBackground&&delete e.noBackground,e.$emit("theme-change"),e.modelTheme=t,e.$emit("ng-change")}}}}]);

},{}],"/home/node/app/assets/js/unsorted/youtube.filter.js":[function(require,module,exports){
"use strict";function ISO8601DurationFilter(t){return function(e){if(void 0!==e&&0!==e.length){var r=e.match(/P((([0-9]*\.?[0-9]*)Y)?(([0-9]*\.?[0-9]*)M)?(([0-9]*\.?[0-9]*)W)?(([0-9]*\.?[0-9]*)D)?)?(T(([0-9]*\.?[0-9]*)H)?(([0-9]*\.?[0-9]*)M)?(([0-9]*\.?[0-9]*)S)?)?/);return t.duration({years:parseFloat(r[3]),months:parseFloat(r[5]),weeks:parseFloat(r[7]),days:parseFloat(r[9]),hours:parseFloat(r[12]),minutes:parseFloat(r[14]),seconds:parseFloat(r[16])}).humanize()}}}function youtubeDurationConverter(){return function(t){var e=Math.floor(t/60),r=t%60;return 0!==e?String(e)+" minutes, "+r+" seconds":String(r)+" seconds"}}function youtubeTruncateFilter(){return function(t,e,r){if(t)return isNaN(e)&&(e=10),void 0===r&&(r="..."),t.length<=e||t.length-r.length<=e?t:String(t).substring(0,e-r.length)+r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ISO8601DurationFilter=ISO8601DurationFilter,exports.youtubeDurationConverter=youtubeDurationConverter,exports.youtubeTruncateFilter=youtubeTruncateFilter,ISO8601DurationFilter.$inject=["moment"];

},{}],"/home/node/app/assets/js/vendor.js":[function(require,module,exports){
(function (global){(function (){
"use strict";require("gumadapter"),require("bootstrap/dist/js/bootstrap.min"),require("jquery-ui-dist/jquery-ui.min"),require("gifplayer"),require("jquery-ui-touch-punch/jquery.ui.touch-punch.min"),require("jquery-waypoints/waypoints.min"),require("autofill-event"),require("he/he"),global.tinycolor=require("tinycolor2"),global._=require("lodash"),global.moment=require("moment"),require("soundmanager2/script/soundmanager2-jsmin");

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"autofill-event":false,"bootstrap/dist/js/bootstrap.min":false,"gifplayer":false,"gumadapter":false,"he/he":"/home/node/app/node_modules/he/he.js","jquery-ui-dist/jquery-ui.min":false,"jquery-ui-touch-punch/jquery.ui.touch-punch.min":false,"jquery-waypoints/waypoints.min":false,"lodash":false,"moment":false,"soundmanager2/script/soundmanager2-jsmin":false,"tinycolor2":false}],"/home/node/app/assets/js/worksheet/add-ranking/add-ranking.js":[function(require,module,exports){
"use strict";function addRankingComponent(){return{templateUrl:"/js/worksheet/add-ranking/add-ranking.html",controller:addRankingController,bindings:{rankingData:"=",worksheetToken:"=",parentId:"=",isDisconnected:"=",publicationToken:"=",editor:"="}}}function addRankingController(n,a,t,i){var r=this;r.froalaOptions={placeholderText:"Write a comment…",toolbarInline:!0,toolbarButtons:["bold","underline","italic","subscript","superscript","specialCharacters","emoticons"]},r.saveRanking=function(){if(!r.parentId){if(!(r.rankingData.rating.structure&&r.rankingData.rating.accuracy&&r.rankingData.rating.engagement))return r.ratingError="Please add all the ratings.",void i(function(){delete r.ratingError},5e3);delete r.ratingError}r.isAddingRanking=!0;var a=null;r.parentId&&(a=r.parentId);t.saveRanking({worksheetToken:r.worksheetToken,comment:r.rankingData.comment,parentId:a,rating:r.rankingData.rating,publicationToken:r.publicationToken,id:r.rankingData.id},function(t){delete r.rankingData.currentData,r.isAddingRanking=!1,r.rankingData.id||(a?n.$emit("added:ranking",t.data.ranking):n.$emit("added:ranking",t.data.ranking,!0)),r.rankingData.id?r.rankingData.isEdit=!1:r.rankingData={rating:{}}},function(){r.isAddingRanking=!1})},r.cancelEditRanking=function(){r.rankingData.comment=r.rankingData.currentData.comment,r.rankingData.rating=angular.copy(r.rankingData.currentData.rating),delete r.rankingData.currentData,r.rankingData.isEdit=!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addRankingComponent=addRankingComponent,addRankingController.$inject=["$scope","$element","WsRanking","$timeout"];

},{}],"/home/node/app/assets/js/worksheet/assessment/worksheet-widget-assess-comment.js":[function(require,module,exports){
"use strict";function worksheetWidgetAssessmentComment(){return{restrict:"E",scope:{commentShown:"=",assessment:"="},templateUrl:"/js/worksheet/assessment/worksheet-widget-assess-comment.html",link:function(e,t,s){},controller:["$scope","$element","$attrs","$timeout",function(e,t,s,n){e.froalaOptions={placeholderText:"Type here...",toolbarInline:!0,heightMin:150,toolbarButtons:["bold","underline","italic","insertLink","emoticons","specialCharacters"]},e.$watch("assessment.comment",function(t,s){e.assessment&&e.assessment.comment&&(e.commentShown=!0)}),e.$watch("commentShown",function(t,s){e.commentShown?(delete e.commentsBlockRemoved,n(function(){e.commentBlockExpanded=!0},0)):(delete e.commentBlockExpanded,n(function(){e.commentsBlockRemoved=!0},300))})}]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.worksheetWidgetAssessmentComment=worksheetWidgetAssessmentComment;

},{}],"/home/node/app/assets/js/worksheet/assessment/worksheet-widget-assess-header.js":[function(require,module,exports){
"use strict";function widgetAssessmentHeader(){return{restrict:"E",templateUrl:"/js/worksheet/assessment/worksheet-widget-assess-header.html",controller:widgetAssessHeaderController}}function widgetAssessHeaderController(e,s){e.displayScore="NA",e.$watch("assessment",function(t,r){var i=e.widget,o=e.solution,n=t;if(o){var a=s.calcAssessment(i,o,n);e.displayScore=_getDisplayScore(i,o,a)}},!0)}function _getDisplayScore(e,s,t){var r="NA";if(!t||_.isUndefined(t.score))return r;var i=0;t&&void 0!==e.point&&!isNaN(e.point)?(t.score.value*=e.point,i=t.score.value):t&&_.isNumber(e.point)&&e.point&&t.partialscore?i=parseFloat(t.partialscore):t&&_.isNumber(t.score)&&(i=t.score);var o=e.point;return _.isUndefined(o)&&(o="question"===e.type?1:0),i&&0!=i&&0!=i.value?_.isNumber(i)&&(i=parseFloat(i).toFixed(2),r=Math.min(i,e.point)+"/"+o):r="0/"+o,r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.widgetAssessmentHeader=widgetAssessmentHeader,widgetAssessHeaderController.$inject=["$scope","$widgetScoring"];

},{}],"/home/node/app/assets/js/worksheet/assessment/worksheet-widget-assess.js":[function(require,module,exports){
"use strict";function worksheetWidgetAssess(){return{restrict:"E",transclude:!0,templateUrl:"/js/worksheet/assessment/worksheet-widget-assess.html",scope:{widget:"=",widgetIndex:"<?",assessment:"=",solution:"=?",wsState:"=",widgetTitle:"@",publicationToken:"@"},controller:worksheetWidgetAssessController}}function worksheetWidgetAssessController(e,s,t,o,a,i,d,r,n){e.displayScore="NA",n.settings().then(function(s){e.usettings=s}),e.$on("audio-added",function(){e.$emit("formdirty")}),e.$watch("assessment.score",function(s){if(!angular.isUndefined(s)&&e.assessment.score*e.widget.point!=e.assessment.partialscore){var t=e.assessment.score;t&&void 0!==t.value&&(t=t.value),e.assessment.partialscore=t*e.widget.point}}),e.maxVal=function(s){return e.widget&&!angular.isUndefined(e.widget.point)?Math.min(s,e.widget.point):s},e.openRecordFeedbackAudioDialog=function(s){if(!e.usettings||!e.usettings.PERSONALIZATION){return r.show({template:'<upgrade-account-dialog upgrade-msg="Join the Wizer Boost plan to power up your feedback with <b>voice recordings</b>!"></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0})}var t=angular.element(document.body);e.assessment||(e.assessment={}),i.eventTrack("open-feedback-audio-record-dialog",{category:"feedback-audio-record",label:"Open feedback audio record dialog"}),r.show({parent:t,targetEvent:s,templateUrl:"/templates/audio-record-dialog.html",locals:{audioData:e.assessment,audioName:"audio"},controller:["$scope","audioData","audioName",function(e,s,t){e.audioData=s,e.audioName=t}]})},e.openRecordFeedbackVideoDialog=function(t){if(!e.usettings||!e.usettings.PERSONALIZATION){return r.show({template:'<upgrade-account-dialog upgrade-msg="Upgrade now to unlock <b>Video Feedback</b><br/> as well as <b>Video Answers</b> for your learners!"></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0})}i.eventTrack("open-feedback-video-record-dialog",{category:"general-video-record",label:"Open feedback video record dialog"}),r.show({targetEvent:t,template:'<md-dialog aria-label="Dialog for Video recording">     <video-recorder-dialog uploaded-url="assessment.feedbackVideo.video.url" is-dialog="true"></video-recorder-dialog></md-dialog>'}).then(function(t){t&&t.length&&(e.assessment||(e.assessment={}),e.assessment.feedbackVideo||(e.assessment.feedbackVideo={}),e.assessment.feedbackVideo.video||(e.assessment.feedbackVideo.video={}),e.assessment.feedbackVideo.video.url=t,s.$broadcast("video-added"),e.$emit("formdirty"))})},e.toggleLikeResponse=function(){e.$emit("formdirty"),e.assessment.like=!e.assessment.like,e.assessment.like?i.eventTrack("assess-like-click",{category:"assess",label:"Click on liked answer"}):i.eventTrack("assess-unlike-click",{category:"assess",label:"Click on remove liked answer"})},e.toggleComments=function(){e.widget.commentShown=!e.widget.commentShown},e.partialPointEntered=function(s){s.keyCode>=48&&s.keyCode<=57||8===s.keyCode||190===s.keyCode||s.keyCode>=37&&s.keyCode<=40||s.keyCode>=96&&s.keyCode<=105?(s.keyCode>=48&&s.keyCode<=57||s.keyCode>=96&&s.keyCode<=105)&&(e.widget.oldPartialPoint=e.assessment.partialscore):s.preventDefault()},e.partialPointChanged=function(){isNaN(parseFloat(e.assessment.partialscore))?(delete e.assessment.partialscore,delete e.assessment.score):(parseFloat(e.assessment.partialscore)>e.widget.point&&(isNaN(e.widget.oldPartialPoint)?(delete e.assessment.partialscore,delete e.assessment.score):e.assessment.partialscore=e.widget.oldPartialPoint),e.$emit("formdirty"),isNaN(e.assessment.partialscore)||(e.assessment.score=e.assessment.partialscore/e.widget.point)),delete e.widget.oldPartialPoint},e.setAssessmentScore=function(s){e.$emit("formdirty"),e.assessment.score=s},e.getAssessmentScore=function(){return e.assessment.score}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.worksheetWidgetAssess=worksheetWidgetAssess,worksheetWidgetAssessController.$inject=["$scope","$rootScope","$element","$attrs","$transclude","$analytics","$timeout","$mdDialog","UserSvc"];

},{}],"/home/node/app/assets/js/worksheet/index.js":[function(require,module,exports){
"use strict";require("./worksheet.module"),require("./solve"),require("./widgets");

},{"./solve":"/home/node/app/assets/js/worksheet/solve/index.js","./widgets":"/home/node/app/assets/js/worksheet/widgets/index.js","./worksheet.module":"/home/node/app/assets/js/worksheet/worksheet.module.js"}],"/home/node/app/assets/js/worksheet/menu/worksheet-menu.component.js":[function(require,module,exports){
"use strict";function worksheetMenuComponent(){return{templateUrl:"/js/worksheet/menu/worksheet-menu.component.html",controller:WorksheetMenuController,bindings:{worksheet:"<"}}}function WorksheetMenuController(e,t,o,n,a,u,s,i,c){var l=this;l.openMenu=function(e){l.worksheet.publications||(l.worksheet.showPublicationLoading=!0,c.getData(l.worksheet.id).then(function(e){l.worksheet.publications=e,delete l.worksheet.showPublicationLoading},function(e){l.worksheet.publications=[],delete l.worksheet.showPublicationLoading}));t(function(){e.open()},10),l.activeEvent=o.onclick=function(t){e.close(),delete l.activeEvent},t(function(){$($("md-menu-content md-menu-item")[0]).find("button").blur()},600)},l.showStudentResponse=function(){o.location.href="/assess/worksheet/"+l.worksheet.token,a.eventTrack("public-profile-view-response",{category:"public_profile",label:"View student response"})},l.openPublicationSubmenu=function(e,t){t.stopPropagation(),e.open()},l.changePublicationStatus=function(e){l.changeStatusTimeout=void 0,a.eventTrack("ws-pub-status-"+e.status,{category:"public-profile",label:"Change publication status to "+e.status}),s.editPublication(e,function(e){console.log("Publication status change success",e.status)},function(t){console.log("fail to change publication status- ",t),e.status="active"==e.status?"disabled":"active"})},l.onChangePublicationStatusMenuClick=function(e){if(l.changeStatusTimeout)return;l.changeStatusTimeout=t(function(){e.status="active"==e.status?"disabled":"active",l.changePublicationStatus(e)},0)},l.onChangePublicationStatus=function(e){if(l.changeStatusTimeout)return;l.changeStatusTimeout=t(function(){l.changePublicationStatus(e)},0)},l.openAutoFeddbackMenu=function(e,t){t.stopPropagation(),e.open()},l.changeAutoFeedback=function(){l.worksheet.autoFeedback=!l.worksheet.autoFeedback,!0===l.worksheet.autoFeedback?(a.eventTrack("assign-auto-feedback-on",{category:"public-profile",label:"Click auto-feedback on"}),s.autoFeedbackOn({token:l.worksheet.token},function(){console.log("autoFeedbackOn successful")},function(e){console.log("Fail setting auto-feedback. %s",e),l.worksheet.autoFeedback=!1})):(a.eventTrack("assign-auto-feedback-off",{category:"public-profile",label:"Click auto-feedback off"}),s.autoFeedbackOff({token:l.worksheet.token},function(){console.log("autoFeedbackOff successful")},function(e){console.log("Fail setting auto-feedback. %s",e),l.worksheet.autoFeedback=!0}))},l.onChangeAutoFeedbackModel=function(){l.worksheet.autoFeedback=!l.worksheet.autoFeedback},l.deleteWorksheet=function(t){var o=u.confirm().title("Are you sure you want to delete this worksheet?").htmlContent("All of your students won't be able to access it anymore<br/><b>THIS CANNOT BE UNDONE</b>").targetEvent(t).ok("YES, DELETE WORKSHEET").cancel("NO, CANCEL AND GO BACK");u.show(o).then(function(){i.delete(l.worksheet.token,function(t){e.$emit("delete:worksheet",l.worksheet.token)},function(e){console.log("fail deleting worksheet: %s",e)}),a.eventTrack("public-profile-delete-worksheet",{category:"public-profile",label:"Delete worksheet"})})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.worksheetMenuComponent=worksheetMenuComponent,WorksheetMenuController.$inject=["$scope","$timeout","$window","$mdMenu","$analytics","$mdDialog","Editor","Dashboard","Publications"];

},{}],"/home/node/app/assets/js/worksheet/preview-bar/preview-bar.component.js":[function(require,module,exports){
"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,s,n=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,s=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw s}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,r,o,s,n,i){try{var a=e[n](i),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(o,s)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,s){var n=e.apply(t,r);function i(e){asyncGeneratorStep(n,o,s,i,a,"next",e)}function a(e){asyncGeneratorStep(n,o,s,i,a,"throw",e)}i(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PreviewBarComponent=exports.PREVIEW_BAR_COMPONENT=void 0;var PREVIEW_BAR_COMPONENT="previewBar";exports.PREVIEW_BAR_COMPONENT=PREVIEW_BAR_COMPONENT;var PreviewBarController=function(){function e(t,r,o,s,n,i,a,c,h,l,u,k,f,p,d,y){var v=this;_classCallCheck(this,e),this.loading=!0,this.$analytics=t,this.$attrs=r,this.$location=o,this.$mdDialog=s,this.$scope=n,this.$sce=i,this.$timeout=a,this.$window=c,this.Chargebee=h,this.Classroom=l,this.Dashboard=u,this.Editor=k,this.Users=d,this.WorksheetService=p,this.WidgetsService=f,this.worksheetAssignModal=y,this.hasVersions=null,this.grades={},this.subjects={},this.user=null,this.worksheetId=null,this.versions=null,this.rootParent=null,this.action=this.$location.$$search.act,this.$scope.$watch(function(){return v.worksheet},function(e,t){!t&&e&&(v.worksheetId=e.id,v.setupWorksheet(e))})}return e.$inject=["$analytics","$attrs","$location","$mdDialog","$scope","$sce","$timeout","$window","Chargebee","Classroom","Dashboard","Editor","WidgetsService","WorksheetService","Users","worksheetAssignModal"],_createClass(e,[{key:"assignWorksheet",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,o,s,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCopied){e.next=3;break}return e.next=3,this.copyWorksheet(!1);case 3:return e.next=5,Promise.all([this.Users.profileAsync(),this.Classroom.loadClassListAsync(),this.Editor.getByToken({token:this.copiedWorksheetToken}).$promise]);case 5:t=e.sent,r=_slicedToArray(t,3),o=r[0],s=r[1],n=r[2],this.worksheetAssignModal.open(this.copiedWorksheetToken,n,s.data.classes,this.usettings,o.type);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"canUserCopyWorksheet",value:function(){return this.usettings&&0!==this.usettings.userId&&this.isWorksheetOnSale()?this.wasWorksheetPurchased():!this.isPremiumWorksheet()||this.isPremiumUser()}},{key:"copyWorksheet",value:function(){var e=this;return new Promise(function(t,r){e.Dashboard.copy(e.worksheet.token,function(r){e.hasCopied=!0,r.data&&r.data.newWs&&(e.copiedWorksheetToken=r.data.newWs.token),t()},function(e){console.log("fail copying worksheet: %s",e),r(e)})})}},{key:"getAuthorProfileLink",value:function(){return this.worksheet&&this.user&&this.user.firstname?"/profile/".concat(this.user.token):""}},{key:"getWorksheetPreviewLink",value:function(e){return e?"/preview/".concat(e):null}},{key:"getAuthor",value:function(e){return this.worksheet&&e?e.firstname&&e.lastname?"".concat(e.firstname," ").concat(e.lastname):e.firstname?e.firstname:"Anonymous":"Anonymous"}},{key:"getFullName",value:function(e){return e.firstname||e.lastname?"".concat(e.firstname," ").concat(e.lastname).trim():"Anonymous"}},{key:"getCopyActionText",value:function(){return this.isWorksheetOnSale()&&!this.wasWorksheetPurchased()?"Buy":"Use"}},{key:"goBack",value:function(){!document.referrer||document.referrer.toLowerCase().indexOf("wizer.me")<0?this.$window.location.href=this.$location.$$host:this.$window.history.back()}},{key:"hasData",value:function(e){return!this.loading&&e&&e.length}},{key:"hasScore",value:function(){if(!this.worksheet)return!1;var e=this.worksheet.score;return!(null==e||isNaN(e))}},{key:"hasVersions",value:function(){return this.versions&&this.versions.length}},{key:"isPremiumUser",value:function(){return!(!this.usettings||!this.usettings.PERSONALIZATION)&&(this.usettings&&this.usettings.PERSONALIZATION)}},{key:"isPremiumWorksheet",value:function(){if(!this.worksheet)return!1;var e=this.WidgetsService.filterPremiumWidgets(this.worksheet.widgets);return e&&e.length}},{key:"isWorksheetOnSale",value:function(){return this.saleInfo&&this.saleInfo.isOnSale}},{key:"formatStudentsVal",value:function(e){return e&&e>0?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}},{key:"kFormat",value:function(e){function t(e,t,r){return Math.abs(e)>t-1?Math.sign(e)*(Math.abs(e)/t).toFixed(1)+r:Math.sign(e)*Math.abs(e)}return e<1e6?t(e,1e3,"K"):t(e,1e6,"M")}},{key:"openCopiedWorksheet",value:function(){if(this.copiedWorksheetToken){var e=this;e.$analytics.eventTrack("preview-open-copy",{category:"preview",label:"Open copied worksheet"}),e.$timeout(function(){e.$window.location.href="/editor/".concat(e.copiedWorksheetToken)},300)}else console.log("Unable to open worksheet copy as the token of the copy was not saved.")}},{key:"renderHtml",value:function(e){return this.$sce.trustAsHtml(e)}},{key:"rootParentAvatar",value:function(){var e=this.rootParent&&this.rootParent.imgUrl?this.rootParent.imgUrl:"/images/icons/avatar.svg";return"url(".concat(e,")")}},{key:"rootParentFullname",value:function(){return this.getAuthor(this.rootParent)}},{key:"scrollToFeedback",value:function(){if(this){var e=$('[data-block-name="preview-container"]'),t=$('[data-block-name="ranking"]').offset().top;this.lastScrollPosition||(this.lastScrollPosition=0),t>50?(e.animate({scrollTop:this.lastScrollPosition+t},500),this.lastScrollPosition+=t,this.scrollTime=this.$timeout(this.scrollToFeedback,100)):(e.scrollTop(this.lastScrollPosition+t-110),delete this.lastScrollPosition,this.$timeout.cancel(this.scrollTime),delete this.scrollTime)}}},{key:"setupWorksheet",value:function(e){var t=this,r=this;this.publicationToken?(this.user=e.user,this.WorksheetService.fetchWorksheetVersions(this.publicationToken).then(function(e){t.versions=e.versions.filter(function(e){return!!e}),t.hasVersions=t.versions&&t.versions.length,t.rootParent=e.rootParent}).then(function(){return t.Editor.getMultiSelectOptions().$promise}).then(function(e){e.grades.forEach(function(e){return t.grades[e.id]=e}),e.subjects.forEach(function(e){return t.subjects[e.id]=e})}).then(function(){t.action&&"cpy"===t.action.toLowerCase()&&(t.useWorksheet(),t.$location.url(t.$location.path()))}).catch(function(e){console.log("Error loading data ".concat(PREVIEW_BAR_COMPONENT," - ").concat(e))}).finally(function(){return setTimeout(function(){return r.loading=!1},250)})):console.log("Error - Publication token missing")}},{key:"wasWorksheetPurchased",value:function(){return this.saleInfo&&this.saleInfo.wasPurchased}},{key:"useWorksheet",value:function(){if(this.canUserCopyWorksheet())this.$analytics.eventTrack("preview-copy",{category:"preview",label:"Copy preview worksheet"}),this.isLoggedIn&&this.worksheet.token?this.copyWorksheet(!0):this.$window.location.href="/login?redir=".concat(encodeURIComponent(this.$location.path()),"&act=cpy");else if(this.isWorksheetOnSale())this.Chargebee.openPremiumWorksheetCheckout(this.worksheet.id);else{this.$analytics.eventTrack("payment-sale-popup-copyws",{category:"payment",label:"Sale Popup - Copy Premium Worksheet"});this.$mdDialog.show({template:'<upgrade-account-dialog upgrade-msg="This worksheet contains question types available only to <b>Wizer Boost</b> users.<br/>Upgrade to unlock extra question types."></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0})}}},{key:"versionImage",value:function(e){var t=e.imgUrl?e.imgUrl:"/images/icons/avatar.svg";return"url(".concat(t,")")}},{key:"thumbnailAlt",value:function(){var e=this;if(!this.worksheet)return"";var t="Interactive worksheet ".concat(this.worksheet.name);if(this.hasData(this.worksheet.grades)){t="".concat(t," Grades");var r=this.worksheet.grades.map(function(t){return e.grades[t]});t="".concat(t," ").concat(r.join(", "))}if(this.hasData(this.worksheet.subjects)){t="".concat(t," Teaching Resource subjects: ");var o=this.worksheet.subjects.map(function(t){return e.subjects[t]});t="".concat(t," ").concat(o.join(", "))}return t="".concat(t," Teacher: ").concat(this.getAuthor()),this.worksheet.widgets&&this.worksheet.widgets.length&&(t="".concat(t," Questions: ").concat(this.worksheet.widgets.length)),t}}]),e}(),PreviewBarComponent={templateUrl:"/js/worksheet/preview-bar/preview-bar.component.html",bindings:{worksheet:"<",isLoggedIn:"<",saleInfo:"<",hasCopied:"=",publicationToken:"<",usettings:"=",rankingsCount:"<",copiedWorksheetToken:"<"},controllerAs:"$ctrl",controller:PreviewBarController};exports.PreviewBarComponent=PreviewBarComponent;

},{}],"/home/node/app/assets/js/worksheet/preview/groups-display-filter-selector.component.js":[function(require,module,exports){
"use strict";function groupDisplayFilterSelectorComponent(){return{restrict:"E",templateUrl:"/js/worksheet/preview/groups-display-filter-selector.component.html",controller:groupsDisplayFilterSelectorController,bindings:{onSelectionChanged:"&"}}}function groupsDisplayFilterSelectorController(e,o,r,t,n){var l=this;l.selectedGroup=void 0,l.availableGroups=[],l.loadGroups=function(){return o.eventTrack("payment-sale-popup-preview-di",{category:"payment",label:"Sale Popup - Worksheet Preview DI Rules"}),t.getGroups().then(function(e){l.availableGroups=angular.copy(e)})},l.diSelectionChanged=function(){l.onSelectionChanged({groups:l.selectedGroup?[l.selectedGroup]:void 0})},e.$on("learner-groups-changed",function(){if(!l.usettings||!l.usettings.PERSONALIZATION)return;l.loadGroups()}),n.settings().then(function(e){l.usettings=e})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupDisplayFilterSelectorComponent=groupDisplayFilterSelectorComponent,groupsDisplayFilterSelectorController.$inject=["$rootScope","$analytics","$mdDialog","LearnerGroupService","UserSvc"];

},{}],"/home/node/app/assets/js/worksheet/rating/rating.js":[function(require,module,exports){
"use strict";function ratingComponent(){return{templateUrl:"/js/worksheet/rating/rating.html",controller:ratingController,bindings:{ratingData:"=",readonly:"="}}}function ratingController(){var t=this;t.selectRating=function(n){t.readonly||(t.ratingData=parseInt(n))},t.showRatingOnHover=function(n){t.readonly||(t.activeRatingData=parseInt(n))},t.hideActiveRating=function(){t.activeRatingData=0},t.activeRatingData=0,t.ratingData||(t.ratingData=0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ratingComponent=ratingComponent;

},{}],"/home/node/app/assets/js/worksheet/services/worksheet.service.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorksheetService=exports.WORKSHEET_SERVICE_NAME=void 0;var WORKSHEET_SERVICE_NAME="WorksheetService";exports.WORKSHEET_SERVICE_NAME=WORKSHEET_SERVICE_NAME;var WorksheetService=function(){function e(t,r){_classCallCheck(this,e),this.API=t,this.$http=r}return e.$inject=["API","$http"],_createClass(e,[{key:"fetchWorksheetVersions",value:function(e){return this.$http({method:"GET",url:"".concat(this.API.root,"/learn/preview/worksheet-versions/").concat(e)}).then(function(e){return e.data})}}]),e}();exports.WorksheetService=WorksheetService;

},{}],"/home/node/app/assets/js/worksheet/solve/index.js":[function(require,module,exports){
"use strict";require("./solution-submit-modal.controller"),require("./solution.controller");

},{"./solution-submit-modal.controller":"/home/node/app/assets/js/worksheet/solve/solution-submit-modal.controller.js","./solution.controller":"/home/node/app/assets/js/worksheet/solve/solution.controller.js"}],"/home/node/app/assets/js/worksheet/solve/solution-submit-modal.controller.js":[function(require,module,exports){
"use strict";function asyncGeneratorStep(t,e,n,o,r,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,r)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var i=t.apply(e,n);function a(t){asyncGeneratorStep(i,o,r,a,s,"next",t)}function s(t){asyncGeneratorStep(i,o,r,a,s,"throw",t)}a(void 0)})}}angular.module("wizer.worksheet").controller("SolutionSubmitModalCtrl",["modalData","$scope","$timeout","Classroom","$location","$uibModalInstance","$analytics","Editor","WSPublications","$mdToast","$window","$mdDialog","HelpWizardService",function(t,e,n,o,r,i,a,s,c,u,l,m,d){e.init=function(){},e.submit=_asyncToGenerator(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t.submitSolution),e.submitInProgress=!0,n.prev=2,n.next=5,t.submitSolution("submit");case 5:e.submitInProgress=!1,e.submitted=!0,n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),e.submitInProgress=!1,e.submitError=n.t0;case 13:i.close("Solution Saved");case 14:case"end":return n.stop()}},n,null,[[2,9]])})),e.cancel=function(){i.dismiss("cancel")},e.ok=function(){i.close([e.autoFeedback,e.isPublic])},e.init()}]);

},{}],"/home/node/app/assets/js/worksheet/solve/solution.controller.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorksheetSolveCtrl=WorksheetSolveCtrl;var _debounce=_interopRequireDefault(require("lodash/debounce"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,s,o,n,r,i){try{var a=e[r](i),u=a.value}catch(e){return void s(e)}a.done?t(u):Promise.resolve(u).then(o,n)}function _asyncToGenerator(e){return function(){var t=this,s=arguments;return new Promise(function(o,n){var r=e.apply(t,s);function i(e){asyncGeneratorStep(r,o,n,i,a,"next",e)}function a(e){asyncGeneratorStep(r,o,n,i,a,"throw",e)}i(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}WorksheetSolveCtrl.$inject=["$scope","$window","$q","$attrs","$sce","$analytics","$timeout","$mdToast","fflip","Learn","Users","StudentSolutions","$assessmentSvc","WidgetsService","$widgetScoring","WS_STATE_CONST","Covers","Papers","paperTheme","Colors","colorTheme","Bubbles","$uibModal"];var moment=require("moment-timezone");function keepExactTimeAndDateWhileSettingTimezone(e,t){if(!e)return e;var s=moment(e).clone().toISOString().replace(".000Z","");return moment.tz(s,t)}var CountDownTimer=function(){function e(t,s,o){_classCallCheck(this,e),this.$timeout=t,this.timer=void 0,this.minuteLimit=s,this.endTimeBySchedule=o}return _createClass(e,[{key:"start",value:function(e){if(this.stop(),this.minuteLimit&&this.endTimeBySchedule){var t=moment(e).add(this.minuteLimit,"minutes");this.endTime=moment.min(t,this.endTimeBySchedule)}else this.minuteLimit?this.endTime=moment(e).add(this.minuteLimit,"minutes"):this.endTimeBySchedule&&(this.endTime=this.endTimeBySchedule);this.endTime>e&&this.tick()}},{key:"tick",value:function(){var e=moment(),t=moment.duration(this.endTime-e);if(t>0)this.hoursLeft=t.hours(),this.minutesLeft=t.minutes(),this.secondsLeft=t.seconds(),this.timer=this.$timeout(function(){this.tick()}.bind(this),1e3);else if(this.stop(),this.callback)return this.callback()}},{key:"stop",value:function(){this.timer&&this.$timeout.cancel(this.timer)}},{key:"onFinish",value:function(e){this.callback=e}},{key:"stringRepr",value:function(){return moment([this.hoursLeft,this.minutesLeft,this.secondsLeft],"HH:mm:ss").format("HH:mm:ss")}}]),e}();function WorksheetSolveCtrl(e,t,s,o,n,r,i,a,u,l,c,d,m,h,w,k,f,p,b,g,v,y,S){var T=[];e.wstoken=o.wstoken,e.solutionToken=o.solutionToken?o.solutionToken:void 0,e.selectedPublicationToken=o.wstoken,e.covers={},e.papers=p.nameMap(),e.colors={},e.bubbles=y.nameMap(),e.canSubmitResults=void 0===o.submitresults||"true"===o.submitresults,e.viewType=e.canSubmitResults?"learn":"preview",e.isFinished=!1,e.errorToastPosition={bottom:!1,top:!0,left:!1,right:!0},e.WS_STATE_CONST=k,e.ws_state=k.SOLVE,e.getAuthorName=function(e){return e.user.firstname&&e.user.lastname?e.user.firstname+" "+e.user.lastname:e.user.firstname?e.user.firstname:"Anonymous"},e.getErrorToastPosition=function(){return Object.keys(e.errorToastPosition).filter(function(t){return e.errorToastPosition[t]}).join(" ")},e.save=function(){var s=_asyncToGenerator(regeneratorRuntime.mark(function s(o){var n,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.debouncedAutoSave&&e.debouncedAutoSave.cancel(),r.eventTrack("save-solution-"+o,{category:e.viewType,label:"Submit worksheet solution as "+o}),(n={id:e.ws_solutions.id?e.ws_solutions.id:void 0,worksheetId:e.worksheet.id,token:e.ws_solutions.token?e.ws_solutions.token:e.solutionToken,publicationToken:e.wstoken,sessionId:e.worksheet.sessionId,solutions:{},diGroupsArr:T,userId:e.ws_solutions.userId?e.ws_solutions.userId:e.worksheet.susrId,status:"submit"!==e.ws_solutions.status?o:e.ws_solutions.status,wsRevId:e.worksheet.lastRev}).timespent=(void 0!==n.timespent?n.timespent:0)+(new Date-e.ws_solutions.sessionStartTime),h.iterate(e.worksheet.widgets,function(t){e.ws_solutions.solutions&&t.seqid in e.ws_solutions.solutions&&(n.solutions[t.seqid]=e.ws_solutions.solutions[t.seqid])}),s.prev=5,s.next=8,l.saveSolution(n).$promise;case 8:i=s.sent,e.ws_solutions.status=i.status,e.worksheet.autoFeedback=i.autoFeedback,e.$apply(),t.localStorage.removeItem("solution-"+e.ws_solutions.publicationToken),e.ws_solutions.id||(e.solutionId=i.id,e.sltoken=i.token,Object.keys(i).forEach(function(t){"solutions"!==t&&(e.ws_solutions[t]=i[t])}),e.watchSolution()),"submit"===o&&e.showSubmissionMessage(),s.next=22;break;case 17:throw s.prev=17,s.t0=s.catch(5),console.log("Error while saving the solution:",s.t0),a.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Failed to save. Try again in a few minutes or check your ',"internet connection.</span>","</div>","</md-toast>"].join(""),controller:"ToastCtrl",hideDelay:5e3,position:e.getErrorToastPosition()}),s.t0;case 22:case"end":return s.stop()}},s,null,[[5,17]])}));return function(e){return s.apply(this,arguments)}}(),e.saveText=function(){return"disabled"!==e.worksheet.status?e.saveInProgress?"Saving...":e.wsform.$dirty||e.multipleOption_changed?"Save":"Saved":"Save"},e.submitText=function(){return e.submitInProgress?"Handing in...":"Hand in work"},e.savePromise=_asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.saveInProgress=!0,t.prev=1,t.next=4,e.save(e.ws_solutions.status);case 4:e.saveInProgress=!1,e.wsform.$setPristine(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.saveInProgress=!1,console.log("Failed saving the solution: ",t.t0);case 12:case"end":return t.stop()}},t,null,[[1,8]])})),e.submitPromise=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(s){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:S.open({templateUrl:"/js/worksheet/solve/solution-submit-modal.controller.html",controller:"SolutionSubmitModalCtrl",windowClass:"submit-confirmation-modal",backdrop:"static",resolve:{modalData:function(){return{submitSolution:e.save}}}}).result.then(function(e){console.info("Submit modal closed at: ",e)},function(e){console.info("Submit modal dismissed with reason : "+e)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.submitSolution=_asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitInProgress=!0,e.unwatchSolutions&&e.unwatchSolutions(),t.prev=2,t.next=5,e.save("submit");case 5:e.submitInProgress=!1,e.wsform.$setPristine(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.submitInProgress=!1;case 12:case"end":return t.stop()}},t,null,[[2,9]])})),e.shuffleWorksheet=function(){var t,s,o,n=[],r=-1;angular.forEach(e.worksheet.widgets,function(i,a){if(angular.isArray(i)||"question"==i.type&&a!=e.worksheet.widgets.length-1)-1==r&&(r=a),n.push(angular.copy(i));else{if(n.length){for(a==e.worksheet.widgets.length-1&&n.push(angular.copy(i)),t=n.length;0!==t;)o=Math.floor(Math.random()*n.length),s=n[t-=1],n[t]=n[o],n[o]=s;for(var u=0;u<n.length;u++)e.worksheet.widgets[r]=angular.copy(n[u]),r++}n=[],r=-1}})},e.load=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(s){var o,n,r,a,u,d,w,k;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.viewTags=[],"preview"===e.viewType&&c.profile(function(t){e.userProfile=t.data.profile},function(t){e.userProfile=void 0}),o=s[0].worksheet,T=s[0].diGroups,n=s[1].solution,r=s[1].publication,(a=void 0===n||n.empty?e.chooseSolution(o,e.ws_solutions):e.chooseSolution(o,n)).sessionStartTime=new Date,a.startTime?(a.startTime=new Date(a.startTime),console.log(a.startTime)):(a.startTime=new Date,console.log("started solving!"),l.startedSolving({token:e.solutionToken})),(r.minuteLimit||r.endTime)&&(u=keepExactTimeAndDateWhileSettingTimezone(r.endTime,r.timezone),e.solveCountDown=new CountDownTimer(i,r.minuteLimit,u),e.solveCountDown.start(a.startTime),e.solveCountDown.onFinish(e.submitSolution)),void 0!==o&&0!==o.length){t.next=14;break}return e.worksheetId=void 0,delete e.disabledMessage,t.abrupt("return");case 14:if("disabled"===o.status&&(e.disabledMessage=!0),o.tags?o.tags=$.unique(o.tags):o.tags=[],d=function(e){e.rtdata=angular.copy(e.data),e.initialScore=void 0,e.seqid in a.solutions||(a.solutions[e.seqid]={})},h.iterate(o.widgets,d),h.iterate(o.subwidgets,d),o.widgets=h.filterDifferentiatedWidgets(o.widgets,T,!0),!(a.token&&a.solutions&&Object.keys(a.solutions).length>0)||"submit"!==a.status||"disabled"===o.status){t.next=32;break}return t.prev=22,t.next=25,m.load(a.token);case 25:(k=t.sent)&&k.data&&k.data.assessment&&(w=k.data.assessment),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(22),console.log("Error loading assessment: ",t.t0);case 32:e.worksheet=o,e.worksheetId=o.id,e.worksheet&&e.worksheet.shuffle&&e.shuffleWorksheet(),a.worksheetId&&(a.worksheetId=o.id),e.ws_solutions=a,e.assessment=w,console.log("$scope.assessment",w),w&&e.bindAssessment(e.worksheet.widgets),e.applyBodyStyle(),i(function(){$.waypoints("refresh"),e.$broadcast("worksheet-ready"),e.watchSolution()},1e3);case 42:case"end":return t.stop()}},t,null,[[22,29]])}));return function(e){return t.apply(this,arguments)}}(),e.chooseSolution=function(s,o){var n,i,a=o;return u.recoverSolution&&e.canSubmitResults&&!e.disabledMessage&&(n=t.localStorage.getItem("solution-"+o.publicationToken))&&(n=JSON.parse(n),o.updatedAt&&(i=new Date(o.updatedAt).getTime()),!i||i&&n.timestamp>i?(r.eventTrack("recover-unsaved-solution",{category:"solution",label:"Save unsaved changes",token:s.suserId+"-"+(o.token?o.token:o.publicationToken)}),a=n.solution):t.localStorage.removeItem("solution-"+o.publicationToken)),a},e.watchSolution=function(){if(u.recoverSolution&&e.canSubmitResults&&!e.disabledMessage){if(e.unwatchSolutions&&e.unwatchSolutions(),"submit"===e.ws_solutions.status)return;e.autoSaveWorksheet=function(){e.submitInProgress||e.saveInProgress||(console.log("worksheet saved to server"),e.savePromise())};e.debouncedAutoSave=(0,_debounce.default)(e.autoSaveWorksheet,1e4),e.unwatchSolutions=e.$watch("ws_solutions",function(s,o){!e.saveInProgress&&JSON.stringify(s)!==JSON.stringify(o)&&e.wsform.$dirty&&(t.localStorage.setItem("solution-"+e.ws_solutions.publicationToken,JSON.stringify({timestamp:(new Date).getTime(),solution:e.ws_solutions})),console.log("Worksheet saved to local storage"),e.debouncedAutoSave())},!0)}},e.bindAssessment=function(t){console.log("$scope.bindAssessment",e.assessment),e.ws_solutions&&"submit"===e.ws_solutions.status&&(e.assessment?e.assessment.widgets||(e.assessment.widgets={}):e.assessment={widgets:{}},h.iterate(t,function(t){var s=e.ws_solutions.solutions[t.seqid],o=e.assessment.widgets[t.seqid],n=w.calcAssessment(t,s,o);n&&(e.assessment.widgets[t.seqid]=n)}))},e.failLoad=function(t){e.worksheetId=void 0,e.failedLoadingSolution=!0},e.applyBodyStyle=function(){if(!e.worksheet.style.color||!e.worksheet.style.color.name||!e.colors[e.worksheet.style.color.name]){var t=e.colors["Wizer-yellow"];t&&(e.worksheet.style.color={name:t.name,className:t.className,preview:t.preview})}if(v.applyColors(e.colors),e.worksheet)if(e.worksheet.style.background){if(e.worksheet.style.background.name&&e.covers[e.worksheet.style.background.name])e.worksheet.style.background=e.covers[e.worksheet.style.background.name];else if(e.worksheet.style.background.path&&e.covers.Marshmallow){var s=e.worksheet.style.background.path;e.worksheet.style.background=e.covers.Marshmallow,e.worksheet.style.images||(e.worksheet.style.images={0:{path:s}})}else e.worksheet.style.background.images||(e.worksheet.style.background.images={0:{}}),e.worksheet.style.background.images[0].path=e.worksheet.style.background.path;e.worksheet.style.background.paper||(e.worksheet.style.background.paper="default-paper"),e.worksheet.style.background.configurable&&e.worksheet.style.images&&angular.forEach(e.worksheet.style.images,function(t,s){e.worksheet.style.background.images[s]||(e.worksheet.style.background.images[s]={}),angular.extend(e.worksheet.style.background.images[s],t)}),e.setWorksheetBubble(),e.setWorksheetPaper()}else e.worksheet.style.background=e.covers.b2s_3},e.setWorksheetBubble=function(){e.worksheet.style.background.bubble&&e.worksheet.style.background.bubble.bubbles&&e.worksheet.style.background.bubble.bubbles.length||(e.worksheet.style.background.bubble={vertical_position:"center",bubbles:[{name:"default-bubble",background_none:!0}]}),angular.forEach(e.worksheet.style.background.bubble.bubbles,function(t,s){e.bubbles[t.name]&&angular.extend(t,e.bubbles[t.name])})},e.setWorksheetPaper=function(){e.worksheet.style.background.name&&e.worksheet.style.background.paper&&e.papers[e.worksheet.style.background.paper]?(b.applyPaperStyles(e.papers[e.worksheet.style.background.paper]),e.selectedPaper=e.papers[e.worksheet.style.background.paper]):b.removePaperStyles()},e.widgetFeedbackTitleText=function(){return""},e.getSaveFeedback=function(){if(e.assessment)return n.trustAsHtml(e.assessment.feedback)},e.showSubmissionMessage=function(t){var s=$(".disabled-worksheet-header");s&&s.offset()&&s.offset().top<0&&$("#app-wrap-container > section > md-content").animate({scrollTop:$("form[name=wsform]").offset().top},500),console.log("$scope.worksheet.autoFeedback",e.worksheet.autoFeedback),e.worksheet&&"disabled"!==e.worksheet.status&&e.ws_solutions&&"submit"===e.ws_solutions.status&&e.worksheet.autoFeedback&&i(function(){void 0===e.assessment&&(e.assessment=m.create(e.ws_solutions,"auto")),e.assessment=m.compileAssessment(e.worksheet,e.ws_solutions,e.assessment),m.save(e.assessment,function(){l.userSolution({token:e.wstoken},function(t){e.load([{worksheet:angular.copy(e.worksheet)},{solution:t.solution,publication:t.publication}])},function(e){console.log("fail to get user soltion: %s",e)})})},1e3)},e.$on("audio-added",function(t){e.$emit("formdirty")}),e.$on("formdirty",function(){e.wsform&&(e.wsform.$setDirty(),i(function(){e.$apply()},100))}),r.eventTrack(e.viewType+"-start",{category:e.viewType,label:"Start solution"}),function(){var t=[];if(void 0!==e.wstoken){e.ws_solutions={worksheetId:e.worksheetId,solutions:{},publicationToken:e.wstoken,timespent:0,status:"draft"};var o=s.defer();"preview"===e.viewType?(l.previewWorksheet({token:e.wstoken},function(e){o.resolve(e)},function(t){o.reject(t),e.failLoad()}),t.push(o.promise)):(l.solutionWorksheet({token:e.wstoken},function(e){o.resolve(e)},function(t){o.reject(t),e.failLoad()}),t.push(o.promise));var n=s.defer();l.userSolution({token:e.wstoken},function(t){e.ws_solutions&&!e.ws_solutions.token&&t&&t.solution&&t.solution.token&&(e.ws_solutions.token=t.solution.token),n.resolve(t)},function(t){n.reject(t),e.failLoad()}),t.push(n.promise)}var r=s.defer();g.list(function(t){t.data.colors.forEach(function(t){e.colors[t.name]=t}),r.resolve()},function(e){r.reject()}),t.push(r.promise);var i=s.defer();f.list().success(function(t){t.covers.forEach(function(t){t.images[0]&&t.images[0].path&&(t.path=t.images[0].path),e.covers[t.name]=t}),i.resolve()},function(e){i.reject()}),t.push(i.promise),s.all(t).then(function(t){e.load(t)},function(e){console.log("promise fail:"+e)},function(e){})}()}

},{"lodash/debounce":"/home/node/app/node_modules/lodash/debounce.js","moment-timezone":false}],"/home/node/app/assets/js/worksheet/view-ranking/view-ranking.js":[function(require,module,exports){
"use strict";function viewRankingComponent(){return{templateUrl:"/js/worksheet/view-ranking/view-ranking.html",controller:viewRankingController,controllerAs:"$ctrl",bindings:{rankingData:"=",editor:"="}}}function viewRankingController(n,a,t){var e=this;e.editRating=function(){e.rankingData.isEdit=!0,e.rankingData.currentData={},e.rankingData.currentData.comment=e.rankingData.comment,e.rankingData.currentData.rating=angular.copy(e.rankingData.rating)},e.getAuthorName=function(){if(e.rankingData.user.firstname&&e.rankingData.user.lastname)return e.rankingData.user.firstname+" "+e.rankingData.user.lastname;return e.rankingData.user.firstname?e.rankingData.user.firstname:"Anonymous"},e.renderHtml=function(n){return t.trustAsHtml(n)},e.showReply=function(){e.rankingData.showReplyData=!e.rankingData.showReplyData},e.getReplyLinkText=function(){var n="";e.rankingData.replies&&e.rankingData.replies.length&&(n=e.rankingData.replies.length>1?e.rankingData.replies.length+" replies":e.rankingData.replies.length+" reply");return n},e.getCommentMdWidth=function(){return e.editor?100:""},e.getCommentDate=function(){return new Date(e.rankingData.createdAt)},e.addReply=function(){e.rankingData.showReplyData=!0},e.rankingData.replies&&e.rankingData.replies.length&&(e.rankingData.showReplyData=!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.viewRankingComponent=viewRankingComponent,viewRankingController.$inject=["$scope","$element","$sce"];

},{}],"/home/node/app/assets/js/worksheet/view-widgets/worksheet-view-widgets.component.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorksheetViewWidgetsComponent=void 0;var WorksheetViewWidgetsController=function(){function e(t,s,i){_classCallCheck(this,e),this.$scope=t,this.$element=s,this.WS_STATE_CONST=i,this.$element.addClass("worksheet-view-widgets")}return e.$inject=["$scope","$element","WS_STATE_CONST"],_createClass(e,[{key:"isArray",value:function(e){return angular.isArray(e)}},{key:"getWidgetSolution",value:function(e){if(this.solution)return this.solution[e]}},{key:"getWidgetAssessment",value:function(e){return this.assessment&&this.assessment.widgets&&e in this.assessment.widgets?this.assessment.widgets[e]:void 0}},{key:"showSolve",value:function(){return this.wsState===this.WS_STATE_CONST.SOLVE||this.wsState===this.WS_STATE_CONST.EMBED}}]),e}(),WorksheetViewWidgetsComponent={templateUrl:"/js/worksheet/view-widgets/worksheet-view-widgets.component.html",controller:WorksheetViewWidgetsController,controllerAs:"$ctrl",bindings:{worksheet:"=",widget:"=",assessment:"=?",solution:"=?",sessionId:"=",wsState:"=",showInAssessment:"=?",widgetTitle:"=?",publicationToken:"@"}};exports.WorksheetViewWidgetsComponent=WorksheetViewWidgetsComponent;

},{}],"/home/node/app/assets/js/worksheet/widgets/addMediaText.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("addMediaText",["$timeout","$mdDialog","uploadfileservice",function(e,t,a){return{restrict:"A",scope:{cellData:"=",stateConstant:"=",state:"=",seqid:"=",isEdit:"=",placeholder:"=",height:"=",onDataAdd:"&"},templateUrl:"/js/worksheet/widgets/templates/addMediaText.html",controller:["$scope","$element","$attrs","$timeout","$mdDialog","uploadfileservice",function(e,t,a,o,n,i){e.addMediaConfig={isOpen:!1},e.froalaCellOptions={placeholderText:e.placeholder,toolbarInline:!0,heightMin:e.height?e.height:50,toolbarButtons:["bold","underline","italic","subscript","superscript","specialCharacters"]},e.cellDataLoaded=function(){e.cellData&&!e.cellData.index&&(e.cellData.index=(new Date).getTime())},e.openRecordAudioDialog=function(t){var a=angular.element(document.body);delete e.cellData.isFocused,e.cellData.media||(e.cellData.media={}),n.show({parent:a,targetEvent:t,templateUrl:"/templates/audio-record-dialog.html",locals:{audioData:e.cellData.media,audioName:"audio"},controller:["$scope","audioData","audioName",function(e,t,a){e.audioData=t,e.audioName=a}]})},e.$on("audio-added",function(t){e.onDataAdd&&e.onDataAdd(),e.$emit("formdirty")}),e.isUploading=function(e){if(e)return i.isUploading(e,e.index)},e.onUploadStart=function(e,t){i.onUploadStart(e,t)},e.onUploadError=function(e,t,a,o){i.onUploadError(e,t,a,o)},e.onFilesSubmitted=function(t,a,o,n){delete e.cellData.isFocused,t.length&&i.onFilesSubmitted(t,a,o,n).then(function(t){e.setUploadedImage(t.file,t.url,o,n)},function(t){e.onUploadError(null,t,o,n)})},e.setUploadedImage=function(t,a,o,n){i.setUploadedImage(t,a,o,n).then(function(t){o.media||(o.media={}),o.media.image=t,e.onDataAdd&&e.onDataAdd(),e.$emit("formdirty")})},e.onUploadSucess=function(t,a,o,n){i.onUploadSucess(t,a,o,n).then(function(t,a){e.setUploadedImage(t,a,o,n)})},e.removeImage=function(t,a){var o=n.confirm().title("Are you sure you want to remove this image?").htmlContent("").targetEvent(a).ok("YES, DO IT!").cancel("CANCEL");n.show(o).then(function(){delete t.media.image,e.attachEvents(),e.$emit("formdirty")})},e.removeAudio=function(t,a){var o=n.confirm().title("Are you sure you want to remove this audio file?").htmlContent("").targetEvent(a).ok("YES, DO IT!").cancel("CANCEL");n.show(o).then(function(){delete t.media.audio,e.attachEvents(),e.$emit("formdirty")})},e.$watch("cellData",function(t,a){e.cellDataLoaded()})}],link:function(t,a,o){t.imageUpload=function(t){e(function(){angular.element(a[0].querySelector("#image_upload_cell")).trigger("click")},0)},t.attachEvents=function(){$(a).find('[name="cell_inputbox"]').find("textarea").on("froalaEditor.focus",function(e,a){t.cellData.isFocused=!0}),$(a).find('[name="cell_inputbox"]').find("textarea").froalaEditor("events.on","keydown",function(a,o,n){if(t.onDataAdd&&13==a.keyCode)return a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),e(function(){t.onDataAdd(),t.isAdded=!0},500),!1},!0),$(a).find('[name="cell_inputbox"]').find("textarea").on("froalaEditor.blur",function(a,o){e(function(){delete t.cellData.isFocused,t.onDataAdd&&!t.isAdded&&t.onDataAdd(),t.isAdded&&delete t.isAdded},100)})},e(function(){t.attachEvents()},0)}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/blankit-froala-plugin.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var blankit=function(e){function t(e,t,o){var n=e.doc.createElement("wmblank");return n.setAttribute("id","blank_"+o),n.setAttribute("ng-model","blanks.blank_"+o),n.setAttribute("blank-active","true"),n.textContent=t,n}function o(t){e.selection.save(),$(t).replaceWith(t.innerHTML),e.selection.restore()}function n(){var n=e.selection.element();if("WMBLANK"!=n.tagName)if(function(){var e;if(window.getSelection&&(e=window.getSelection()).modify){var t,o=(e=window.getSelection()).focusNode,n=e.focusOffset;if(e.isCollapsed)t=(!e.focusNode||e.focusNode.nodeType!=e.focusNode.TEXT_NODE||0!==e.focusNode.textContent.substr(e.focusOffset-1).search("\\S "))&&e.isCollapsed;else{var r=document.createRange();r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset),t=r.collapsed,r.detach(),e.collapse(e.anchorNode,e.anchorOffset)}var s=[],a={};t?(s=["backward","forward"],a={backward:{node:e.focusNode,offset:function(){return e.focusOffset}},forward:{node:e.anchorNode,offset:function(){return e.anchorOffset}}}):(s=["forward","backward"],a={forward:{node:e.focusNode,offset:function(){return e.focusOffset}},backward:{node:e.anchorNode,offset:function(){return e.anchorOffset}}}),e.modify("move",s[0],"character"),(e.isCollapsed||" "!=a[s[1]].node.textContent[a[s[1]].offset()+(t?0:-1)])&&e.modify("move",s[1],"word"),e.extend(o,n),e.modify("extend",s[1],"character"),(e.isCollapsed||" "!=a[s[0]].node.textContent[a[s[0]].offset()+(t?-1:0)])&&e.modify("extend",s[0],"character")}else if((e=document.selection)&&"Control"!=e.type){var f=e.createRange();if(f.text){for(f.expand("word");/\s$/.test(f.text);)f.moveEnd("character",-1);f.select()}}}(),e.selection.isCollapsed());else if("WMBLANK"==(n=e.selection.element()).tagName)o(n);else{var s=e.selection.text(),a=(void 0!==e.opts.blankit_plugin.elementProvider?e.opts.blankit_plugin.elementProvider:t)(e,s,++r);e.selection.save();var f=$(n).find(".fr-marker").get(0);$(f.nextSibling).replaceWith(a.outerHTML),e.selection.restore()}else o(n)}var r=void 0!==e.opts.blankit_plugin.seq_seed?e.opts.blankit_plugin.seq_seed:0;function s(){n()}return{_init:function(){},blankit:s}},_default=blankit;exports.default=_default;

},{}],"/home/node/app/assets/js/worksheet/widgets/components/chat.component.js":[function(require,module,exports){
"use strict";function wsChatComponent(){return{templateUrl:"/js/worksheet/widgets/components/chat-component.html",controller:chatComponentController,controllerAs:"$ctrl",bindings:{teacherChats:"=",seqId:"=",state:"<",stateConstant:"<",viewType:"<",publicationToken:"@"}}}function chatComponentController(e,t,n,i,o,a,s){var r=this;function c(){return r.stateConstant.SOLVE==r.state&&"preview"!=r.viewType||r.stateConstant.ASSESS==r.state}function l(e){e.data&&null!=e.data.seqId&&e.data.seqId==r.seqId&&("create"==e.verb?(r.chats&&r.chats.length||(r.chats=[]),r.chats.push(e.data),n(function(){if(t.find(".chat-container")){var e=t.find(".chat-container");e.scrollTop(e.prop("scrollHeight"))}},1)):"remove"==e.verb?angular.forEach(r.chats,function(t,n){t.id==e.data.id&&r.chats.splice(n,1)}):"update"==e.verb&&angular.forEach(r.chats,function(t,n){t.id==e.data.id&&angular.extend(t,e.data)}))}function d(){c()?(r.isLoading=!0,r.isConnecting=!0,a.get("/chat/join",{seqId:r.seqId,publicationToken:r.publicationToken},function(e){n(function(){r.isConnecting=!1,r.isDisconnected=!1},0)},function(e){console.log("err",e),n(function(){r.isConnecting=!1,n(function(){d()},1e3)},0)}),function e(){i.list({seqId:r.seqId,publicationToken:r.publicationToken},function(e){r.chats=e.data.chats,r.teacherChats&&r.teacherChats.length>0&&(r.chats=r.teacherChats.concat(r.chats)),delete r.isLoading,n(function(){if(t.find(".chat-container")){var e=t.find(".chat-container");e.scrollTop(e.prop("scrollHeight")+100)}},100)},function(t){console.log("error",t),delete r.isLoading,n(function(){e()},1e3)})}()):r.teacherChats&&r.teacherChats.length?r.chats=[].concat(r.teacherChats):r.chats=[]}r.chatFroalaOptions={placeholderText:"Write something...",toolbarButtons:["bold","underline","italic","subscript","superscript","insertImage","emoticons","specialCharacters"],quickAddButtons:["image","emoticons"],imageDefaultAlign:"left",imageAltButtons:[],imageEditButtons:[],pluginsEnabled:["image","emoticons","quickAdd"],toolbarInline:!0},r.toastPosition={bottom:!0,top:!1,left:!1,right:!0},r.isConnecting=!1,r.isDisconnected=!0,r.getToastPosition=function(){return Object.keys(r.toastPosition).filter(function(e){return r.toastPosition[e]}).join(" ")},r.showErrorMessage=function(e){s.show({template:'<md-toast class="copy-to-clipboard-popup"><span flex>'+e+"</span></md-toast>",hideDelay:3e3,position:r.getToastPosition()})},r.loadChat=d,r.loadUserProfile=function(){o.profile(function(e){r.userProfile=e.data.profile},function(e){})},r.addChat=function(){if(!r.chatText||!$("<p>"+r.chatText+"</p>").text())return;if(c())r.isAdding=!0,i.save({seqId:r.seqId,text:r.chatText,publicationToken:r.publicationToken},function(e){r.chatText="",delete r.isAdding},function(e){console.log("error",e),r.showErrorMessage("Failed to send chat. Please try again."),delete r.isAdding});else{var t={};t.text=r.chatText,r.chatText="",t.user=r.userProfile,t.userId=r.userProfile?r.userProfile.id:void 0,t.id="teacher_"+(new Date).getTime(),r.stateConstant.EDIT==r.state?(r.teacherChats.push(t),e.$emit("teacher:chat:modified")):t.isPreview=!0,r.chats.push(t)}},r.saveChat=function(t){if(!t.editContent||!$("<p>"+t.editContent+"</p>").text())return;if(c()){var n=angular.copy(t);t.isSaving=!0,n.text=n.editContent,delete n.isEdit,delete n.editContent,i.edit(n,function(e){delete t.editContent,delete t.isEdit,delete t.isSaving},function(e){console.log("error",e),delete t.isSaving,r.showErrorMessage("Failed to edit chat. Please try again.")})}else r.stateConstant.EDIT==r.state&&(angular.forEach(r.teacherChats,function(e,n){t.id===e.id&&(e.text=t.editContent)}),e.$emit("teacher:chat:modified")),angular.forEach(r.chats,function(e,n){t.id===e.id&&(e.text=t.editContent,delete t.editContent,delete t.isEdit)})},r.removeChat=function(t){c()?(t.isRemoving=!0,i.remove(t,function(e){delete t.isRemoving},function(e){console.log("error",e),delete t.isRemoving,r.showErrorMessage("Failed to remove chat. Please try again.")})):(angular.forEach(r.chats,function(e,n){t.id===e.id&&r.chats.splice(n,1)}),r.stateConstant.EDIT==r.state&&(angular.forEach(r.teacherChats,function(e,n){t.id===e.id&&r.teacherChats.splice(n,1)}),e.$emit("teacher:chat:modified")))},r.isRealChat=c,r.loadUserProfile(),r.loadChat(),c()&&(a.on("chat",function(e){n(l,0,!0,e)}),a.isConnected()&&(r.isDisconnected=!1),a.on("disconnect",function(){n(function(){r.isDisconnected=!0,r.isAdding=!1,t.find("[froala]").froalaEditor("edit.off")},0)}),a.on("reconnect",function(){n(function(){r.isDisconnected=!1,r.loadChat(),t.find("[froala]").froalaEditor("edit.on")},0)}),a.on("error",function(){n(function(){console.log("socket error",arguments),r.isDisconnected=!0,r.isAdding=!1,t.find("[froala]").froalaEditor("edit.off")},0)}))}angular.module("wizer.widgets").config(function(){$.FroalaEditor.DEFAULTS=$.extend($.FroalaEditor.DEFAULTS,{quickAddButtons:["image"]}),$.FroalaEditor.QUICK_ADD_BUTTONS={image:{icon:"insertImage",callback:function(){this.shared.$qi_image_input||(this.shared.$qi_image_input=$('<input accept="image/*" name="quickAddImage'+this.id+'" style="display: none;" type="file">'),$("body").append(this.shared.$qi_image_input),this.events.$on(this.shared.$qi_image_input,"change",function(){var e=$(this).data("inst");this.files&&e.image.upload(this.files),$(this).val("")},!0)),this.$qi_image_input=this.shared.$qi_image_input,this.helpers.isMobile()&&this.selection.save(),this.$qi_image_input.data("inst",this).trigger("click")},requiredPlugin:"image",title:"Insert Image"},emoticons:{icon:"emoticons",popup:!0,callback:function(){var e=this.$box.find(".fr-qi-helper").find('[data-cmd="emoticons"]').offset();this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):(this.emoticons.showEmoticonsPopup(),this.popups.get("emoticons").css({top:e.top+10,left:e.left}))},requiredPlugin:"emoticons",title:"Emoticons"}},$.FroalaEditor.DefineIcon("quickAdd",{NAME:"plus"}),$.FroalaEditor.RegisterQuickAddCommand=function(e,t){$.FroalaEditor.QUICK_ADD_BUTTONS[e]=t},$.FroalaEditor.PLUGINS.quickAdd=function(e){var t,n;function i(i){var o,a,s;o=i.offset().top-e.$box.offset().top,a=0-t.outerWidth(),s=(t.outerHeight()-i.outerHeight())/2,e.opts.iframe&&(o+=e.$iframe.offset().top-$(e.o_win).scrollTop()),t.hasClass("fr-on")&&o>=0&&n.css("top",o-s),o>=0&&o-s<=e.$box.outerHeight()-i.outerHeight()?(t.hasClass("fr-hidden")&&(t.hasClass("fr-on")&&r(),t.removeClass("fr-hidden")),t.css("top",o-s)):t.hasClass("fr-visible")&&(t.addClass("fr-hidden"),c()),t.css("left",a)}function o(o){t||function(){e.shared.$quick_add||(e.shared.$quick_add=$('<div class="fr-quick-add"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+e.language.translate("Quick Insert")+'">'+e.icon.create("quickAdd")+"</a></div>"));t=e.shared.$quick_add,e.tooltip.bind(e.$box,".fr-quick-add > a.fr-floating-btn"),e.events.on("destroy",function(){t.removeClass("fr-on").appendTo($("body")).css("left",-9999).css("top",-9999),n&&(c(),n.appendTo($("body")))},!0),e.events.on("shared.destroy",function(){t.html("").removeData().remove(),t=null,n&&(n.html("").removeData().remove(),n=null)},!0),e.events.on("commands.before",s),e.events.on("commands.after",function(){e.popups.areVisible()||a()}),e.events.bindClick(e.$box,".fr-quick-add > a",r),e.events.bindClick(e.$box,".fr-qi-helper > a.fr-btn",function(t){var n=$(t.currentTarget).data("cmd");$.FroalaEditor.QUICK_ADD_BUTTONS[n].callback.apply(e,[t.currentTarget])}),e.events.$on(e.$wp,"scroll",function(){t.hasClass("fr-visible")&&i(t.data("tag"))})}(),t.hasClass("fr-on")&&c(),e.$box.prepend(t),i(o),t.data("tag",o),t.addClass("fr-visible")}function a(){var n=e.selection.element();e.node.isBlock(n)||(n=e.node.blockParent(n)),n?t&&t.data("tag").is($(n))&&t.hasClass("fr-on")?c():e.selection.isCollapsed()&&o($(n)):s()}function s(){t&&(e.html.checkIfEmpty(),t.hasClass("fr-on")&&c(),t.removeClass("fr-visible fr-on"),t.css("left",-9999).css("top",-9999))}function r(i){if(i&&i.preventDefault(),t.hasClass("fr-on")&&!t.hasClass("fr-hidden"))c();else{if(!e.shared.$qi_helper){for(var o=e.opts.quickAddButtons,a='<div class="fr-qi-helper">',s=0,r=0;r<o.length;r++){var l=$.FroalaEditor.QUICK_ADD_BUTTONS[o[r]];l&&(!l.requiredPlugin||$.FroalaEditor.PLUGINS[l.requiredPlugin]&&e.opts.pluginsEnabled.indexOf(l.requiredPlugin)>=0)&&(a+='<a class="fr-btn fr-floating-btn" role="button" title="'+e.language.translate(l.title)+'" tabIndex="-1" data-cmd="'+o[r]+'" style="transition-delay: '+.025*s+++'s;">'+e.icon.create(l.icon)+"</a>")}a+="</div>",e.shared.$qi_helper=$(a),e.tooltip.bind(e.shared.$qi_helper,".fr-qi-helper > a.fr-btn")}(n=e.shared.$qi_helper).appendTo(e.$box),setTimeout(function(){n.css("top",8),n.css("left",40),n.find("a").addClass("fr-size-1"),t.addClass("fr-on")},10)}}function c(){var n=e.$box.find(".fr-qi-helper");n.length&&(n.find("a").removeClass("fr-size-1"),n.css("left",-9999),t.hasClass("fr-hidden")||t.removeClass("fr-on"))}return{_init:function(){if(!e.$wp)return!1;e.opts.iframe&&e.$el.parent("html").find("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">'),e.events.on("mouseup",a),e.helpers.isMobile()&&e.events.$on($(e.o_doc),"selectionchange",a),e.events.on("blur",c),$(window).on("click",c),e.events.on("keyup",a),e.events.on("keydown",function(){setTimeout(function(){a()},0)}),o($(e.selection.element()))},hide:s}}}).component("chatComponent",wsChatComponent()),chatComponentController.$inject=["$scope","$element","$timeout","Chat","Users","IOSocket","$mdToast"];

},{}],"/home/node/app/assets/js/worksheet/widgets/components/chatText.component.js":[function(require,module,exports){
"use strict";function chatTextComponent(){return{templateUrl:"/js/worksheet/widgets/components/chat-text-component.html",controller:chatTextComponentController,controllerAs:"$ctrl",bindings:{chatData:"<",userProfile:"<",isConnecting:"<",isDisconnected:"<",saveChatData:"=",removeChatData:"="}}}function chatTextComponentController(t,e,o,a,n,i,s){var c=this;c.getToastPosition=function(){return Object.keys(c.toastPosition).filter(function(t){return c.toastPosition[t]}).join(" ")},c.showErrorMessage=function(t){s.show({template:'<md-toast class="copy-to-clipboard-popup"><span flex>'+t+"</span></md-toast>",hideDelay:3e3,position:c.getToastPosition()})},c.renderHtml=function(t){if(t)return a.trustAsHtml(t)},c.editChat=function(){c.chatData.isEdit=!0,c.chatData.editContent=c.chatData.text},c.cancelEdit=function(){delete c.chatData.isEdit,delete c.chatData.editContent},c.saveChat=function(){c.saveChatData(c.chatData)},c.removeChat=function(t){var e=i.confirm().title("Are you sure you want to delete this chat?").textContent("").targetEvent(t).ok("Yes").cancel("No");i.show(e).then(function(){c.removeChatData(c.chatData)})},c.chatEditFroalaOptions={placeholderText:"Write something...",toolbarButtons:["bold","underline","italic","subscript","superscript","insertImage","emoticons","specialCharacters"],imageDefaultAlign:"left",imageAltButtons:[],imageEditButtons:[],toolbarInline:!0},c.toastPosition={bottom:!0,top:!1,left:!1,right:!0}}angular.module("wizer.widgets").component("chatText",chatTextComponent()),chatTextComponentController.$inject=["$scope","$element","$timeout","$sce","Chat","$mdDialog","$mdToast"];

},{}],"/home/node/app/assets/js/worksheet/widgets/components/draw.component.js":[function(require,module,exports){
"use strict";var paper=require("paper");function drawComponent(){return{templateUrl:"/js/worksheet/widgets/components/draw-component.html",controller:drawComponentController,controllerAs:"$ctrl",bindings:{teacherDrawData:"=",studentDrawData:"=",bgData:"=",originalWidth:"=",isEdit:"<",state:"<",stateConstant:"<"}}}function drawComponentController(e,t,a,o,r,n,i){var l,s,c,d,p,u=this,h=!1,f=!1,g={segments:!0,stroke:!0,fill:!0,handles:!0,tolerance:5};function v(e,t){u.activeLayer.children&&u.activeLayer.children.length&&angular.forEach(u.activeLayer.children,function(e){e.selected=!1});var a,o={point:[t.x,t.y],content:e,fillColor:u.selectedColor,fontWeight:700,fontSize:25,scaleFactor:1,rotateAngle:0};(a=new paper.PointText(o)).selected=!0,u.activeLayer.addChild(a),a.translate(t.x-a.bounds._x,t.y-a.bounds._y),o.point=[a.point.x,a.point.y],u.addDrawObject({text:!0,data:o})}function m(e){var t=p.width();u.originalWidth||(u.originalWidth=t);var a=u.paperScope.project.view;u.actualWidth?u.zoom=t/u.actualWidth:u.zoom=t/u.originalWidth,u.actualWidth=t,a.scale(u.zoom,new paper.Point(0,0)),a.update()}function y(){u.paperScope&&u.paperScope.project?(c.removeChildren(),u.teacherDrawData&&u.teacherDrawData.length&&x(u.teacherDrawData,!0),w()):o(y,100)}function w(){void 0!==d&&(d.removeChildren(),u.studentDrawData&&u.studentDrawData.length&&x(u.studentDrawData))}function x(e,t){angular.forEach(e,function(e){var a;e&&(e.path&&(a=new paper.Path(e.path),e.strokeColor&&(a.strokeColor=e.strokeColor),e.strokeWidth&&(a.strokeWidth=e.strokeWidth)),e.text&&(a=new paper.PointText(e.data),e.data.scaleFactor&&a.scale(e.data.scaleFactor),e.data.rotateAngle&&a.rotate(e.data.rotateAngle)),e.image&&((a=new paper.Raster(e.data)).onLoad=function(){e.data.scaleFactor&&a.scale(e.data.scaleFactor),e.data.rotateAngle&&a.rotate(e.data.rotateAngle)}),a&&(t?c.addChild(a):d.addChild(a)))})}function C(){var t=[];if(!u.originalWidth){var a=u.paperScope.project.view.width;u.originalWidth=a}angular.forEach(u.activeLayer.children,function(e){if(e instanceof paper.PointText||e instanceof paper.Raster)if(e instanceof paper.Raster)e.scaleFactor||(e.scaleFactor=1),e.rotateAngle||(e.rotateAngle=0),t.push({image:!0,data:{position:[e.position._x,e.position._y],source:e.source,scaleFactor:e.scaleFactor,rotateAngle:e.rotateAngle}});else{e.scaleFactor||(e.scaleFactor=1),e.rotateAngle||(e.rotateAngle=0);var a={point:[e.point._x,e.point._y],content:e._content,fontWeight:e.fontWeight,fontSize:e.fontSize,scaleFactor:e.scaleFactor,rotateAngle:e.rotateAngle};e.fillColor&&e.fillColor._canvasStyle&&(a.fillColor=e.fillColor._canvasStyle),t.push({text:!0,data:a})}else{var o={path:e.getPathData(),strokeWidth:e.strokeWidth};e.strokeColor&&e.strokeColor._canvasStyle&&(o.strokeColor=e.strokeColor._canvasStyle),t.push(o)}}),u.state===u.stateConstant.EDIT?u.teacherDrawData=t:u.studentDrawData=t,e.$emit("formdirty")}u.fflip=i,u.getPosition=function(e){var t={};return t.x=e.point.x,t.y=e.point.y,t},u.mouseUp=function(e){var t;if(h){if("move"!==u.activeTool.name&&"resize"!==u.activeTool.name&&"rotate"!==u.activeTool.name){if(f){if(l instanceof paper.Shape){var a=l;l=l.toPath(),a.remove()}}else l.smooth&&l.smooth();f||l.simplify(10),l.selected=!0,t=l&&l.strokeColor&&l.strokeColor._canvasStyle?l.strokeColor._canvasStyle:u.selectedColor,u.addDrawObject({path:l.getPathData(),strokeColor:t,strokeWidth:u.strokeWidth})}else C();f=!1}h=!1},u.mouseDrag=function(e){var t=u.getPosition(e);if("move"===u.activeTool.name||"resize"===u.activeTool.name||"rotate"===u.activeTool.name){var a=u.activeLayer.hitTest(t,g);a&&a.item&&a.item.selected?u.selectionCursor=u.activeTool.name:delete u.selectionCursor}else delete u.selectionCursor;h&&u.activeTool.drag&&u.activeTool.drag(t)},u.mouseDown=function(e){if(u.isFileUploading)return e.preventDefault(),void e.stopPropagation();if(u.isEditing()){var t=u.getPosition(e);l&&(l.selected=!1),u.activeTool.start&&u.activeTool.start(t)}},u.changeTool=function(e){e&&u.drawingTools[e]?u.activeTool=u.drawingTools[e]():u.activeTool=u.drawingTools.pencil()},u.isEditing=function(){return!(u.state==u.stateConstant.ASSESS||u.state==u.stateConstant.EDIT&&!u.isEdit)},u.startUploadImage=function(){u.isFileUploading||o(function(){$(t).find('[data-block-name="image_upload"]')[0].click(),u.uploadImage=!0},0)},u.startUploadBackground=function(){u.isFileUploading||o(function(){$(t).find('[data-block-name="image_upload"]')[0].click()},0)},u.onFilesSubmitted=function(t,a){u.fileUploadProgress=0,u.s3upload=new S3Upload({files_element:a.target,s3_sign_put_url:"/file/signS3",s3_object_name:"canvas-image",onProgress:function(t,a){u.fileUploadProgress=t,e.$apply()},onFinishS3Put:function(e){u.setUploadedFile(t[0],e)},onError:function(e){console.log("Upload error: "+e),delete u.fileUploadProgress,u.onUploadError(null,e)}}),u.isFileUploading=!0},u.modifyUserTable=function(e,t){r.post("/file/s3uploadDone",{filename:e,imagePath:t,type:"image"}).success(function(){console.log("Success register image upload")}).error(function(e){console.log("Fail register image upload. %s",e)})},u.setUploadedFile=function(a,o){delete u.fileUploadProgress,a.name&&o&&u.modifyUserTable(a.name,o);o&&(u.uploadImage?function(e){u.activeLayer.children&&u.activeLayer.children.length&&angular.forEach(u.activeLayer.children,function(e){e.selected=!1});var t=u.paperScope.view.size.height,a=u.paperScope.view.size.width,o={position:[u.paperScope.view.center.x,u.paperScope.view.center.y],source:e,rotateAngle:0},r=new paper.Raster(o);r.selected=!0,u.activeLayer.addChild(r),r.onLoad=function(){u.isFileUploading=!1;var e=1;r.width>a&&(e=a/r.width,r.scale(e)),r.height*e>t&&(r.scale(t/(r.height*e)),e*=t/(r.height*e)),o.scaleFactor=e,u.addDrawObject({image:!0,data:o}),u.activeTool=u.drawingTools.move()}}(o):function(a){u.isFileUploading=!1,u.bgData||(u.bgData={});u.bgData.url=a,u.bgData.isCustom=!0,e.$emit("formdirty"),$(t).find("canvas")[0].style["background-image"]="url('"+u.bgData.url+"')"}(o));delete u.uploadImage},u.onUploadStart=function(){u.isFileUploading=!0},u.showUploadError=function(){n.show({template:['<md-toast class="worksheet-save-error-toaster">','<div class="error-toaster-wrapper">','<span class="toaster-close-icon"><i class="icon-x" ng-click="closeToast()"></i></span>','<span class="toaster-error-text">Something went wrong. Please try again in a few minutes.</span>',"</div>","</md-toast >"].join(""),controller:function(e,t){e.closeToast=function(){t.hide()}},hideDelay:5e3})},u.onUploadError=function(e,t){u.isFileUploading=!1,delete u.fileUploadProgress,u.showUploadError(),delete u.uploadImage},u.onUploadSucess=function(e,t){var a=JSON.parse(t);if(a&&a.files.length>0){var o=a.files[0].extra.Location;u.setUploadedFile(a.files[0],o)}},u.removePath=function(){var e=!1;u.activeLayer.children&&u.activeLayer.children.length&&(angular.forEach(u.activeLayer.children,function(t){t.selected&&(e=!0,t.remove())}),e&&C())},u.pencilTool=function(){return{name:"pencil",start:function(e){h=!0,f=!1,(l=new paper.Path).strokeColor=u.selectedColor,u.strokeWidth=1,l.strokeWidth=u.strokeWidth,l.add(new paper.Point(e.x,e.y)),u.activeLayer.addChild(l)},drag:function(e){l.add(new paper.Point(e.x,e.y))}}},u.brushTool=function(){return{name:"brush",start:function(e){h=!0,f=!1,l=new paper.Path;var t=u.hexToRgb(u.selectedColor);l.strokeColor="rgba("+t.r+", "+t.g+", "+t.b+", 0.6)",u.strokeWidth=10,l.strokeWidth=u.strokeWidth,l.add(new paper.Point(e.x,e.y)),u.activeLayer.addChild(l)},drag:function(e){l.add(new paper.Point(e.x,e.y))}}},u.moveTool=function(){return{name:"move",start:function(e){var t=!1,a=u.activeLayer.hitTest(e,g);a&&a.item&&a.item.selected&&(t=!0),u.activeLayer.children&&u.activeLayer.children.length&&angular.forEach(u.activeLayer.children,function(e){e.selected=!1}),a&&a.item&&(t?a.item.selected=!1:((l=a.item).bringToFront(),a.item.selected=!0,h=!0,s=e))},drag:function(e){l.translate(e.x-s.x,e.y-s.y),s=e}}},u.lineTool=function(){return{name:"line",start:function(e){h=!0,f=!1,s=e;var t=new paper.Point(e.x,e.y),a=new paper.Point(e.x,e.y);l=new paper.Path.Line(t,a),u.strokeWidth=1,l.strokeWidth=u.strokeWidth,l.strokeColor=u.selectedColor,u.activeLayer.addChild(l)},drag:function(e){l.setPathData("M"+s.x+","+s.y+"l"+(e.x-s.x)+","+(e.y-s.y))}}},u.squareTool=function(){return{name:"square",start:function(e){h=!0,f=!0,s=e;var t=new paper.Point(e.x,e.y),a=new paper.Point(e.x,e.y),o=new paper.Rectangle(t,a);l=new paper.Shape.Rectangle(o),u.strokeWidth=1,l.strokeWidth=u.strokeWidth,l.strokeColor=u.selectedColor,u.activeLayer.addChild(l)},drag:function(e){var t={};l.set({size:[Math.abs(e.x-s.x),Math.abs(e.y-s.y)]}),s.x<e.x?t.x=s.x-l.bounds._x:t.x=e.x-l.bounds._x,s.y<e.y?t.y=s.y-l.bounds._y:t.y=e.y-l.bounds._y,l.translate(t.x,t.y)}}},u.starTool=function(){return{name:"star",start:function(e){h=!0,f=!0,s=e,l=new paper.Path.Star({center:[e.x,e.y],points:5,radius1:1,radius2:1}),u.strokeWidth=1,l.strokeWidth=u.strokeWidth,l.strokeColor=u.selectedColor,u.activeLayer.addChild(l)},drag:function(e){l.remove();var t,a,o;a=Math.pow(e.x-s.x,2),o=Math.pow(e.y-s.y,2),t=Math.sqrt(a+o),(l=new paper.Path.Star({center:[s.x,s.y],points:5,radius1:t,radius2:Math.floor(t/2)})).strokeWidth=u.strokeWidth,l.strokeColor=u.selectedColor}}},u.triangleTool=function(){return{name:"triangle",start:function(e){h=!0,f=!0,s=e,l=new paper.Path.RegularPolygon({center:[e.x,e.y],sides:3,radius:1}),u.strokeWidth=1,l.strokeWidth=u.strokeWidth,l.strokeColor=u.selectedColor,u.activeLayer.addChild(l)},drag:function(e){l.remove();var t,a,o;a=Math.pow(e.x-s.x,2),o=Math.pow(e.y-s.y,2),t=Math.sqrt(a+o),(l=new paper.Path.RegularPolygon({center:[s.x,s.y],sides:3,radius:t})).strokeWidth=u.strokeWidth,l.strokeColor=u.selectedColor}}},u.circleTool=function(){return{name:"circle",start:function(e){h=!0,f=!0,s=e;var t=new paper.Point(e.x,e.y),a=new paper.Point(e.x,e.y),o=new paper.Rectangle(t,a);l=new paper.Shape.Ellipse(o),u.strokeWidth=1,l.strokeWidth=u.strokeWidth,l.strokeColor=u.selectedColor,u.activeLayer.addChild(l)},drag:function(e){var t={};l.set({size:[Math.abs(e.x-s.x),Math.abs(e.y-s.y)]}),s.x<e.x?t.x=s.x-l.bounds._x:t.x=e.x-l.bounds._x,s.y<e.y?t.y=s.y-l.bounds._y:t.y=e.y-l.bounds._y,l.translate(t.x,t.y)}}},u.textTool=function(){return{name:"text",start:function(e){var a={};a.x=e.x,a.y=e.y;var r=document.createElement("input");r.type="text",r.style.position="absolute",r.style.left=a.x*u.zoom+"px",r.style.top=a.y*u.zoom+"px";var n=!1;$(t).find('[data-block-name="canvas_wrapper"]').append(r),r.focus(),r.onkeydown=function(e){13===e.keyCode?(this.value,$(r).blur()):27===e.keyCode&&(n=!0,$(r).blur())},r.onblur=function(){this.value&&!n&&o(v,0,!0,this.value,e),r&&r.remove()}}}},u.selectTool=function(){return{name:"select",start:function(e){var t=!1,a=u.activeLayer.hitTest(e,g);a&&a.item&&a.item.selected&&(t=!0),u.activeLayer.children&&u.activeLayer.children.length&&angular.forEach(u.activeLayer.children,function(e){e.selected=!1}),a&&a.item&&(t?a.item.selected=!1:((l=a.item).bringToFront(),a.item.selected=!0,h=!1,s=e))}}},u.resizeTool=function(){return{name:"resize",start:function(e){var t=!1,a=u.activeLayer.hitTest(e,g);a&&a.item&&a.item.selected&&(t=!0),u.activeLayer.children&&u.activeLayer.children.length&&angular.forEach(u.activeLayer.children,function(e){e.selected=!1}),a&&a.item&&(t?a.item.selected=!1:((l=a.item).bringToFront(),a.item.selected=!0,h=!0,s=e))},drag:function(e){var t,a,o,r,n,i;t=Math.pow(s.x-l.position._x,2),a=Math.pow(s.y-l.position._y,2),o=Math.sqrt(t+a),r=Math.pow(e.x-l.position._x,2),n=Math.pow(e.y-l.position._y,2),i=Math.sqrt(r+n),l.scaleFactor&&(l.scaleFactor=l.scaleFactor*(i/o)),l.scale(i/o),s=e}}},u.rotateTool=function(){return{name:"rotate",start:function(e){var t=!1,a=u.activeLayer.hitTest(e,g);a&&a.item&&a.item.selected&&(t=!0),u.activeLayer.children&&u.activeLayer.children.length&&angular.forEach(u.activeLayer.children,function(e){e.selected=!1}),a&&a.item&&(t?a.item.selected=!1:((l=a.item).bringToFront(),a.item.selected=!0,h=!0,s=e))},drag:function(e){var t=e.x-l.position._x,a=e.y-l.position._y,o=s.x-l.position._x,r=s.y-l.position._y,n=Math.atan2(t,a)-Math.atan2(o,r);l.rotate(n*(-180/Math.PI)),null!=l.rotateAngle&&(l.rotateAngle=l.rotateAngle+n*(-180/Math.PI)),s=e}}},u.selectColor=function(e){e&&(u.selectedColor=e,angular.forEach(u.activeLayer.children,function(t){if(t.selected)if(t instanceof paper.PointText||t instanceof paper.Raster)t instanceof paper.PointText&&(t.fillColor=e);else if(10!=t.strokeWidth)t.strokeColor=e;else{var a=u.hexToRgb(u.selectedColor);t.strokeColor="rgba("+a.r+", "+a.g+", "+a.b+", 0.6)"}}),C())},u.openColorPallet=function(t){t.stopPropagation(),t.preventDefault(),delete u.showShapes,delete e.activeEvent,u.showColors=!0,e.activeEvent=a.onclick=function(t){delete u.showColors,delete e.activeEvent,e.$digest()}},u.openShapes=function(t){t.stopPropagation(),t.preventDefault(),delete u.showColors,delete e.activeEvent,u.showShapes=!0,e.activeEvent=a.onclick=function(t){delete u.showShapes,delete e.activeEvent,e.$digest()}},u.getSelectedShape=function(){var e;e="square"==u.activeTool.name?"icon-square":"circle"==u.activeTool.name?"icon-circle":"triangle"==u.activeTool.name?"icon-triangle":"line"==u.activeTool.name?"icon-line":"icon-star";return e},u.addDrawObject=function(t){var a;u.state==u.stateConstant.EDIT?(u.teacherDrawData&&u.teacherDrawData.length||(u.teacherDrawData=[]),a=u.teacherDrawData):(u.studentDrawData&&u.studentDrawData.length||(u.studentDrawData=[]),a=u.studentDrawData);a.push(t),e.$emit("formdirty")},u.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},u.colors=["#f9c436","#f7931e","#e05145","#000000","#52bf62","#3badff","#257fcc","#8e5fb6"],u.selectedColor="#000000",u.strokeWidth=1,u.drawingTools={pencil:u.pencilTool,brush:u.brushTool,line:u.lineTool,square:u.squareTool,circle:u.circleTool,star:u.starTool,triangle:u.triangleTool,select:u.selectTool,move:u.moveTool,resize:u.resizeTool,rotate:u.rotateTool,text:u.textTool},u.zoom=1,u.activeTool=u.drawingTools.pencil(),u.$onChanges=function(e){u.bgData||(u.bgData={}),u.bgData.url||(u.bgData.url="/images/draw/bg-pttrn.jpg"),e.studentDrawData&&e.studentDrawData.currentValue&&w()},e.$on("worksheet-discarded",function(e){y()}),e.$watch("$ctrl.studentDrawData",function(e,t){null!=e&&w()}),o(function e(){var a=$(t).find("canvas");0===a.length||120>=a.width()?o(e,500):(p=$(t).find("canvas"),u.paperScope=new paper.PaperScope,u.paperScope.setup($(t).find("canvas")[0]),u.paperScope.install(u),c=new paper.Layer({insert:!1}),d=new paper.Layer({insert:!1}),u.paperScope.project.layers.push(c),u.paperScope.project.layers.push(d),u.paperScope.tool=new paper.Tool,u.state===u.stateConstant.EDIT?(c.activate(),u.activeLayer=c):(d.activate(),u.activeLayer=d),u.paperScope.tool.onMouseDown=u.mouseDown,u.paperScope.tool.onMouseDrag=u.mouseDrag,u.paperScope.tool.onMouseUp=u.mouseUp,u.paperScope.project.view.onResize=function(e){angular.isUndefined(u.cancelUpdateScale)||o.cancel(u.cancelUpdateScale),u.cancelUpdateScale=o(function(){u.cancelUpdateScale=void 0,m()},100)},m(),y())},500)}angular.module("wizer.widgets").component("drawComponent",drawComponent()),drawComponentController.$inject=["$scope","$element","$window","$timeout","$http","$mdToast","fflip"];

},{"paper":false}],"/home/node/app/assets/js/worksheet/widgets/components/index.js":[function(require,module,exports){
"use strict";require("./chat.component"),require("./chatText.component"),require("./draw.component"),require("./pdfupload.component"),require("./reflection-ranking.component"),require("./reflection.component"),require("./widgetEditTitle.component"),require("./widgetViewTitle.component"),require("./wordsearch.component"),require("./video");

},{"./chat.component":"/home/node/app/assets/js/worksheet/widgets/components/chat.component.js","./chatText.component":"/home/node/app/assets/js/worksheet/widgets/components/chatText.component.js","./draw.component":"/home/node/app/assets/js/worksheet/widgets/components/draw.component.js","./pdfupload.component":"/home/node/app/assets/js/worksheet/widgets/components/pdfupload.component.js","./reflection-ranking.component":"/home/node/app/assets/js/worksheet/widgets/components/reflection-ranking.component.js","./reflection.component":"/home/node/app/assets/js/worksheet/widgets/components/reflection.component.js","./video":"/home/node/app/assets/js/worksheet/widgets/components/video/index.js","./widgetEditTitle.component":"/home/node/app/assets/js/worksheet/widgets/components/widgetEditTitle.component.js","./widgetViewTitle.component":"/home/node/app/assets/js/worksheet/widgets/components/widgetViewTitle.component.js","./wordsearch.component":"/home/node/app/assets/js/worksheet/widgets/components/wordsearch.component.js"}],"/home/node/app/assets/js/worksheet/widgets/components/pdfupload.component.js":[function(require,module,exports){
"use strict";var _pdfjsDist=_interopRequireDefault(require("pdfjs-dist"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function pdfUploadController(e,n,o,i,t){var r,a,l=this;function d(e){if(e||a){if(e&&(a=e),(l.pageNumber&&l.pageNumber>0?l.pageNumber:1)>a.numPages)return l.onUploadError(null,"The page number you entered is invalid. The selected PDF file has "+e.numPages+" pages");a.getPage(l.pageNumber).then(function(e){r||(r=n.find(".pdf-preview-canvas")[0]);var o=e.getViewport({scale:1.2}),i=r.getContext("2d");r.height=o.height,r.width=o.width,e.render({canvasContext:i,viewport:o}).promise.then(function(){l.isLoadingPdf=!1})})}}l.$onInit=function(){r=n.find(".pdf-preview-canvas")[0],e.$emit("invalidInput","Please choose a PDF file to convert");var o=function(){return-1!=navigator.appVersion.indexOf("MSIE")},i=(navigator.appVersion,function(){var e=999;return-1!=navigator.appVersion.indexOf("MSIE")&&(e=parseFloat(navigator.appVersion.split("MSIE")[1])),e});o()&&i()<9?l.isUnsupportedBrowser=!0:l.onFilesSubmitted(l.pdfFile)},l.cancel=function(){return t.hide()},l.buttonText=function(){return l.isLoadingPdf?"Uploading...":"Convert"},l.onUploadStart=function(){o.onUploadStart(l,0),l.uploading=!0},l.onUploadError=function(e,n){o.onUploadError(e,n,l,0),l.uploading=!1,l.errorMessage="An unexpected error has occured while uploading."},l.setUploadedImage=function(e,n){o.setUploadedImage(e,n,l,0).then(function(e){return t.hide(e)})},l.onUploadSucess=function(e,n){o.onUploadSucess(e,n,l,0).then(function(e,n){l.setUploadedImage(e,n)})},l.convertToImageAndUpload=function(){var e={files:[_dataURItoBlob(r.toDataURL("image/jpeg"))]};l.isUploading=!0,l.s3upload=new S3Upload({files_element:e,s3_sign_put_url:"/file/signS3",onProgress:function(e,n){console.log("Upload progress: "+e+"% "+n)},onFinishS3Put:function(n){l.setUploadedImage(e.files[0],n)},onError:function(e){console.log("Upload error: "+e),l.onUploadError(null,e)}})},l.incPage=function(e){e||(e=0),l.pageNumber+e<0||a&&l.pageNumber+e>a.numPages||(l.pageNumber=l.pageNumber+e,d())},l.onFilesSubmitted=function(e){if(l.isLoadingPdf=!0,_pdfjsDist.default.GlobalWorkerOptions.workerSrc="/dist/pdf.worker.bundle.js",!e||!e.length)return l.onUploadError(null,"The selected file is invalid. Please choose a PDF file.");var n=new FileReader;n.onload=function(e){_pdfjsDist.default.getDocument(n.result).promise.then(function(e){d(e)},function(e){console.log(e),l.onUploadError(null,"Something wrong happened while reading the PDF file. Make sure the file is valid.")})},n.readAsArrayBuffer(e[0].file)}}function _dataURItoBlob(e){var n;n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var o=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return new Blob([i],{type:o})}function _convertToFillOnAnImage(e){e.pdfPage=!0,e.type="question",e.name="Fill On An Image",e.title="Image Tagging",e.controller="ImageTaggingCTRL",delete e.isPremium,e.class_name="widget-table icon-fill-image",e.id=19}pdfUploadController.$inject=["$scope","$element","uploadfileservice","usSpinnerService","$mdDialog"],angular.module("wizer.widgets").component("pdfUploadWidget",{templateUrl:"/js/worksheet/widgets/components/pdfupload.component.html",controller:pdfUploadController,bindings:{pdfFile:"<"}}),pdfUploadController.$inject=["$scope","$element","uploadfileservice","usSpinnerService","$mdDialog"];

},{"pdfjs-dist":false}],"/home/node/app/assets/js/worksheet/widgets/components/reflection-ranking.component.js":[function(require,module,exports){
"use strict";function reflectionWidgetRankingController(n,e){var t=this;t.WS_STATE_CONST=e,t.setRanking=function(n){t.wsState!==e.ASSESS&&(t.ranking=n)}}reflectionWidgetRankingController.$inject=["$scope","WS_STATE_CONST"],angular.module("wizer.widgets").component("reflectionWidgetRanking",{templateUrl:"/js/worksheet/widgets/components/reflection-ranking.component.html",controller:reflectionWidgetRankingController,bindings:{ranking:"=",enabled:"<",wsState:"<"}}),reflectionWidgetRankingController.$inject=["$scope","WS_STATE_CONST"];

},{}],"/home/node/app/assets/js/worksheet/widgets/components/reflection.component.js":[function(require,module,exports){
"use strict";function reflectionWidgetController(t,e,i,n,r){var s=this;s.$onInit=function(){r.settings().then(function(t){s.usettings=t}),_.isUndefined(s.widget.rtdata.isRanking)&&(s.widget.rtdata.isRanking=!0),_.isUndefined(s.widget.rtdata.isFreeText)&&(s.widget.rtdata.isFreeText=!0),_.isUndefined(s.widget.rtdata.answerLines)&&(s.widget.rtdata.answerLines=1)},s.froalaAnswerOptions={placeholderText:"Write your answer...",direction:"auto",toolbarButtons:["bold","underline","fontSize","color","emoticons","insertImage","insertLink","|","formatOL","textDirection","|","specialCharacters","subscript","superscript","undo","redo","clearFormatting"]},s.renderHtml=function(t){return i.trustAsHtml(t)},s.WS_STATE_CONST=e,s.froalaAnswerOptions.heightMin=55*(s.widget.rtdata.answerLines?s.widget.rtdata.answerLines:1),s.froalaAnswerOptions.height=55*(s.widget.rtdata.answerLines?s.widget.rtdata.answerLines:1),s.getTitleLabel=function(){return s.titleLabel?s.titleLabel:"Title"},s.getInstructionsLabel=function(){return s.instructionsLabel?s.instructionsLabel:"Instructions"},s.questionsBank=n,t.$watch("$ctrl.isEdit",function(){!1===s.isEdit&&s.widget.rtdata.answerLines&&s.froalaAnswerOptions.froalaEditor&&(s.froalaAnswerOptions.froalaEditor("destroy"),s.froalaAnswerOptions.froalaEditor({direction:"auto",placeholderText:"Write your answer...",toolbarButtons:["bold","underline","fontSize","color","emoticons","insertImage","insertLink","|","formatOL","textDirection","|","specialCharacters","subscript","superscript","undo","redo","clearFormatting"],heightMin:55*(s.widget.rtdata.answerLines?s.widget.rtdata.answerLines:1)}))})}reflectionWidgetController.$inject=["$scope","WS_STATE_CONST","$sce","reflectionQuestions","UserSvc"],angular.module("wizer.widgets").component("reflectionWidget",{templateUrl:"/js/worksheet/widgets/components/reflection.component.html",controller:reflectionWidgetController,bindings:{widget:"=",solution:"<?",wsState:"<",isEdit:"=",seqid:"<"}}),reflectionWidgetController.$inject=["$scope","WS_STATE_CONST","$sce","reflectionQuestions","UserSvc"];

},{}],"/home/node/app/assets/js/worksheet/widgets/components/video/index.js":[function(require,module,exports){
"use strict";require("./video-button.component"),require("./video-player.component"),require("./video-recorder-dialog.component"),require("./video-recorder.component");

},{"./video-button.component":"/home/node/app/assets/js/worksheet/widgets/components/video/video-button.component.js","./video-player.component":"/home/node/app/assets/js/worksheet/widgets/components/video/video-player.component.js","./video-recorder-dialog.component":"/home/node/app/assets/js/worksheet/widgets/components/video/video-recorder-dialog.component.js","./video-recorder.component":"/home/node/app/assets/js/worksheet/widgets/components/video/video-recorder.component.js"}],"/home/node/app/assets/js/worksheet/widgets/components/video/video-button.component.js":[function(require,module,exports){
"use strict";function videoButtonController(e,t,o,n){var i=this;i.playVideo=!0,i.$onInit=function(){},i.removeVideo=function(t){t&&t.stopPropagation();var d=n.confirm().title("Are you sure you want to delete this video?").htmlContent("").targetEvent(t).ok("YES, DO IT!").cancel("CANCEL");n.show(d).then(function(){o.eventTrack("remove-video",{category:"video-player",label:"Remove uploaded video"}),i.widgetData.video={},e.$emit("formdirty")})}}videoButtonController.$inject=["$scope","$element","$analytics","$mdDialog"],angular.module("wizer.widgets").component("videoButton",{templateUrl:"/js/worksheet/widgets/components/video/video-button.component.html",controller:videoButtonController,bindings:{isLocked:"<",isFeedback:"<?",isStudentAnswer:"<?",widgetData:"=",state:"<",stateConstant:"<",isEdit:"<"}});

},{}],"/home/node/app/assets/js/worksheet/widgets/components/video/video-player.component.js":[function(require,module,exports){
"use strict";function videoPlayerController(e,o){var r,t=this;t.$onInit=function(){!function(){var e={controls:!0,loop:!1,fluid:!1,fullscreen:!0,width:320,height:240};t.poster&&t.poster.length&&(e.poster=t.poster);r=videojs(o.find(".videoElement")[0],e),t.videoUrl&&t.videoUrl.length&&(t.videoUrl.indexOf(".mp4")>-1?r.src({type:"video/mp4",src:t.videoUrl}):r.src({type:"video/webm",src:t.videoUrl}))}()}}videoPlayerController.$inject=["$scope","$element"],angular.module("wizer.widgets").component("videoPlayer",{templateUrl:"/js/worksheet/widgets/components/video/video-player.component.html",controller:videoPlayerController,bindings:{isStretch:"@?",videoUrl:"<?",poster:"<?"}});

},{}],"/home/node/app/assets/js/worksheet/widgets/components/video/video-recorder-dialog.component.js":[function(require,module,exports){
"use strict";function videoRecorderDialogController(e,o,r,i){var d,t=this;function n(e){t.isUploading=!1,t.errorMessage=e,delete t.uploadedPercent,delete t.uploadedVideoSize,t.showBrowserSupportError("Video upload failed. Please try again or let us know if the issue persists. Error: ".concat(e))}function l(e){t.uploadedUrl=e,t.isUploading=!1,delete t.uploadedPercent,delete t.uploadedVideoSize,t.showPlayer=!1,t.isDialog&&r.hide(e)}t.isUploading=!1,t.$onInit=function(){!function(){window.MediaRecorder||t.showBrowserSupportError("Video recording is not currently supported for your browser. To resolve the issue, please visit our <a href='http://help.wizer.me/en/articles/4546652-enabling-video-recording-in-safari'>help center article</a>.");d=videojs(o.find(".videoElement")[0],{controls:!0,loop:!1,fluid:!1,bigPlayButton:!1,width:320,height:240,plugins:{record:{image:!1,audio:!0,video:!0,maxLength:30,debug:!1}}}),t.uploadedUrl&&t.uploadedUrl.length&&d.src({type:"video/webm",src:t.uploadedUrl});d.on("startRecord",function(){t.isRecording=!0}),d.on("deviceError",function(){console.log("deviceError with error code: ",d.deviceErrorCode),t.isRecording=!1}),d.on("finishRecord",function(){t.isRecording=!1,t.recordedVideo=d.recordedData&&d.recordedData.size>0;try{e.$apply()}catch(e){}}),d.on("error",function(){console.log("player recorder error",d.error())})}()},t.cancel=function(){t.isDialog&&r.hide(),t.showPlayer=!1},t.showBrowserSupportError=function(e){t.cancel();var o={bottom:!0,top:!1,left:!1,right:!0};i.show({template:['<md-toast class="browser-audio-support-popup">',"<span flex>",e,"</span>",'<div class="text-right clickable toaster-action-button" ng-click="hideToast()">OK</div>',"</md-toast>"].join(""),hideDelay:0,position:Object.keys(o).filter(function(e){return o[e]}).join(" "),controller:["$scope","$mdToast",function(e,o){e.hideToast=function(){o.hide()}}]})},t.uploadFile=function(){d.recordedData&&d.recordedData.size?(t.isUploading=!0,t.uploadedVideoSize=0,t.uploadPercent=0,t.s3upload=new S3Upload({files_element:{files:[new File([d.recordedData],"filename")]},s3_sign_put_url:"/file/signS3",s3_object_name:"video",onProgress:function(e,o){t.uploadPercent=e,t.uploadedVideoSize=t.videoSize*(e/100)},onFinishS3Put:l,onError:n})):n("No Video was recorded")}}videoRecorderDialogController.$inject=["$scope","$element","$mdDialog","$mdToast"],angular.module("wizer.widgets").component("videoRecorderDialog",{templateUrl:"/js/worksheet/widgets/components/video/video-recorder-dialog.component.html",controller:videoRecorderDialogController,bindings:{usettings:"<",uploadedUrl:"=?",showPlayer:"=?",isDialog:"<?"}});

},{}],"/home/node/app/assets/js/worksheet/widgets/components/video/video-recorder.component.js":[function(require,module,exports){
"use strict";function videoRecorderController(e,o,i,r,t){var a=this;a.showPlayer=!1,a.$onInit=function(){r.settings().then(function(e){a.usettings=e});var e=function(){return-1!=navigator.appVersion.indexOf("MSIE")},o=(navigator.appVersion,function(){var e=999;return-1!=navigator.appVersion.indexOf("MSIE")&&(e=parseFloat(navigator.appVersion.split("MSIE")[1])),e});e()&&o()<9?a.isVideoRecordingEnabled=!1:a.isVideoRecordingEnabled=!0},a.isUserPremium=function(){return a.usettings&&(a.usettings.CREATE_WORKSHEET||a.usettings.PERSONALIZATION)},a.openVideoDialog=function(i){if(!a.isUserPremium()){return o.show({template:'<upgrade-account-dialog upgrade-msg="Upgrade now to unlock <b>recorded video instructions</b><br/> as well as <b>Video Answers</b> for your learners!"></upgrade-account-dialog>',hasBackdrop:!1,clickOutsideToClose:!0})}a.widgetData&&!a.widgetData.video&&(a.widgetData.video={}),a.isDialog?o.show({targetEvent:i,template:'<md-dialog class="video-recorder-dialog" aria-label="Dialog for Video recording">     <video-recorder-dialog uploaded-url="$ctrl.widgetData.video.url" is-dialog="true"></video-recorder-dialog></md-dialog>'}).then(function(o){o&&o.length&&(a.widgetData.video.url=o,e.$emit("formdirty"),t.$broadcast("video-added"))}):a.showPlayer=!0}}videoRecorderController.$inject=["$scope","$mdDialog","$element","UserSvc","$rootScope"],angular.module("wizer.widgets").component("videoRecorder",{templateUrl:"/js/worksheet/widgets/components/video/video-recorder.component.html",controller:videoRecorderController,bindings:{isPremium:"<?",isDisabled:"<?",state:"<",stateConst:"<",isEdit:"<",widgetData:"=?",isDialog:"<?"}});

},{}],"/home/node/app/assets/js/worksheet/widgets/components/widgetEditTitle.component.js":[function(require,module,exports){
"use strict";function widgetEditTitleComponent(){return{templateUrl:"/js/worksheet/widgets/components/widgetEditTitle.component.html",controller:widgetEditTitleComponentController,controllerAs:"$ctrl",bindings:{widgetData:"=",state:"<",stateConstant:"<",isEdit:"<",seqid:"<",titleLabel:"@",instructionsLabel:"@",hideDescription:"@",hideTitle:"@",enableQuestionsBank:"@?",questionsBank:"="}}}function widgetEditTitleComponentController(t,e){var i=this;i.isVideoWidget=function(){return!!(i.widgetData&&i.widgetData.video&&i.widgetData.video.videoId)},i.$onInit=function(){e.settings().then(function(t){i.usettings=t})},i.overrideTitleWithPreset=function(){if(i.selectedPresetQuestion&&i.selectedPresetQuestion.length){if(i.widgetData&&i.widgetData.title&&i.widgetData.title.length){var e=t.confirm().htmlContent("Choosing a preset question will override the existing question you have typed, are you sure?").ok("Yes, override").cancel("Cancel");return t.show(e).then(function(){i.widgetData.title=i.selectedPresetQuestion})}i.widgetData&&(i.widgetData.title=i.selectedPresetQuestion)}},i.froalaOptions={placeholderText:"Write question here..."},i.froalaInstructionsOptions={placeholderText:"Write instructions here..."},i.getTitleLabel=function(){return i.titleLabel?i.titleLabel:"Title"},i.getInstructionsLabel=function(){return i.instructionsLabel?i.instructionsLabel:"Instructions"}}angular.module("wizer.widgets").component("widgetEditTitle",widgetEditTitleComponent()),widgetEditTitleComponentController.$inject=["$mdDialog","UserSvc"];

},{}],"/home/node/app/assets/js/worksheet/widgets/components/widgetViewTitle.component.js":[function(require,module,exports){
"use strict";function widgetViewTitleComponent(){return{templateUrl:"/js/worksheet/widgets/components/widgetViewTitle.component.html",controller:widgetViewTitleComponentController,controllerAs:"$ctrl",bindings:{widgetData:"=",state:"<",stateConstant:"<",isEdit:"<",seqid:"<"}}}function widgetViewTitleComponentController(t,e){var i=this;i.isVideoWidget=function(){return!!(i.widgetData&&i.widgetData.video&&i.widgetData.video.videoId)},i.renderHtml=function(t){return e.trustAsHtml(t)},i.needSeparator=function(){return!!i.widgetData.title&&-1===i.widgetData.title.search(/<hr.*>/g)}}angular.module("wizer.widgets").component("widgetViewTitle",widgetViewTitleComponent()),widgetViewTitleComponentController.$inject=["$scope","$sce"];

},{}],"/home/node/app/assets/js/worksheet/widgets/components/wordsearch.component.js":[function(require,module,exports){
"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,o=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(i=r.next()).done)&&(o.push(i.value),!t||o.length!==t);l=!0);}catch(e){a=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw n}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function wordsearchWidgetController(e,t,r,i,n){var o=this;o.initialized=!1,o.WS_STATE_CONST=t,o.inputWordsLangPattern=/^[\u0000-\u007F\u0080-\u00FF\u0100-\u017F\u0180-\u024F]+$/i,o.levelMap={beginner:{value:"beginner",label:"Beginner",height:8,width:12,maxWords:10,wordListColNum:5,cssCellClass:"",info:["12 X 8 Grid","Words placed forward","Largest font size"],directions:_.shuffle([[1,0]])},intermediate:{value:"intermediate",label:"Intermediate",height:12,width:18,maxWords:16,wordListColNum:4,cssCellClass:"smaller",info:["18 X 12 Grid","Words placed forward, down and diagonally","Medium font size"],directions:_.shuffle([[1,0],[0,1],[1,-1],[1,1],[-1,1]])},advanced:{value:"advanced",label:"Advanced",height:16,width:23,maxWords:20,wordListColNum:5,cssCellClass:"smallest",info:["23 X 16 Grid","Words placed forward, backwards, down and diagonally","Smallest font size"],directions:_.shuffle([[1,0],[-1,0],[0,1],[0,-1],[1,-1],[1,1],[-1,1]])}},o.$onInit=function(){i.settings().then(function(e){o.usettings=e}),o.widget.calcScore=function(){return o.assessment||(o.assessment={}),o.assessment=$widgetScoring.calcAssessment(o.widget,o.solution,o.assessment),o.assessment},o.widget.rtdata.description||(o.widget.rtdata.description="To mark a word click its first letter then click its last."),o.levelList=[o.levelMap.beginner,o.levelMap.intermediate,o.levelMap.advanced],_.isUndefined(o.widget.rtdata.wordList)&&(o.widget.rtdata.wordList=[]),_.isUndefined(o.widget.rtdata.level)?o.selectedLevel=o.levelMap.beginner.value:o.selectedLevel=o.widget.rtdata.level,o.onLevelChanged(),o.setCellStyling(),o.widget.rtdata.grid?(o.grid=Object.assign(new n,_.cloneDeep(o.widget.rtdata.grid)),o.foundWords=o.widget.rtdata.foundWords,o.solution&&_.isEmpty(o.solution)?(o.solution.grid=o.grid,o.solution.foundWords=[]):o.solution.grid=Object.assign(new n,o.solution.grid)):e.$emit("invalidInput","Please specify at least one valid puzzle word."),o.initialized=!0},o.maxWordLength=function(){return Math.max(o.gridHeight,o.gridWidth)},o.resizeWordList=function(e){if(e!==o.widget.rtdata.wordList.length){for(;e>o.widget.rtdata.wordList.length;)o.widget.rtdata.wordList.push({value:""});for(;e<o.widget.rtdata.wordList.length;)o.widget.rtdata.wordList.pop()}},o.range=function(e){return _toConsumableArray(Array(e).keys())},o.onLevelChanged=function(){var e=o.levelMap[o.selectedLevel];o.gridHeight=e.height,o.gridWidth=e.width,o.wordListColNum=e.wordListColNum,o.wordDirections=e.directions,o.levelInfo=e.info,o.resizeWordList(e.maxWords)},o.setCellStyling=function(){var e=o.levelMap[o.selectedLevel];o.cssCellClass=e.cssCellClass},o.saveWordSearchGrid=function(t,r){o.widget.rtdata.foundWords=_.cloneDeep(r),o.widget.rtdata.grid=_.cloneDeep(t),e.$emit("formdirty")},o.calcWidgetPoints=function(t){o.widget.manualPoint&&!1!==o.widget.manualPoint||(o.widget.point=t.length),e.$emit("pointsChanged"),e.$emit("recalc_score")},e.$watchCollection("$ctrl.getFilteredNormalizedWordList()",function(t){o.initialized&&o.isEdit&&(0===t.length?e.$emit("invalidInput","Please specify at least one valid puzzle word."):(e.$emit("validInput"),!_.isUndefined(o.grid)&&_.isEqual(o.grid.words,t)||o.redrawGrid()))}),o.getFilteredNormalizedWordList=function(){return Array.from(o.widget.rtdata.wordList).filter(function(e){return!!e.value}).map(function(e){return e.value.toUpperCase().replace(/ +/g,"")})},o.redrawGrid=function(){var e=o.getFilteredNormalizedWordList();o.grid=new n(o.gridWidth,o.gridHeight,o.wordDirections,50,e),o.foundWords=[],o.widget.rtdata.level=o.selectedLevel,o.setCellStyling(),o.calcWidgetPoints(e),o.saveWordSearchGrid(o.grid,o.foundWords)},o.renderHtml=function(e){return r.trustAsHtml(e)},o.getTitleLabel=function(){return o.titleLabel?o.titleLabel:"Title"},o.getInstructionsLabel=function(){return o.instructionsLabel?o.instructionsLabel:"Instructions"}}function wordsearchWidgetGridController(e,t){var r=this;r.WS_STATE_CONST=t,r.NUM_COLORS=5,r.colorIndex=1,r.colorClass="color1",r.isInputEnabled=function(){return r.wsState!==r.WS_STATE_CONST.ASSESS&&!r.isSearchCompleted()},r.isSearchCompleted=function(){return 0===r.grid.words.length},r.cellClicked=function(e){if(r.isInputEnabled()){if(null==r.selectedCell)return e.isSelected=!0,r.selectedCell=e;var t=r.grid.getPathFromCells(r.selectedCell,e);return r.selectedCell.isSelected=!1,r.selectedCell=null,r._submitPath(t),r.clearPath()}},r.wordFromPath=function(e){var t="";if(null!=e)for(var r=0,i=Array.from(e);r<i.length;r++){t+=i[r].letter}return t},r.updatePath=function(e){if(null!=r.selectedCell){var t=r.grid.getPathFromCells(r.selectedCell,e);if(null!=t)return function(){for(var i=[],n=0,o=Array.from(t);n<o.length;n++){var l;(e=o[n]).onPath=!0,l=r.wordFromPath(t),Array.from(r.grid.words).includes(l)?i.push(e.onCorrectPath=!0):i.push(void 0)}return i}()}},r.clearPath=function(){return Array.from(r.grid.cells).map(function(e){return function(){for(var t=[],r=0,i=Array.from(e);r<i.length;r++){var n=i[r];n.onPath=!1,t.push(n.onCorrectPath=!1)}return t}()})},r._submitPath=function(t){var i=r.wordFromPath(t);if(Array.from(r.grid.words).includes(i)){r.grid.words.splice(r.grid.words.indexOf(i),1),r.foundWords.unshift({word:i,colorClass:r.colorClass});for(var n=0,o=Array.from(t);n<o.length;n++){o[n].solvedColorClasses.push(r.colorClass)}if(r.nextColor(),r.wsState===r.WS_STATE_CONST.SOLVE&&(console.log("solution marked as changed"),e.$emit("formdirty")),r.isSearchCompleted()){return setTimeout(function(){return alert("Congratulations, you found all ".concat(r.foundWords.length," words!"))},400)}}},r.nextColor=function(){return r.colorIndex=r.colorIndex%r.NUM_COLORS+1,r.colorClass="color".concat(r.colorIndex)}}wordsearchWidgetGridController.$inject=["$scope","WS_STATE_CONST"],wordsearchWidgetController.$inject=["$scope","WS_STATE_CONST","$sce","UserSvc","wordsearchGrid"],angular.module("wizer.widgets").factory("wordsearchCell",function(){return function(){function e(t,r){_classCallCheck(this,e),this.x=t,this.y=r,this.solvedColorClasses=[],this.isSelected=!1,this.onPath=!1,this.onCorrectPath=!1}return _createClass(e,[{key:"willFitLetter",value:function(e){return null==this.letter||this.letter===e}},{key:"randomFill",value:function(){if(null==this.letter)return this.letter=_.sample("AABBCCDDEEFFGGHHIIJKLLMMNNOOPPQRSSTTUUVWXYZ")}}]),e}()}).factory("wordsearchGrid",["wordsearchCell",function(e){function t(e,t,r){for(var i=[],n=e<t,o=r?n?t+1:t-1:t,l=e;n?l<o:l>o;n?l++:l--)i.push(l);return i}return function(){function r(i,n,o,l,a){var s=this;_classCallCheck(this,r),this.width=i,this.height=n,this.directions=o,this.cells=t(0,this.height-1,!0).map(function(r){return t(0,s.width-1,!0).map(function(t){return new e(t,r)})}),this.words=[],a=_.sortBy(_.shuffle(a),function(e){return-1*e.length});for(var d=1,c=l,u=1<=c;u?d<=c:d>=c;u?d++:d--)for(var h=0,f=Array.from(a);h<f.length;h++){var g=f[h];if(!Array.from(this.words).includes(g)&&this._tryPutWord(g))break}for(var w=0,m=Array.from(this.cells);w<m.length;w++)for(var y=m[w],p=0,C=Array.from(y);p<C.length;p++){C[p].randomFill()}this.words=_.sortBy(this.words,function(e){return-1*e.length})}return _createClass(r,[{key:"_tryPutWord",value:function(e){var t,r=_slicedToArray(Array.from(this.directions[this.words.length%this.directions.length]),2),i=r[0],n=r[1];if(0!==i&&e.length>this.width||0!==n&&e.length>this.height)return!1;var o=_.random(-1===i?e.length-1:0,1===i?this.width-e.length:this.width-1),l=_.random(-1===n?e.length-1:0,1===n?this.height-e.length:this.height-1),a=o+i*(e.length-1),s=l+n*(e.length-1),d=this._getPath([o,l],[a,s]);if(!d)return!1;for(t=0;t<d.length;t++)if(!d[t].willFitLetter(e[t]))return!1;for(t=0;t<d.length;t++)d[t].letter=e[t];return this.words.push(e),!0}},{key:"_getPath",value:function(e,t){for(var r=_slicedToArray(Array.from(e),2),i=r[0],n=r[1],o=_slicedToArray(Array.from(t),2),l=o[0],a=o[1],s=l-i,d=a-n,c=0===s?0:s/Math.abs(s),u=0===d?0:d/Math.abs(d),h=[];i>=0&&n>=0&&i<this.width&&n<this.height;){if(h.push(this.cells[n][i]),i===l&&n===a)return h;i+=c,n+=u}return null}},{key:"getPathFromCells",value:function(e,t){return this._getPath([e.x,e.y],[t.x,t.y])}}]),r}()}]).component("wordsearchWidget",{templateUrl:"/js/worksheet/widgets/components/wordsearch.component.html",controller:wordsearchWidgetController,bindings:{widget:"=",assessment:"=",solution:"=?",wsState:"<",isEdit:"=",seqid:"<"}}).component("wordsearchWidgetGrid",{templateUrl:"/js/worksheet/widgets/components/wordsearch-grid.component.html",controller:wordsearchWidgetGridController,bindings:{grid:"=",foundWords:"=",cssCellClass:"<",wsState:"<"}}),wordsearchWidgetController.$inject=["$scope","WS_STATE_CONST","$sce","UserSvc","wordsearchGrid"],wordsearchWidgetGridController.$inject=["$scope","WS_STATE_CONST"];

},{}],"/home/node/app/assets/js/worksheet/widgets/differentiation-picker/widget-differentiation-picker.component.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.widgetDiffrentationPickerComponent=widgetDiffrentationPickerComponent;var _premiumOptions=require("../premium-options");function widgetDiffrentationPickerComponent(){return{templateUrl:"/js/worksheet/widgets/differentiation-picker/widget-differentiation-picker.component.html",controller:widgetDifferentiationPickerController,bindings:{widget:"=",isEdit:"=",isGroupsRefreshing:"<",choiceQuestionPos:"=?",wsState:"=",stateConst:"=",usettings:"<"}}}function widgetDifferentiationPickerController(e,i,t,r,o,n,s){var d=this;function p(){d.availableGroups=[],d.selectedGroups={},r.onGroupsChanged(u),u()}function u(){r.getGroups().then(function(i){if(!i||!i.length)return d.widget.groups=[],void(d.widget.isDifferentiated=!1);var r=_.keyBy(i,"id"),o=!1;if(d.widget.groups&&d.widget.groups.length){var n=angular.copy(d.widget.groups);_.forEach(d.widget.groups,function(e,i){if(_.isUndefined(r[e]))return n.splice(i,1),void(o=!0);_.isUndefined(e)||null==e||(d.selectedGroups[e]=!0)}),d.widget.groups=n,n&&n.length||(d.widget.isDifferentiated=!1)}d.availableGroups=_.toArray(r),o&&t(function(){e.$emit("formdirty")})})}d.availableGroups=[],d.selectedGroups={},d.toggleWidgetDifferentiation=function(e){i.eventTrack("payment-sale-popup-ws-dirules",{category:"payment",label:"Sale Popup - Worksheet DI Rules"}),d.widget.isDifferentiated||(delete d.widget.groups,d.selectedGroups={})},d.setGroupToWidget=function(e,i){if(!e)return!1;_.isUndefined(d.widget.groups)&&(d.widget.groups=[]);(i=d.widget.groups.indexOf(e.id))>-1?(d.widget.groups.splice(i,1),function(e){_.isUndefined(d.selectedGroups[e.id])||delete d.selectedGroups[e.id]}(e)):(d.widget.groups.push(e.id),function(e){_.isUndefined(d.selectedGroups[e.id])?d.selectedGroups[e.id]=!0:!0===d.selectedGroups[e.id]&&(d.widget.isDifferentiated||(d.widget.isDifferentiated=!0))}(e));return d.selectedGroups[e.id]},d.openGroupsPopup=function(e){e&&e.stopPropagation();i.eventTrack("payment-sale-popup-dirules",{category:"payment",label:"Sale Popup - Worksheet DI Rules"}),r.showGroupsPopup(e).then(p,p)},d.filterSelectedGroup=function(e){return _.filter(d.availableGroups,function(i){return!_.isUndefined(e[i.id])&&1==e[i.id]})},d.showHelp=function(e){var i=s.WIZARD_DATA_ID_MAP.EDITOR,t=s.WIZARD_DATA_ID_MAP["EDITOR.DIFFERENTIATE"];s.openHelpWizard(e,i,t)},p()}widgetDifferentiationPickerController.$inject=["$rootScope","$analytics","$timeout","LearnerGroupService","$mdDialog","premiumDlg","HelpWizardService"];

},{"../premium-options":"/home/node/app/assets/js/worksheet/widgets/premium-options.js"}],"/home/node/app/assets/js/worksheet/widgets/editor/worksheet-widget-edit.directive.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.worksheetWidgetEditDirective=void 0,worksheetWidgetEditController.$inject=["$scope","$rootScope","$window","$element","$attrs","$transclude","$worksheetSvc","$analytics","$mdDialog","$timeout","WS_STATE_CONST","UserSvc","Users"];var worksheetWidgetEditDirective=function(){return{restrict:"E",scope:{worksheet:"=",widget:"=",widgetPos:"=",choiceQuestionPos:"=?",isChoiceQuestion:"<?",isChoiceEdit:"=?",isValidWidget:"=?",wsState:"=",validationErrors:"=?",isDeleted:"<"},templateUrl:"/js/worksheet/widgets/editor/worksheet-widget-edit.directive.html",link:function(e){e.solution={},e.$watch("wsState",function(t){void 0!==t&&(e.solution={})})},controller:worksheetWidgetEditController}};function worksheetWidgetEditController(e,t,i,o,r,n,s,d,a,g,c,l,w){e.WS_STATE_CONST=c,e.isEdit=e.isChoiceEdit||!1,e.isValidWidget=!0,l.settings().then(function(t){e.usettings=t}),w.profileAsync().then(function(t){e.userProfile=t}),e.$watch("isChoiceEdit",function(t,i){_.isUndefined(t)?e.cancelEdit(void 0,!0):t!==i&&e.changeChoiceState()}),t.$on("widgetDeleted",function(t,i){i.seqid==e.widget.seqid&&e.remove()}),e.$on("invalidInput",function(t,i){e.isValidWidget=!1,e.isInvalidInput=!0,e.validationErrors=i}),e.$on("validInput",function(){e.isValidWidget=!0,e.isInvalidInput=!1,e.showErrorMsg=!1,e.validationErrors=""}),e.$on("invalidInputConfirm",function(t,i,o,r){e.isInvalidInputConfirm=!0,e.errorConfirmMsg=i,e.errorConfirmMsgOkBtnText=o||"Yes",e.errorConfirmMsgCancelBtnText=r||"Cancel"}),e.$on("validInputConfirm",function(){e.isInvalidInputConfirm=!1,e.errorConfirmMsg="",e.errorConfirmMsgOkBtnText="",e.errorConfirmMsgCancelBtnText=""}),e.toggleEdit=function(t){if(void 0!==t&&t.stopPropagation(),!(t&&t.isImmediatePropagationStopped&&t.isImmediatePropagationStopped()||e.isdragging)){if(e.isInvalidInput&&e.isEdit)return e.showErrorMsg=!0,!1;if(e.isInvalidInputConfirm&&e.isEdit){var i=a.confirm().title(e.errorConfirmMsg).textContent("").targetEvent(t).ok(e.errorConfirmMsgOkBtnText).cancel(e.errorConfirmMsgCancelBtnText);a.show(i).then(function(){e.changeState()})}else e.changeState()}},e.changeChoiceState=function(){e.isChoiceEdit?(e.preEditData=angular.copy(e.widget.rtdata),e.isEdit=!0):(e.isEdit=!1,e.widget.groups&&!e.widget.groups.length&&(delete e.widget.groups,e.widget.isDifferentiated=!1),e.widget.updateAt=(new Date).getTime(),e.preEditData&&delete e.preEditData)},e.changeState=function(){if(e.isEdit=!e.isEdit,!1===e.isEdit){if(s.closeWidget(e.widget,o[0]),e.isShouldCancelEdit(e.widget))return void e.remove();e.widget.updateAt=(new Date).getTime(),e.preEditData=void 0,e.widget.groups&&!e.widget.groups.length&&(delete e.widget.groups,e.widget.isDifferentiated=!1)}else s.openWidget(e.widget,o[0],e),e.preEditData=angular.copy(e.widget.rtdata)},e.isShouldCancelEdit=function(t){return e.isChoiceQuestion&&0==t.updateAt||0==t.updateAt||t.isEmpty&&t.isEmpty()},e.cancelEdit=function(t){void 0!==t&&t.stopPropagation(),e.isEdit=!1,e.isInvalidInput=!1,e.showErrorMsg=!1,e.isInvalidInputConfirm=!1,e.errorConfirmMsg="",e.errorConfirmMsgOkBtnText="",e.errorConfirmMsgCancelBtnText="",s.closeWidget(e.widget,o[0]),e.isShouldCancelEdit(e.widget)?e.remove():e.widget.rtdata=e.preEditData},e.removeAll=function(t){void 0!==t&&(t.stopPropagation(),t.preventDefault());var i=a.confirm().title("Are you sure?").textContent("This will also delete ALL of the choice questions").targetEvent(t).ok("YES, DO IT!").cancel("CANCEL");a.show(i).then(function(){e.removeWidget(!0)})},e.remove=function(t){if(void 0!==t&&t.stopPropagation(),t){var i=a.confirm().title("Are you sure you want to delete this question?").textContent("").targetEvent(t).ok("YES, DO IT!").cancel("CANCEL");a.show(i).then(function(){e.removeWidget()})}else e.removeWidget()},e.removeWidget=function(t){d.eventTrack("remove-widget",{category:"editor",label:"Remove widget from worksheet"});var i=e.widgetPos,o=e.worksheet.widgets;if(!0===t||!_.isArray(o[i]))return o.splice(i,1),void e.$emit("formdirty");var r=e.choiceQuestionPos;_.isArray(o)&&!_.isUndefined(r)&&(o[i].splice(r,1),1==o[i].length&&(o[i]=o[i][0]),e.$emit("formdirty"))},e.moveUp=function(){var t=e.worksheet.widgets[e.widgetPos-1];e.worksheet.widgets[e.widgetPos-1]=e.worksheet.widgets[e.widgetPos],e.worksheet.widgets[e.widgetPos]=t},e.moveDown=function(){var t=e.worksheet.widgets[e.widgetPos+1];e.worksheet.widgets[e.widgetPos+1]=e.worksheet.widgets[e.widgetPos],e.worksheet.widgets[e.widgetPos]=t}}exports.worksheetWidgetEditDirective=worksheetWidgetEditDirective;

},{}],"/home/node/app/assets/js/worksheet/widgets/image-tag-widget.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("imagetagwidget",["$timeout","$compile",function(t,e){return{templateUrl:"/js/worksheet/widgets/templates/wsimagetag.html",restrict:"E",scope:{edit:"=",tag:"=",state:"=",stateConst:"=",widgetAssess:"=",parentRemoveTag:"&",getTeacherFeedback:"&",tagOpen:"=",isPrint:"&"},link:function(e,s,a){e.checkFocus=function(){e.tag.isLast&&t(function(){s.find('[name="edit_mode"]').focus()},100)},e.state===e.stateConst.EDIT&&(e.tag.isLast&&t(function(){e.checkFocus()},100),e.tag.isNew&&t(function(){e.edit&&(e.tag.showInput=!0),delete e.tag.isNew},100)),e.state!==e.stateConst.EDIT&&e.state!==e.stateConst.ASSESS||(e.tagOpen?e.tag.showInput=!0:delete e.tag.showInput),e.toggleInput=function(t){t.stopPropagation(),e.tag.showInput?e.hideInput():e.enableInput()},e.enableInput=function(){e.tag.showInput=!0,t(function(){s.find('[name="edit_mode"]').focus()},100)},e.hideInput=function(){delete e.tag.showInput,delete e.tag.onTop},e.enableAutoGrow=function(t){s.find('[name="'+t+'"]').height(s.find('[name="'+t+'"]').prop("scrollHeight")-12),e.tag.onTop=!0,e.state!==e.stateConst.PREVIEW&&e.state!==e.stateConst.EMBED||e.checkComplete(e.tag.previewText),e.state===e.stateConst.SOLVE&&e.checkComplete(e.tag.text)},e.disableAutoGrow=function(t){e.state!=e.stateConst.ASSESS&&s.find('[name="'+t+'"]').height(21)},e.state===e.stateConst.ASSESS&&t(function(){e.enableAutoGrow("edit_mode")},1e3),e.checkComplete=function(t){var s=e.isComplete;e.isComplete=!!t,s&&!e.isComplete?e.$emit("completeCount:changed",!1):!s&&e.isComplete&&e.$emit("completeCount:changed",!0)},e.$watch("state",function(t,s){e.state!==e.stateConst.PREVIEW&&e.state!==e.stateConst.EMBED||(e.tag.previewText="",e.checkComplete(e.tag.previewText)),e.changePlaceholderText()}),e.$watch("tagOpen",function(t,s){e.state!==e.stateConst.EDIT&&e.state!==e.stateConst.ASSESS||(e.tagOpen?e.tag.showInput=!0:delete e.tag.showInput)}),e.markAsComplete=function(){e.state===e.stateConst.PREVIEW||e.state===e.stateConst.EMBED?e.tag.previewText&&(e.isComplete=!0):e.state===e.stateConst.SOLVE&&e.tag.text&&(e.isComplete=!0)},e.changePlaceholderText=function(){e.state===e.stateConst.ASSESS?e.placeHolderText="":e.placeHolderText="Enter text"},e.getTagAssessment=function(){if(e.widgetAssess)return e.widgetAssess.tags||(e.widgetAssess.tags={}),null!=e.widgetAssess.tags[e.tag.addedOn]?e.widgetAssess.tags[e.tag.addedOn]:e.widgetAssess.autoAssessment&&null!=e.widgetAssess.autoAssessment[e.tag.addedOn]?e.widgetAssess.autoAssessment[e.tag.addedOn]:void 0},e.tagTextChanged=function(t){e.state==e.stateConst.ASSESS&&t.preventDefault()},e.toggleAnswer=function(){e.state==e.stateConst.ASSESS&&(e.widgetAssess.tags||(e.widgetAssess.tags={}),void 0===e.widgetAssess.tags[e.tag.addedOn]?e.widgetAssess.tags[e.tag.addedOn]=!e.tag.right:e.widgetAssess.tags[e.tag.addedOn]=!e.widgetAssess.tags[e.tag.addedOn],e.$emit("tag:answe:toggled"),e.$emit("formdirty"))},e.markAsComplete(),e.changePlaceholderText()}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/image-tagging-directive.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wsimagetag",["$widgetScoring",function(t){return{restrict:"E",scope:{widget:"=",assessment:"=",solution:"=?",wsState:"=",isEdit:"=",usettings:"<"},templateUrl:"/js/worksheet/widgets/templates/wsimagetagging.html",controller:["$scope","$mdDialog","$element","$attrs","$transclude","uploadfileservice","$sce","WS_STATE_CONST","$analytics",function(t,e,a,i,n,o,d,r,g){t.WS_STATE_CONST=r,t.tagToggle={},t.wsState===t.WS_STATE_CONST.EDIT?t.tagToggle.open=!1:t.wsState===t.WS_STATE_CONST.ASSESS&&(t.tagToggle.open=!0),t.getPosition=function(t){var e={};return t.left?e.left=t.positionX:e.right=t.positionX,t.top?e.top=t.positionY:e.bottom=t.positionY,e},t.getTagOnTop=function(e){if(t.wsState===t.WS_STATE_CONST.EDIT||t.wsState===t.WS_STATE_CONST.PREVIEW||t.wsState===t.WS_STATE_CONST.EMBED)angular.forEach(t.widget.rtdata.tags,function(t,e){delete t.onTop});else{if(t.wsState!==t.WS_STATE_CONST.ASSESS&&t.wsState!==t.WS_STATE_CONST.SOLVE)return;angular.forEach(t.solution.tags,function(t,e){delete t.onTop})}e.onTop=!0},t.$on("tag:answe:toggled",function(e,a){var i=t.widget.calcScore();t.assessment=i}),t.$on("completeCount:changed",function(e,a){a?t.completedCount++:t.completedCount--}),t.$watch("widget.rtdata.tags",function(e,a){t.checkTagAdded()},!0),t.$watch("widget.rtdata.image.url",function(e,a){t.checkTagAdded()},!0),t.checkTagAdded=function(){t.wsState===t.WS_STATE_CONST.EDIT&&t.isEdit&&t.widget.rtdata.image&&t.widget.rtdata.image.url&&(t.widget.rtdata.tags.length<=0?t.$emit("invalidInput","Enter some tags on the image"):t.$emit("validInput"),t.widget.rtdata.tags&&t.widget.rtdata.tags.length?t.widget.point=t.widget.rtdata.tags.length:t.widget.point=1,t.$emit("pointsChanged"))},t.tagImage=function(e){var a,i,n,o,d,r,g,s,l=!0,u=!0,c=!1;if(t.isEdit&&t.wsState==t.WS_STATE_CONST.EDIT){var S=t.widget.rtdata.tags.length;S&&delete t.widget.rtdata.tags[S-1].isLast,e.offsetX/$(e.currentTarget).width()*100>=70?(l=!1,d=e.offsetX+12):d=e.offsetX-12,d<0?d=0:d>$(e.currentTarget).width()&&(d=$(e.currentTarget).width()),a=d-20<=0?0:(d-20)/$(e.currentTarget).width()*100,i=d+20>=$(e.currentTarget).width()?100:(d+20)/$(e.currentTarget).width()*100,g=d/$(e.currentTarget).width()*100,l||(g=100-g),$(e.currentTarget).height()-e.offsetY<=45?(u=!1,r=e.offsetY+17):r=e.offsetY-17,r<0?r=0:r>$(e.currentTarget).height()&&(d=$(e.currentTarget).height()),n=r-20<=0?0:(r-20)/$(e.currentTarget).height()*100,o=r+20>=$(e.currentTarget).height()?100:(r+20)/$(e.currentTarget).height()*100,s=r/$(e.currentTarget).height()*100,u||(s=100-s),angular.forEach(t.widget.rtdata.tags,function(t,e){var d,r;d=t.left?parseFloat(t.positionX.replace("%","")):100-parseFloat(t.positionX.replace("%","")),r=t.top?parseFloat(t.positionY.replace("%","")):100-parseFloat(t.positionY.replace("%","")),d>=a&&d<=i&&r>=n&&r<=o&&(c=!0)}),c||(t.widget.rtdata.tags.push({positionX:g+"%",positionY:s+"%",left:l,top:u,addedOn:(new Date).getTime(),text:"",isLast:!0,isNew:!0}),t.$emit("formdirty"))}},t.removeTag=function(e){angular.forEach(t.widget.rtdata.tags,function(a,i){if(a.addedOn===e.addedOn)return t.widget.rtdata.tags.splice(i,1),!1})},t.isUploading=function(){return o.isUploading(t,t.$index)},t.onUploadStart=function(){o.onUploadStart(t)},t.onUploadError=function(e,a){o.onUploadError(e,a,t)},t.onPdfFilesSubmitted=function(a,i){return t.pdfFiles=a,e.show({targetEvent:i,template:'<md-dialog>  <md-dialog-content style="overflow: auto !important;">     <pdf-upload-widget pdf-file="pdfFiles"></pdf-upload-widget>  </md-dialog-content></md-dialog>',scope:t,preserveScope:!0}).then(function(e){e&&(t.widget.rtdata.image||(t.widget.rtdata.image={}),t.widget.rtdata.image.url=e)})},t.onFilesSubmitted=function(e,a){o.onFilesSubmitted(e,a,t).then(function(e){t.setUploadedImage(e.file,e.url,t)},function(e){t.onUploadError(null,e,t)})},t.setUploadedImage=function(e,a){o.setUploadedImage(e,a,t).then(function(e){t.widget.rtdata.image||(t.widget.rtdata.image={}),t.widget.rtdata.image.url=e})},t.onUploadSucess=function(e,a){o.onUploadSucess(e,a,option,index).then(function(e,a){t.setUploadedImage(e,a)})},t.imageResized=function(e,a){t.widget.rtdata.width=a.size.width,t.widget.rtdata.height=a.size.height}}],link:function(e,a,i){var n,o;e.completedCount=0,e.widget.rtdata.tags||(e.widget.rtdata.tags=[]),e.widget.isEmpty=function(){return void 0===e.widget.rtdata.image||0===e.widget.rtdata.image.length},e.wsState!==e.WS_STATE_CONST.SOLVE&&e.wsState!==e.WS_STATE_CONST.ASSESS||(e.solution||(e.solution={}),e.solution.tags?(angular.forEach(e.widget.rtdata.tags,function(t,a){n=!1,angular.forEach(e.solution.tags,function(e,a){if(e.addedOn===t.addedOn)return n=!0,!1}),n||((o=angular.extend({},t)).text="",e.solution.tags.push(o))}),angular.forEach(e.solution.tags,function(t,a){t.text&&e.completedCount++,delete t.previewText,delete t.isNew,delete t.isLast})):(e.solution.tags=[],angular.copy(e.widget.rtdata.tags,e.solution.tags),angular.forEach(e.solution.tags,function(t,e){t.text="",delete t.isLast,delete t.isNew,delete t.previewText}))),e.wsState!==e.WS_STATE_CONST.PREVIEW&&e.wsState!==e.WS_STATE_CONST.EMBED||angular.forEach(e.widget.rtdata.tags,function(t,e){delete t.isLast}),e.widget.calcScore=function(){var a=e.widget,i=e.solution,n=e.assessment;return e.assessment=t.calcAssessment(a,i,n),e.assessment},e.widget.rtdata.image&&e.widget.rtdata.image.url||e.wsState==e.WS_STATE_CONST.SOLVE||e.$emit("toggle-edit"),e.$emit("recalc_score")}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/index.js":[function(require,module,exports){
"use strict";var _worksheetWidgetSolve=require("./solve/worksheet-widget-solve.directive"),_worksheetWidgetEdit=require("./editor/worksheet-widget-edit.directive"),_widgetTools=require("./tools/widget-tools.directive"),_widgetDifferentiationPicker=require("./differentiation-picker/widget-differentiation-picker.component");angular.module("wizer.widgets",[]).component("widgetDifferentiationPicker",(0,_widgetDifferentiationPicker.widgetDiffrentationPickerComponent)()).directive("worksheetwidgetedit",_worksheetWidgetEdit.worksheetWidgetEditDirective).directive("widgettools",_widgetTools.widgetToolsDirective).directive("worksheetwidgetsolve",(0,_worksheetWidgetSolve.worksheetWidgetSolveDirective)()),require("./addMediaText"),require("./image-tag-widget"),require("./image-tagging-directive"),require("./multiquestion"),require("./sort-wordbank"),require("./submission-message"),require("./tablecell"),require("./viewMediaText"),require("./widget-buttons"),require("./widget-faq"),require("./widget-feedback"),require("./widget-feedback-icons"),require("./widget-scoring.services"),require("./widget-switch"),require("./widget-switch-editor"),require("./wordbank"),require("./ws-sort"),require("./ws-title-cover"),require("./wsblanks"),require("./wschat"),require("./wsdraw"),require("./wsessay"),require("./wsimage"),require("./wslink"),require("./wsmatch"),require("./wstable"),require("./wstext"),require("./wstitle"),require("./wsvideo"),require("./components"),require("./services");

},{"./addMediaText":"/home/node/app/assets/js/worksheet/widgets/addMediaText.js","./components":"/home/node/app/assets/js/worksheet/widgets/components/index.js","./differentiation-picker/widget-differentiation-picker.component":"/home/node/app/assets/js/worksheet/widgets/differentiation-picker/widget-differentiation-picker.component.js","./editor/worksheet-widget-edit.directive":"/home/node/app/assets/js/worksheet/widgets/editor/worksheet-widget-edit.directive.js","./image-tag-widget":"/home/node/app/assets/js/worksheet/widgets/image-tag-widget.js","./image-tagging-directive":"/home/node/app/assets/js/worksheet/widgets/image-tagging-directive.js","./multiquestion":"/home/node/app/assets/js/worksheet/widgets/multiquestion.js","./services":"/home/node/app/assets/js/worksheet/widgets/services/index.js","./solve/worksheet-widget-solve.directive":"/home/node/app/assets/js/worksheet/widgets/solve/worksheet-widget-solve.directive.js","./sort-wordbank":"/home/node/app/assets/js/worksheet/widgets/sort-wordbank.js","./submission-message":"/home/node/app/assets/js/worksheet/widgets/submission-message.js","./tablecell":"/home/node/app/assets/js/worksheet/widgets/tablecell.js","./tools/widget-tools.directive":"/home/node/app/assets/js/worksheet/widgets/tools/widget-tools.directive.js","./viewMediaText":"/home/node/app/assets/js/worksheet/widgets/viewMediaText.js","./widget-buttons":"/home/node/app/assets/js/worksheet/widgets/widget-buttons.js","./widget-faq":"/home/node/app/assets/js/worksheet/widgets/widget-faq.js","./widget-feedback":"/home/node/app/assets/js/worksheet/widgets/widget-feedback.js","./widget-feedback-icons":"/home/node/app/assets/js/worksheet/widgets/widget-feedback-icons.js","./widget-scoring.services":"/home/node/app/assets/js/worksheet/widgets/widget-scoring.services.js","./widget-switch":"/home/node/app/assets/js/worksheet/widgets/widget-switch.js","./widget-switch-editor":"/home/node/app/assets/js/worksheet/widgets/widget-switch-editor.js","./wordbank":"/home/node/app/assets/js/worksheet/widgets/wordbank.js","./ws-sort":"/home/node/app/assets/js/worksheet/widgets/ws-sort.js","./ws-title-cover":"/home/node/app/assets/js/worksheet/widgets/ws-title-cover.js","./wsblanks":"/home/node/app/assets/js/worksheet/widgets/wsblanks.js","./wschat":"/home/node/app/assets/js/worksheet/widgets/wschat.js","./wsdraw":"/home/node/app/assets/js/worksheet/widgets/wsdraw.js","./wsessay":"/home/node/app/assets/js/worksheet/widgets/wsessay.js","./wsimage":"/home/node/app/assets/js/worksheet/widgets/wsimage.js","./wslink":"/home/node/app/assets/js/worksheet/widgets/wslink.js","./wsmatch":"/home/node/app/assets/js/worksheet/widgets/wsmatch.js","./wstable":"/home/node/app/assets/js/worksheet/widgets/wstable.js","./wstext":"/home/node/app/assets/js/worksheet/widgets/wstext.js","./wstitle":"/home/node/app/assets/js/worksheet/widgets/wstitle.js","./wsvideo":"/home/node/app/assets/js/worksheet/widgets/wsvideo.js"}],"/home/node/app/assets/js/worksheet/widgets/multiquestion.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wsmultiquestion",["$timeout","$mdDialog","fflip","$widgetScoring",function(t,e,i,n){return{restrict:"E",scope:{widget:"=",assessment:"=",solution:"=?",wsState:"=",isEdit:"=",isAlphabet:"@"},replace:!1,templateUrl:"/js/worksheet/widgets/templates/wsmultiquestion.html",controller:["$scope","$element","$attrs","$transclude","$timeout","uploadfileservice","usSpinnerService","$window","$sce","$http","WS_STATE_CONST",function(t,n,o,a,d,s,r,u,l,c,p){t.WS_STATE_CONST=p,t.froalaMCQOptions={toolbarInline:!0,heightMin:20,placeholderText:"Enter answer",toolbarButtons:["bold","underline","italic","subscript","superscript","specialCharacters"]},void 0===t.solution&&(t.solution={}),void 0===t.solution.options&&(t.solution.options={}),t.renderHtml=function(t){return l.trustAsHtml(t)},t.isUploading=function(t){return s.isUploading(t,t.index)},t.setQuestion=function(){t.widget.rtdata.title||(t.widget.rtdata.title=t.widget.rtdata.muQuestion)},t.showUploadImage=function(e,i){e.showUploadImage=!0,t.hideUploadImage(e.index,!1),i.stopPropagation(),i.preventDefault(),u.onclick=function(e){var i,n=$(e.target).closest('[data-block-name="option_container"]');n&&(i=$(n).attr("data-block-index")),t.hideUploadImage(i,!0)}},t.hideUploadImage=function(e,i){var n=0;angular.forEach(t.widget.rtdata.options,function(i,o){o!=e&&!t.isUploading(i)&&i.showUploadImage&&(delete i.showUploadImage,n=1)}),1===n&&i&&t.$apply()},t.noOptions=function(){return t.widget.rtdata.options&&0===t.widget.rtdata.options.length},t.getOptions=function(){var e;e=t.noOptions()?t.widget.rtdata.tmp:t.widget.rtdata.options,angular.forEach(e,function(t,e){t.index=e}),angular.forEach(t.widget.rtdata.options,function(e){t.isUploading(e)&&d(function(){r.spin("upload-spinner-"+e.index)},0)})},t.$watch("widget.rtdata.options.length",function(){t.getOptions(),t.autoFocusOption()}),t.getOptions(),t.addOption=function(){t.widget.rtdata.options.push({text:t.newOptionText}),t.addingNew=!0,d(function(){t.attachBlurEvent()}),t.newOptionText=""},t.removeImage=function(i,n){var o=e.confirm().title("Are you sure you want to delete this image from this option?").htmlContent("").targetEvent(n).ok("YES, DO IT!").cancel("CANCEL");e.show(o).then(function(){delete i.imageUrl,t.$emit("formdirty")})},t.layoutChange=function(){1===t.widget.layout?t.widget.layout=2:t.widget.layout=1,t.$emit("formdirty")},t.selecteOptionForStudent=function(e,i){var n,o,a=0,d=0;angular.forEach(t.widget.rtdata.options,function(t){t.checked&&a++}),angular.forEach(e,function(t,e){t.checked&&(d++,(!o||o>t.updatedOn)&&(o=t.updatedOn,n=e))}),a<=d&&(isNaN(n)||(e[n].checked=!1,delete e[n].updatedOn)),e[i].checked=!0,e[i].updatedOn=(new Date).getTime()},t.getOptionChecked=function(e){if(!isNaN(e)){if(t.wsState===t.WS_STATE_CONST.EDIT)return t.widget.rtdata.options[e].checked;if(t.wsState===t.WS_STATE_CONST.PREVIEW||t.wsState===t.WS_STATE_CONST.EMBED)return t.widget.rtdata.tmp[e].checked;if(t.wsState===t.WS_STATE_CONST.SOLVE)return!!t.solution.options[e]&&t.solution.options[e].checked;if(t.wsState===t.WS_STATE_CONST.ASSESS)return!!t.solution.options[e]&&t.solution.options[e].checked}},t.checkRight=function(e){if(!isNaN(e)&&(t.wsState===t.WS_STATE_CONST.SOLVE&&t.assessment||t.wsState===t.WS_STATE_CONST.ASSESS)&&t.assessment&&t.assessment.autoAssessment){if(t.assessment.autoAssessment[e])return 1;if(0==t.assessment.autoAssessment[e])return 0}},t.toggleCheckOption=function(e){t.wsState==t.WS_STATE_CONST.ASSESS||t.wsState===t.WS_STATE_CONST.EDIT&&!t.isEdit||(t.wsState===t.WS_STATE_CONST.EDIT?(t.widget.rtdata.options[e].checked=!t.widget.rtdata.options[e].checked,t.checkAnswerAdded(),t.$emit("formdirty")):t.wsState===t.WS_STATE_CONST.PREVIEW||t.wsState===t.WS_STATE_CONST.EMBED?t.widget.rtdata.tmp[e].checked?(t.widget.rtdata.tmp[e].checked=!1,delete t.widget.rtdata.tmp[e].updatedOn):t.selecteOptionForStudent(t.widget.rtdata.tmp,e,"preview"):t.wsState===t.WS_STATE_CONST.SOLVE&&(t.solution.options[e]&&t.solution.options[e].checked?(t.solution.options[e].checked=!1,delete t.solution.options[e].updatedOn):(t.solution.options[e]={},t.selecteOptionForStudent(t.solution.options,e,"solve")),t.$emit("formdirty")))},t.$watch("wsState",function(){t.wsState===t.WS_STATE_CONST.EDIT&&t.isEdit?t.checkAnswerAdded():t.wsState!==t.WS_STATE_CONST.PREVIEW&&t.wsState!==t.WS_STATE_CONST.EMBED||(t.widget.rtdata.tmp=[],angular.forEach(t.widget.rtdata.options,function(){t.widget.rtdata.tmp.push({text:""})}))}),t.$watch("widget.rtdata.title",function(){t.checkAnswerAdded()}),t.checkAnswerAdded=function(){if(t.wsState===t.WS_STATE_CONST.EDIT&&t.isEdit)if(t.widget.rtdata.title||t.widget.rtdata.audio&&t.widget.rtdata.audio.url){var e=!1,i=0;angular.forEach(t.widget.rtdata.options,function(t){if(t.checked)return i++,e=!0,!1}),t.widget.point=0==i?1:i,t.$emit("pointsChanged"),e?t.$emit("validInput"):t.$emit("invalidInput","Select all the correct answers")}else t.$emit("invalidInput","Enter a question")},t.getOptionIndex=function(e){return i.usUser||t.isAlphabet?String.fromCharCode(97+e):e+1},t.emptyOptions=function(){return[{text:""},{text:""},{text:""}]},t.onUploadStart=function(t,e){s.onUploadStart(t,e)},t.onUploadError=function(t,e,i,n){s.onUploadError(t,e,i,n).then(function(){i.showUploadImage=!1})},t.onFilesSubmitted=function(e,i,n,o){e.length&&s.onFilesSubmitted(e,i,n,o).then(function(e){t.setUploadedImage(e.file,e.url,n,o)},function(e){t.onUploadError(null,e,n,o)})},t.setUploadedImage=function(e,i,n,o){s.setUploadedImage(e,i,n,o).then(function(e){n.imageUrl=e,n.showUploadImage=!1,t.$emit("formdirty")},function(){n.showUploadImage=!1})},t.onUploadSucess=function(e,i,n,o){s.onUploadSucess(e,i,n,o).then(function(e,i){t.setUploadedImage(e,i,n,o)})}}],link:function(e,i){e.attachBlurEvent=function(){angular.forEach(e.widget.rtdata.options,function(n,o){var a=n.index,d=n;$(i).find('[name="input-index-'+a+'"]').find("textarea").on("froalaEditor.blur",function(i,n){d.text&&d.text.length||t(function(){if(!(d.text&&d.text.length||d.showUploadImage||d.imageUrl)){var t=e.widget.rtdata.options.indexOf(d);t>-1&&(e.widget.rtdata.options.splice(t,1),e.$emit("formdirty"))}})})})},e.widget.layout||(e.widget.layout=2),e.setQuestion(),e.autoFocusOption=function(){if(e.wsState===e.WS_STATE_CONST.EDIT&&e.isEdit&&e.addingNew){var n=e.widget.rtdata.options.length-1;t(function(){$(i).find('[name="input-index-'+n+'"]').find("textarea").froalaEditor("events.focus"),delete e.addingNew})}},e.widget.isEmpty=function(){var t=e.filterOptions(e.widget.rtdata.options);return!(void 0!==t&&0!==t.length||void 0!==e.widget.rtdata.title&&0!==e.widget.rtdata.title.length||e.widget.rtdata.audio&&e.widget.rtdata.audio.url)},e.widget.calcScore=function(){e.assessment||(e.assessment={});var t=e.widget,i=e.solution,o=e.assessment;return e.assessment=n.calcAssessment(t,i,o),e.assessment},void 0!==e.widget.rtdata.title||e.widget.rtdata.audio&&e.widget.rtdata.audio.url||e.wsState==e.WS_STATE_CONST.SOLVE||e.$emit("toggle-edit"),void 0===e.widget.rtdata.options&&(e.widget.rtdata.options=e.emptyOptions()),e.widget.rtdata.tmp=e.emptyOptions(),e.filterOptions=function(t){if(t)return t.filter(function(t){return!!(t.text&&0!==t.text.length||t.imageUrl&&0!==t.imageUrl.length)})},e.$watch("isEdit",function(){e.isEdit?e.noOptions()&&(e.widget.rtdata.options=angular.copy(e.emptyOptions())):e.widget.rtdata.options=e.filterOptions(e.widget.rtdata.options),e.isEdit&&t(function(){e.attachBlurEvent()},2e3)}),e.widget&&!e.widget.point&&"question"===e.widget.type&&(e.widget.point=1),e.wsState!=e.WS_STATE_CONST.ASSESS&&e.wsState!=e.WS_STATE_CONST.SOLVE||Object.keys(e.solution.options).forEach(function(t){var i=e.solution.options[t];if("boolean"==typeof i){var n={checked:i,updatedOn:(new Date).getTime()};e.solution.options[t]=n}})}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/premium-options.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PremiumOptions=void 0;var PremiumOptions={premiumWidgets:{text:"Unlock additional question types by upgrading to the Wizer Boost plan"},diffPicker:{text:"<p>Differentiate your worksheets based on your learners' needs. Differentiated instruction is available on our Boost plan.</p>\n               <p><span>Upgrade to Wizer Boost</span> to unlok all premium features.</p>"}};exports.PremiumOptions=PremiumOptions;

},{}],"/home/node/app/assets/js/worksheet/widgets/services/chat.service.js":[function(require,module,exports){
"use strict";angular.module("wizer.widgets").factory("Chat",["$http","IOSocket","$timeout",function(t,e,n){return{list:function(e,n,u){t.get("/chat/list",{params:e}).then(n,u)},save:function(t,u,o){return e.post("/chat/save",t,function(t,e){200==e.statusCode?n(u,0,!0,t):n(o,0,!0,e)})},edit:function(t,u,o){return e.put("/chat/save",t,function(t,e){200==e.statusCode?n(u,0,!0,t):n(o,0,!0,e)})},remove:function(e,u,o){return t.post("/chat/remove",e,function(t,e){200===e.statusCode?n(u,0,!0,t):n(o,0,!0,e)})}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/services/index.js":[function(require,module,exports){
"use strict";require("./chat.service"),require("./reflection-questions.service"),require("./widget-scoring.service"),require("./widget-text.service"),require("./widgets.service");

},{"./chat.service":"/home/node/app/assets/js/worksheet/widgets/services/chat.service.js","./reflection-questions.service":"/home/node/app/assets/js/worksheet/widgets/services/reflection-questions.service.js","./widget-scoring.service":"/home/node/app/assets/js/worksheet/widgets/services/widget-scoring.service.js","./widget-text.service":"/home/node/app/assets/js/worksheet/widgets/services/widget-text.service.js","./widgets.service":"/home/node/app/assets/js/worksheet/widgets/services/widgets.service.js"}],"/home/node/app/assets/js/worksheet/widgets/services/reflection-questions.service.js":[function(require,module,exports){
"use strict";angular.module("wizer.widgets").constant("reflectionQuestions",["What is one takeaway you learned?","How did you improve your learning?","What challenge did you face during the learning?","How did you overcome a challenge with this assignment?","What did you enjoy about the assignment?","What parts of the assignment were frustrating to you?","What did you discover  about yourself as a learner?","After today, has your position on ___ changed? Why or why not?","What did you learn about yourself as a learner?","Did you complete your work in a unique manner (i.e., different from your classmates)?","What skills did you use to complete the assignment?","What new skills did you learn?","Do you feel you met the goals?","What skills do you feel you lacked to complete the work?","What would you do differently if you were given this assignment again?","What would you change about the assignment and why would you change it?","What new skills can you take with you and use in other classes?","What do you wish you had learned about the topic but didn't have an opportunity to?","How would you teach the lesson if you were the teacher?","Identify three items you learned and rank them in order of most important to least important, according to your opinion.","What would you like me to review in class?","Write down one thing I can do to help you.","Write down one question you have about today’s worksheet."]);

},{}],"/home/node/app/assets/js/worksheet/widgets/services/widget-scoring.service.js":[function(require,module,exports){
"use strict";function WidgetScoringService(e,i,n,c,r,l,t,o){return _.forEach(arguments,function(i){i&&i.widgetName&&i.widgetName.length&&(e[i.widgetName]=i.calcAssessment)}),e["Fill in the blanks"]=i.calcAssessment,{calcAssessment:function(i,n,c){if(!i||"question"===!i.type)return null;if(!(i.name in e&&_.isFunction(e[i.name])))return null;var r=e[i.name](i.rtdata,n,c);if(!_.isEmpty(c)&&!_.isEmpty(r))for(var l=0,t=["partialscore","like","comment","audio","feedbackAudio","video","feedbackVideo"];l<t.length;l++){var o=t[l];_.isUndefined(c[o])||(r[o]=c[o])}return r}}}WidgetScoringService.$inject=["widgetsCalcScoreFunctions","blanksScore","imageTagScore","matchingScore","multipleChoiceScore","sortingScore","tableScore","wordsearchScore"],angular.module("wizer.widgets").service("$widgetScoring",WidgetScoringService).value("widgetsCalcScoreFunctions",{Table:null,Sorting:null,"Multiple Choice":null,Matching:null,"Fill in the blanks":null,"Fill On An Image":null,Blanks:null,"Word Search Puzzle":null}),WidgetScoringService.$inject=["widgetsCalcScoreFunctions","blanksScore","imageTagScore","matchingScore","multipleChoiceScore","sortingScore","tableScore","wordsearchScore"];

},{}],"/home/node/app/assets/js/worksheet/widgets/services/widget-text.service.js":[function(require,module,exports){
"use strict";angular.module("wizer.widgets").service("$widgetText",WidgetTextService);var questionTextFunctions={"Open Question":getOpenQuestionText,"Fill On An Image":getTagTexts,"Multiple Choice":getMCQQuestion,Blanks:getBlankQuestion,Table:getTableText,Matching:getMatchingText,Sorting:getSortingText,Embed:getEmbedQuestion},answerTextFunctions={"Open Question":getOpenQuestionAnswer,"Multiple Choice":getMCQAnswer,Blanks:getBlankAnswer,Matching:getMatchingAnswer,Embed:getEmbedAnswer,Table:getTableAnswers,Sorting:getSortingAnswers,"Fill On An Image":getTagAnswers};function WidgetTextService(){return{getAnswerText:function(e,t){if(t.name in answerTextFunctions)return answerTextFunctions[t.name](e,t);return null},getQuestionText:function(e,t){if(e&&e.name in questionTextFunctions)return questionTextFunctions[e.name](e);return null}}}function getOpenQuestionText(e){var t=$("<p>"+e.data.title+"</p>").text().replace(/(\r\n|\n|\r|\t|\v)/gm," ");return t='"'+t.replace(/(")/gm,'"')+' "'}function getTagTexts(e){var t=e.name+" : ";return angular.forEach(e.data.tags,function(n,a){t+=n.text,a!=e.data.tags.length-1&&(t+=" - ")}),t='"'+(t=t.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getMCQQuestion(e){var t=e.name+" : ",n=!1;return t+=$("<p>"+e.data.muQuestion+"</p>").text()+" Answers:",angular.forEach(e.data.options,function(e,a){e.checked&&(n&&(t+=" - "),n=!0,t+=$("<p>"+e.text+"</p>").text())}),t='"'+(t=t.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getBlankQuestion(e){var t=e.name+" : ";return t='"'+(t=(t+=$("<p>"+e.data.title+"</p>").text()+" - "+$("<p>"+e.data.blankText+"</p>").text()).replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getTableText(e){var t=e.name+" : ",n=!1;return t+=$("<p>"+e.data.title+"</p>").text()+" - ",angular.forEach(e.data.tablerows,function(e,a){n&&(t+="- "),n=!0,angular.forEach(e.cols,function(n,a){n.isAnswer?t+="____":t+=$("<p>"+n.text+"</p>").text(),a==e.cols.length-1?t+=" ":t+=" : "})}),t='"'+(t=t.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getMatchingText(e){var t=e.name+" : ",n=!1;return t+=$("<p>"+e.data.title+"</p>").text()+" - ",angular.forEach(e.data.pairs,function(e,a){n&&(t+=" - "),n=!0,t+=e.match.value+" : "+e.target.value}),t='"'+(t=t.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getSortingText(e){var t=e.name+" : ";return t+=$("<p>"+e.data.title+"</p>").text()+" : ",angular.forEach(e.data.groups,function(e,n){0!=n&&(t+=" : "),t+=$("<p>"+e.header.text+"</p>").text(),angular.forEach(e.items,function(e,n){t+=" - "+$("<p>"+e.text+"</p>").text()})}),t='"'+(t=t.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getEmbedQuestion(e){return e.name+" question"}function getOpenQuestionAnswer(e){var t=$("<p>"+e.content+"</p>").text().replace(/(\r\n|\n|\r|\t|\v)/gm," ");return t='"'+t.replace(/(")/gm,'"')+' "'}function getMCQAnswer(e,t){var n="",a=[];return angular.forEach(e.options,function(e,t){e.checked&&a.push(t)}),angular.forEach(a,function(e,r){n+=$("<p>"+t.data.options[e].text+"</p>").text(),r!=a.length-1&&(n+=" - ")}),n='"'+(n=n.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getBlankAnswer(e){var t="";return angular.forEach(e.blanks,function(e,n){t&&(t+=" - "),t+=e}),t='"'+(t=t.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getEmbedAnswer(e,t){return t.name+" answer"}function getMatchingAnswer(e,t){var n="";return angular.forEach(e.targets,function(e,a){n&&(n+=" - "),t.data&&t.data.pairs&&!_.isUndefined(t.data.pairs[a])&&!_.isUndefined(t.data.pairs[e])&&(n+=t.data.pairs[a].target.value+" : "+t.data.pairs[e].match.value)}),n='"'+(n=n.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getTableAnswers(e){var t="";return angular.forEach(e.tablerows,function(e,n){e&&e.cols&&angular.forEach(e.cols,function(n,a){t&&(t+=" - "),t+=$("<p>"+e.cols[a].text+"</p>").text()})}),t='"'+(t=t.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getTagAnswers(e,t){var n="",a=!1;return angular.forEach(t.data.tags,function(r,g){a=!1,angular.forEach(e.tags,function(e,t){a||e.addedOn!==r.addedOn||(a=!0,n+=e.text)}),a||(n+=" "),g!=t.data.tags.length-1&&(n+=" - ")}),n='"'+(n=n.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}function getSortingAnswers(e){var t="";return angular.forEach(e.groups,function(e,n){0!=n&&(t+=" : "),t+=$("<p>"+e.header.text+"</p>").text(),angular.forEach(e.items,function(e,n){t+=" - "+$("<p>"+e.text+"</p>").text()})}),t='"'+(t=t.replace(/(\r\n|\n|\r|\t|\v)/gm," ")).replace(/(")/gm,'"')+' "'}WidgetTextService.$inject=[];

},{}],"/home/node/app/assets/js/worksheet/widgets/services/widgets.service.js":[function(require,module,exports){
"use strict";function WidgetsService(e){var i,r=[];return i=t(),r=_.filter(i,function(e){return e&&e.isPremium}),r=_.map(r,function(e){return e.name}),{get:t,filterDifferentiatedWidgets:function(e,i,r){var t=angular.copy(e);return _.forEach(e,function(e,n){var u=e;_.isArray(e)||(u=[e]);var f=_.keyBy(u,"seqid");_.forEach(u,function(e){if(delete f[e.seqid].active,e.isDifferentiated&&e.groups&&e.groups.length){var t=!1;i&&i.length&&_.forEach(e.groups,function(e){!t&&i&&i.indexOf(e)>-1&&(t=!0)}),e.isDifferentiated&&!t&&(r?delete f[e.seqid]:f[e.seqid].active=!1)}});var a=_.toArray(f);t[n]=1==a.length?a[0]:a}),t},filterPremiumWidgets:function(e){var i=[];return n(e,function(e){e&&e.name&&r.indexOf(e.name)>-1&&i.push(e)}),i},iterate:n,clearDifferentiation:function(e){if(!e||!e.length)return;n(e,function(e){delete e.groups,delete e.isDifferentiated})}};function t(){return require("../../../../partials/widget.json")}function n(e,i){if(e&&_.isFunction(i))return _.isArray(e)?_.forEach(e,function(e){return _.isArray(e)?_.forEach(e,i):i(e)}):i(e)}}WidgetsService.$inject=["$resource"],angular.module("wizer.widgets").service("WidgetsService",WidgetsService),WidgetsService.$inject=["$resource"];

},{"../../../../partials/widget.json":"/home/node/app/assets/partials/widget.json"}],"/home/node/app/assets/js/worksheet/widgets/solve/worksheet-widget-solve.directive.js":[function(require,module,exports){
"use strict";function worksheetWidgetSolveDirective(){return function(){return{restrict:"E",scope:{publicationToken:"@",worksheet:"=",widget:"=",assessment:"=",solution:"=?",wsState:"=",sessionId:"=?"},templateUrl:"/js/worksheet/widgets/solve/worksheet-widget-solve.directive.html",controller:["$scope","$element","$attrs","$transclude","$worksheetSvc","$sce","WS_STATE_CONST",function(e,t,i,s,r,o,n){e.WS_STATE_CONST=n,e.renderHtml=function(e){return o.trustAsHtml(e)},e.$on("worksheet-ready",function(){"embed"!==e.viewType&&e.$watch("waypoints.widgetScroll.down",function(t,i){e.widget.isViewed||!0!==t||(e.widget.isViewed=!0)})}),e.showWidgetScore=function(){var t=e.getStaticScore();return 1===t.value?t.value:t.right_answers+"/"+t.num_questions},e.waypointsdown=function(t){console.log("widget %s Scroll top!!!",e.widget.name)},e.getScore=function(){var t,i=e.widget,s=e.assessment;if(s&&!_.isUndefined(s.score))return 0===i.point?t=0:_.isNumber(s.score.value)?t=s.score.value:_.isNumber(s.partialscore)&&_.isNumber(i.point)?t=parseFloat(s.partialscore)/i.point:_.isNumber(s.score)&&_.isNumber(i.point)&&(t=s.score/i.point),t},e.getStaticScore=function(){return e.assessment&&e.assessment.score?(e.widget.initialScore=e.assessment.score,null!=e.widget.initialScore.num_questions&&null!=e.widget.initialScore.right_answers&&e.widget.initialScore.num_questions===e.widget.initialScore.right_answers&&(e.widget.initialScore.value=1)):e.widget.initialScore={value:0,num_questions:1,right_answers:0},e.widget.initialScore}}]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.worksheetWidgetSolveDirective=worksheetWidgetSolveDirective;

},{}],"/home/node/app/assets/js/worksheet/widgets/sort-wordbank.js":[function(require,module,exports){
"use strict";angular.module("wizer").service("sortWordBankData",[function(){this.parseData=function(e){var t=[];return angular.forEach(e,function(e,s){e.items&&e.items.length&&(t=t.concat(e.items))}),t=this.shuffle(t),angular.copy(t)},this.shuffle=function(e){for(var t,s,r=e.length;0!==r;)s=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[s],e[s]=t;return e}}]).directive("sortWordBank",["sortWordBankData","$window",function(e,t){return{restrict:"A",scope:{sortDataGroups:"=",groups:"=",isEdit:"=",stateConstant:"=",state:"=",seqid:"=",isPrint:"&"},templateUrl:"/js/worksheet/widgets/templates/sort-wordbank.html",link:function(e,t,s){},controller:["$scope","$window","sortWordBankData",function(e,t,s){e.activeEvent={},e.createAnswerList=function(t){e.sortDataGroups&&(e.answers=s.parseData(e.sortDataGroups),e.groupsNames=[],angular.forEach(e.sortDataGroups,function(t){e.groupsNames.push(t.header)}),angular.forEach(t,function(t){t.items&&t.items.length&&angular.forEach(t.items,function(t,s){var r=t.index;angular.forEach(e.answers,function(e){e.index==r&&(e.isSelected=!0)})})}))},e.hasSelectableAnswers=function(){if(e.answers&&e.answers.length){var t=!1;return angular.forEach(e.answers,function(e){e.isSelected||(t=!0)}),t}return!1},e.showGroups=function(s,r){e.state!=e.stateConstant.ASSESS&&e.answers&&e.answers[s]&&(e.answers[s].groupShown?e.hideGroups(s):(r.stopPropagation(),r.preventDefault(),angular.forEach(e.answers,function(e){delete e.groupShown}),e.answers[s].groupShown=!0,e.activeEvent[s]=t.onclick=function(t){e.hideGroups(s),e.$digest()}))},e.hideGroups=function(t){e.answers&&e.answers[t]&&(delete e.answers[t].groupShown,delete e.activeEvent[t])},e.groupSelected=function(t,s){e.groups&&e.groups[t]&&e.answers&&e.answers[s]&&(e.groups[t].items&&e.groups[t].items.length||(e.groups[t].items=[]),e.groups[t].items.push(angular.copy(e.answers[s])),e.hideGroups(s),e.answers[s].isSelected=!0,e.$emit("formdirty"))},e.$on("sort-answer-removed",function(t,s){angular.forEach(e.answers,function(t,r){t.index==s&&(e.hideGroups(r),delete t.isSelected)})}),e.$watch("sortDataGroups",function(t,s){e.createAnswerList(e.groups)}),e.$watch("groups",function(t,s){e.createAnswerList(t)})}]}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/submission-message.js":[function(require,module,exports){
"use strict";function wsSubmissionMessageController(t,e,n,o,r,s){t.introContent="<h1>You're Done!!</h1><hr/>Thanks "+o.userName+", for completing the worksheet.",(void 0===t.widget.rtdata.content||void 0!==t.widget.rtdata.content&&0===t.widget.rtdata.content.length)&&(t.widget.rtdata.content=t.introContent),t.renderHtml=function(t){return s.trustAsHtml(t)},t.isIntroContent=function(){return t.ws_state!=t.WS_STATE_CONST.SOLVE&&(void 0===t.widget.rtdata.content||void 0!==t.widget.rtdata.content&&t.widget.rtdata.content===t.introContent)},t.getContent=function(){return t.isIntroContent()?t.introContent:t.widget.rtdata.content}}wsSubmissionMessageController.$inject=["$scope","$element","$attrs","$rootScope","$transclude","$sce"],angular.module("wizer").directive("wsSubmissionMessage",function(){return{restrict:"E",templateUrl:"/js/worksheet/widgets/templates/submission-message.html",controller:wsSubmissionMessageController}}),wsSubmissionMessageController.$inject=["$scope","$element","$attrs","$rootScope","$transclude","$sce"];

},{}],"/home/node/app/assets/js/worksheet/widgets/tablecell.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("editTableCell",["$timeout","$mdDialog","uploadfileservice",function(e,t,a){return{restrict:"A",scope:{cellData:"=",isHeader:"=",stateConstant:"=",state:"=",seqid:"=",isEdit:"=",activeTab:"=",placeholderText:"="},templateUrl:"/js/worksheet/widgets/templates/edittablecell.html",controller:["$scope","$element","$attrs","$timeout","$mdDialog","uploadfileservice",function(e,t,a,l,i,n){e.addMediaConfig={isOpen:!1},e.froalaCellOptions={placeholderText:e.placeholderText||"",toolbarInline:!0,heightMin:49,toolbarButtons:["bold","underline","italic","subscript","superscript","specialCharacters"]},e.cellDataModified=function(){e.state==e.stateConstant.EDIT&&e.isEdit&&(!e.cellData||e.cellData.text&&$("<p>"+e.cellData.text+"</p>").text().trim()||e.cellData.media&&(e.cellData.media.image||e.cellData.media.audio)||(delete e.cellData.isAnswer,delete e.cellData.answerId,delete e.cellData.isMarkedAsAnswer),e.$emit("answer:modified")),e.state==e.stateConstant.EDIT&&e.isEdit&&"answer"==e.activeTab&&(e.cellData&&(e.cellData.text&&$("<p>"+e.cellData.text+"</p>").text().trim()||e.cellData.media&&(e.cellData.media.image||e.cellData.media.audio))&&(e.cellData.isAnswer=!0,e.cellData.isMarkedAsAnswer=!0,e.cellData.answerId||(e.cellData.answerId=(new Date).getTime())),e.$emit("answer:modified"))},e.cellDataLoaded=function(){!angular.isUndefined(e.cellData)&&angular.isString(e.cellData)&&(e.cellData={text:e.cellData},""===e.cellData.text&&(e.cellData.isAnswer=!0,e.cellData.answerId=(new Date).getTime())),e.cellData&&e.cellData.isAnswer&&(e.cellData.isMarkedAsAnswer=!0),e.cellData&&!e.cellData.index&&(e.cellData.index=(new Date).getTime())},e.openRecordAudioDialog=function(t){var a=angular.element(document.body);delete e.cellData.isFocused,e.cellData.media||(e.cellData.media={}),i.show({parent:a,targetEvent:t,templateUrl:"/templates/audio-record-dialog.html",locals:{audioData:e.cellData.media,audioName:"audio"},controller:["$scope","audioData","audioName",function(e,t,a){e.audioData=t,e.audioName=a}]})},e.$on("audio-added",function(t){e.$emit("formdirty")}),e.isUploading=function(e){if(e)return n.isUploading(e,e.index)},e.onUploadStart=function(){n.onUploadStart(e.cellData,e.cellData.index)},e.onUploadError=function(t,a){n.onUploadError(t,a,e.cellData,e.cellData.index)},e.onFilesSubmitted=function(t,a){var l=t.files;delete e.cellData.isFocused,l.length&&(e.onUploadStart(),e.$apply(),n.onFilesSubmitted(l,a,e.cellData,e.cellData.index).then(function(t){e.setUploadedImage(t.file,t.url)},function(t){e.onUploadError(null,t)}))},e.setUploadedImage=function(t,a){n.setUploadedImage(t,a,e.cellData,e.cellData.index).then(function(t){e.cellData.media||(e.cellData.media={}),e.cellData.media.image=t,e.$emit("formdirty")})},e.removeImage=function(t,a){var l=i.confirm().title("Are you sure you want to remove this image?").htmlContent("").targetEvent(a).ok("YES, DO IT!").cancel("CANCEL");i.show(l).then(function(){delete t.media.image,e.$emit("formdirty")})},e.removeAudio=function(t,a){var l=i.confirm().title("Are you sure you want to remove this audio file?").htmlContent("").targetEvent(a).ok("YES, DO IT!").cancel("CANCEL");i.show(l).then(function(){delete t.media.audio,e.$emit("formdirty")})},e.$watch("cellData",function(t,a){e.cellDataLoaded()}),e.$watch("cellData.media",function(t,a){t!==a&&e.cellDataModified()}),e.$watch("cellData.text",function(t,a){t!==a&&e.cellDataModified()})}],link:function(t,a,l){t.imageUpload=function(t){e(function(){angular.element(a[0].querySelector("#image_upload_cell")).trigger("click")},0)}}}}]).directive("viewTableCell",[function(){return{restrict:"A",scope:{cellData:"=",isHeader:"=",stateConstant:"=",state:"=",seqid:"=",isAnswer:"@"},templateUrl:"/js/worksheet/widgets/templates/viewtablecell.html",controller:["$scope","$element","$attrs","$sce",function(e,t,a,l){e.isEdit=!1,e.renderHtml=function(e){return"string"==typeof e?l.trustAsHtml(e):""}}],link:function(e,t,a){}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/tools/widget-tools.directive.js":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.widgetToolsDirective=void 0,widgetToolsController.$inject=["$scope","$mdDialog","$mdMenu","$timeout","$window"];var widgetToolsDirective=function(){return{restrict:"E",transclude:!0,templateUrl:"/js/worksheet/widgets/tools/widget-tools.html",controller:widgetToolsController}};function widgetToolsController(t,e,o,i,n){!t.widget||null!=t.widget.point&&null!=t.widget.point||(t.widget.point=1),t.openSetPointDialog=function(o){o.stopPropagation(),e.show({controller:["$scope","$mdDialog","currentValue",function(t,e,o){t.pointValue=o,t.setPoint=function(){e.hide(t.pointValue)},t.cancel=function(){e.hide()}}],locals:{currentValue:t.widget.point},templateUrl:"/js/worksheet/widgets/templates/set-widget-dialog.html",parent:angular.element(document.body),targetEvent:o}).then(function(e){null==e&&null==e||(t.widget.manualPoint=!0,t.widget.point=e,t.$emit("formdirty"),t.$emit("pointsChanged"))})},t.openWidgetSubMenu=function(t,e){e.stopPropagation(),t.open()},t.editWidget=function(e){t.$emit("toggle-edit",e)},t.openWidgetMenu=function(e,o){o.stopPropagation(),t.activeEvent=n.onclick=function(){e.close(),delete t.activeEvent},i(function(){t.widgetPostions=[],angular.forEach(t.worksheet.widgets,function(e,o){t.widgetPostions.push(o+1)}),t.currentPosition=t.widgetPos+1,e.open()},10)},t.changeWidgetPosition=function(e,o){e.stopPropagation(),o!=t.currentPosition&&t.$emit("change-card-position",{currentPosition:t.widgetPos,newPosition:o-1})},t.copyWidgetContent=function(e){e.stopPropagation(),t.$emit("duplicate-widget-with-content",{widget:t.widget,index:t.$index})},t.copyEmptyWidget=function(e){e.stopPropagation(),t.$emit("duplicate-empty-widget",{widget:t.widget,index:t.widgetPos})}}exports.widgetToolsDirective=widgetToolsDirective;

},{}],"/home/node/app/assets/js/worksheet/widgets/viewMediaText.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("viewMediaText",[function(){return{restrict:"A",scope:{cellData:"=",isEdit:"=",stateConstant:"=",state:"=",seqid:"=",isAnswer:"@"},templateUrl:"/js/worksheet/widgets/templates/viewmediatext.html",controller:["$scope","$element","$attrs","$sce",function(t,e,i,s){t.isEdit=!1,t.renderHtml=function(t){return"string"==typeof t?s.trustAsHtml(t):""}}],link:function(t,e,i){}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/widget-buttons.js":[function(require,module,exports){
"use strict";var _premiumOptions=require("./premium-options");function widgetBtnCtrl(t){t.isWidgetLocked=function(){return!t.widgetModel||!t.widgetModel.type||(!0===t.widgetModel.isPremium?!t.usettings||!t.usettings.PERSONALIZATION:void 0)}}function widgetButtonsController(t,e,i,n,o,r,s,c,l,d){t.widgets=c.get(),t.isWidgetLocked=function(e){return!e||!e.type||(!0===e.isPremium?!t.usettings||!t.usettings.PERSONALIZATION:void 0)},t.importFromCanva=function(){var e=s.location.host.toLowerCase();s.location="https://".concat(e,"/activate/").concat(t.wstoken,"?open=canva")},t.openConverter=function(){var e=s.location.host.toLowerCase();s.location="https://".concat(e,"/activate/").concat(t.wstoken)},t.clickAddWidget=function(e,i){if(t.isWidgetLocked(i))return r.eventTrack("payment-sale-popup-premium-widget",{category:"payment",label:"Sale Popup - Premium Widget"}),void d.showPremiumModal(_premiumOptions.PremiumOptions.premiumWidgets.text);void 0!==t.closePannel&&t.closePannel(),t.isWidgetSelection?t.addChoiceWidget(i,t.widgetPos):t.addwsp(i,Number(t.widgetIndex)+1),e.preventDefault(),e.stopPropagation()},l.settings().then(function(e){t.usettings=e})}widgetBtnCtrl.$inject=["$scope"],widgetButtonsController.$inject=["$scope","$element","$attrs","$transclude","$mdDialog","$analytics","$window","WidgetsService","UserSvc","premiumDlg"],angular.module("wizer").directive("widgetsbuttons",function(){return{restrict:"E",scope:!0,replace:!0,templateUrl:"/js/worksheet/widgets/templates/widgetsbuttons.html",controller:widgetButtonsController,compile:function(t,e,i){return{pre:function(t,e,i,n,o){t.filterValue=i.ngWidgetFilter,t.widgetPos=i.widgetPos,t.isWidgetSelection=i.isWidgetSelection,t.showToolbar=i.showToolbar}}}}}).filter("filterWidget",["fflip",function(t){return function(e,i){for(var n=[],o=0;o<e.length;o++){var r=e[o];if(("question"===r.type||"content"===r.type)&&r.enabled.toString()===i){var s=r.name.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}).replace(/\s/,"");(angular.isUndefined(t["widget"+s])||1==t["widget"+s])&&n.push(r)}}return n}}]).directive("widgetbutton",function(){return{scope:{widgetModel:"=",usettings:"="},require:"^editor",restrict:"E",templateUrl:"/js/worksheet/widgets/templates/widgetsbutton.html",replace:!0,controller:widgetBtnCtrl,compile:function(t,e,i){return{pre:function(t,e,i,n,o){t.widgetFilter=i.ngWidgetFilter}}}}}),widgetBtnCtrl.$inject=["$scope"],widgetButtonsController.$inject=["$scope","$element","$attrs","$transclude","$mdDialog","$analytics","$window","WidgetsService","UserSvc","premiumDlg"];

},{"./premium-options":"/home/node/app/assets/js/worksheet/widgets/premium-options.js"}],"/home/node/app/assets/js/worksheet/widgets/widget-faq.js":[function(require,module,exports){
"use strict";angular.module("wizer").factory("widgetFaqData",["$q","Faq",function(t,e){var a={data:{},getData:function(n){var o=t.defer();return a.data[n]?o.resolve(a.data[n]):e.get(n,function(t){a.data[n]=t.data,o.resolve(a.data[n])},function(t){o.reject(t)}),o.promise}};return a}]).directive("widgetFaq",["$mdDialog",function(t){return{restrict:"A",scope:{faqId:"="},template:'<span ng-click="openFaq($event)">?</span>',link:function(t,e,a){},controller:["$scope","$element","$attrs","$mdDialog",function(t,e,a,n){t.openFaq=function(e){var a=angular.element(document.body);n.show({parent:a,targetEvent:e,clickOutsideToClose:!0,templateUrl:"/js/worksheet/widgets/templates/widget-faq.html",controller:"WidgetFaqCtrl",locals:{faqId:t.faqId}})}}]}}]).controller("WidgetFaqCtrl",["$scope","$mdDialog","$sce","widgetFaqData","faqId",function(t,e,a,n,o){t.faqId=o,t.renderHtml=function(t){return a.trustAsHtml(t)},t.loadData=function(){t.isLoading=!0,n.getData(t.faqId).then(function(e){delete t.isLoading,e&&"visible"==e.state&&(t.faqData=e)},function(e){delete t.isLoading})},t.loadData(),t.closeDialog=function(){e.hide()}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/widget-feedback-icons.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("widgetfeedbackicons",function(){return{restrict:"E",templateUrl:"/js/worksheet/widgets/templates/feedback-icons.html"}});

},{}],"/home/node/app/assets/js/worksheet/widgets/widget-feedback.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("widgetfeedback",[function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:"/js/worksheet/widgets/templates/feedback.html",controller:["$scope","$element","$attrs","$transclude","$sce",function(e,t,r,s,c){e.renderHtml=function(e){return c.trustAsHtml(e)}}]}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/widget-scoring.services.js":[function(require,module,exports){
"use strict";angular.module("wizer.widgets").service("wordsearchScore",function(){return{widgetName:"Word Search Puzzle",calcAssessment:require("../../../../api/services/widgetScores/wordsearchScore")}}).service("tableScore",function(){return{widgetName:"Table",calcAssessment:require("../../../../api/services/widgetScores/tableScore")}}).service("sortingScore",function(){return{widgetName:"Sorting",calcAssessment:require("../../../../api/services/widgetScores/sortingScore")}}).service("multipleChoiceScore",function(){return{widgetName:"Multiple Choice",calcAssessment:require("../../../../api/services/widgetScores/multipleChoiceScore")}}).service("matchingScore",function(){return{widgetName:"Matching",calcAssessment:require("../../../../api/services/widgetScores/matchingScore")}}).service("imageTagScore",function(){return{widgetName:"Fill On An Image",calcAssessment:require("../../../../api/services/widgetScores/imageTagScore")}}).service("blanksScore",function(){return{widgetName:"Blanks",calcAssessment:require("../../../../api/services/widgetScores/blanksScore")}});

},{"../../../../api/services/widgetScores/blanksScore":"/home/node/app/api/services/widgetScores/blanksScore.js","../../../../api/services/widgetScores/imageTagScore":"/home/node/app/api/services/widgetScores/imageTagScore.js","../../../../api/services/widgetScores/matchingScore":"/home/node/app/api/services/widgetScores/matchingScore.js","../../../../api/services/widgetScores/multipleChoiceScore":"/home/node/app/api/services/widgetScores/multipleChoiceScore.js","../../../../api/services/widgetScores/sortingScore":"/home/node/app/api/services/widgetScores/sortingScore.js","../../../../api/services/widgetScores/tableScore":"/home/node/app/api/services/widgetScores/tableScore.js","../../../../api/services/widgetScores/wordsearchScore":"/home/node/app/api/services/widgetScores/wordsearchScore.js"}],"/home/node/app/assets/js/worksheet/widgets/widget-switch-editor.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("editorWidgetsswitch",["UserSvc",function(t){return{restrict:"E",templateUrl:"/js/worksheet/widgets/templates/widget-switch-editor.html",link:function(e){t.settings().then(function(t){e.usettings=t})}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/widget-switch.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("widgetsswitch",["UserSvc",function(t){return{restrict:"E",replace:!0,templateUrl:"/js/worksheet/widgets/templates/widget-switch.html",link:function(e){t.settings().then(function(t){e.usettings=t})}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/wordbank.js":[function(require,module,exports){
"use strict";angular.module("wizer").factory("wordBankData",[function(){var a={data:[],parsed:!1,seqId:null,isParsed:function(){return a.parsed},getSeqId:function(){return a.seqId},setData:function(e,t){return a.data=[],angular.forEach(e,function(e,t){angular.forEach(e.cols,function(e,t){if(e.isAnswer){var n={text:e.text,answerId:e.answerId};e.media&&(e.media.image&&(n.media||(n.media={}),n.media.image=e.media.image),e.media.audio&&(n.media||(n.media={}),n.media.audio=angular.copy(e.media.audio))),a.data.push(n)}})}),a.data=a.shuffle(a.data),a.parsed=!0,a.seqId=t,angular.copy(a.data)},shuffle:function(a){for(var e,t,n=a.length;0!==n;)t=Math.floor(Math.random()*n),e=a[n-=1],a[n]=a[t],a[t]=e;return a},getData:function(){return angular.copy(a.data)}};return a}]).controller("WordBankCtrl",["$scope","$rootScope","$mdDialog","$sce","wordBankData","answerCell","solution","tablerows","state","stateConst","seqId",function(a,e,t,n,r,d,s,i,o,u,c){if(a.answers=[],a.state=o,a.stateConst=u,a.seqId=c,a.isEdit=!1,r.isParsed()&&r.getSeqId()==c?a.answers=r.getData():a.answers=r.setData(i,c),angular.forEach(s,function(e,t){e&&e.cols&&angular.forEach(e.cols,function(e,t){var n=!1;angular.forEach(a.answers,function(a,t){n||a.answerId!=e.answerId||(n=!0,a.isSelected=!0)})})}),d&&d.answerId){var l=!1;angular.forEach(a.answers,function(a,e){l||a.answerId!=d.answerId||(l=!0,delete a.isSelected,a.isAnswerSelected=!0)})}a.renderHtml=function(a){return n.trustAsHtml(a)},a.wordBankOptionSelected=function(a){if(a.isAnswerSelected)delete d.media,delete d.answerId,d.text="";else{if(a.isSelected){var n=a.answerId,r=!1;angular.forEach(s,function(a,e){a&&a.cols&&!r&&angular.forEach(a.cols,function(a,e){a&&a.answerId==n&&(r=!0,a.text="",delete a.media,delete a.answerId)})})}d||(d={}),d.text=a.text,d.answerId=a.answerId,a.media&&(d.media||(d.media={}),d.media.audio=angular.copy(a.media.audio),d.media.image=a.media.image)}e.$broadcast("word-bank-changed"),t.hide()},a.closeDialog=function(){t.hide()}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/ws-sort.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wssort",["$mdDialog","$widgetScoring",function(t,e){return{restrict:"E",scope:{widget:"=",assessment:"=",solution:"=?",wsState:"=",isEdit:"="},templateUrl:"/js/worksheet/widgets/templates/wssort.html",controller:["$scope","$element","$attrs","$rootScope","$mdDialog","WS_STATE_CONST",function(t,e,a,r,s,i){t.WS_STATE_CONST=i,t.groupInput={},t.groupInputPlaceholder="Enter an item",t.groupHeaderPlaceholder="Enter group name",t.addGroup=function(){t.widget.rtdata.groups.length&&(t.widget.rtdata.groups.push({header:{},items:[]}),t.$emit("formdirty"))},t.addGroupItem=function(){angular.forEach(t.groupInput,function(e,a){if(e.text&&$("<p>"+e.text+"</p>").text().trim()||e.media&&(e.media.image||e.media.audio))if(e.text&&t.wsState==t.WS_STATE_CONST.EDIT){var r=!1;if(angular.forEach(t.widget.rtdata.groups,function(t,a){t&&t.items&&t.items.length&&angular.forEach(t.items,function(t,a){$("<p>"+e.text+"</p>").text().trim().toLocaleLowerCase()==$("<p>"+t.text+"</p>").text().trim().toLocaleLowerCase()&&(r=!0)})}),r){var i=angular.element(document.body);s.show(s.alert().parent(i).clickOutsideToClose(!0).title().textContent("This text is already added. You can't add the same text multiple times").ariaLabel("Duplicate group item").ok("Got it!"))}else e.index=(new Date).getTime(),t.widget.rtdata.groups[a].items.push(angular.copy(e)),t.groupInput[a]={}}else e.index=(new Date).getTime(),t.widget.rtdata.groups[a].items.push(angular.copy(e)),t.groupInput[a]={}})},t.removeItem=function(e,a){t.groups&&t.groups[e]&&t.groups[e].items&&t.groups[e].items[a]&&(t.wsState!=t.WS_STATE_CONST.SOLVE&&t.wsState!=t.WS_STATE_CONST.PREVIEW&&t.wsState!==t.WS_STATE_CONST.EMBED||r.$broadcast("sort-answer-removed",t.groups[e].items[a].index),t.groups[e].items.splice(a,1),t.$emit("formdirty"))},t.removeGroup=function(e,a){if(t.widget.rtdata.groups&&t.widget.rtdata.groups[e])if(t.widget.rtdata.groups[e].header&&(t.widget.rtdata.groups[e].header.text||t.widget.rtdata.groups[e].header.media&&(t.widget.rtdata.groups[e].header.media.audio||t.widget.rtdata.groups[e].header.media.image))||t.widget.rtdata.groups[e].items&&t.widget.rtdata.groups[e].items.length){var r=s.confirm().title("Are you sure you want to remove this group? The items in it will be deleted.").textContent("").targetEvent(a).ok("Yes").cancel("Cancel");s.show(r).then(function(){t.widget.rtdata.groups.splice(e,1),t.$emit("formdirty")})}else t.widget.rtdata.groups.splice(e,1),t.$emit("formdirty")},t.getAssessmentScore=function(e,a){if(t.wsState!=t.WS_STATE_CONST.EDIT&&t.wsState!=t.WS_STATE_CONST.PREVIEW&&(t.wsState!=t.WS_STATE_CONST.SOLVE||t.assessment)&&t.assessment&&t.assessment.autoAssessment&&t.assessment.autoAssessment[e]){if(t.assessment.autoAssessment[e][a])return!0;if(0==t.assessment.autoAssessment[e][a])return!1}},t.checkGroupHeaderAdded=function(){if(t.wsState==t.WS_STATE_CONST.EDIT&&t.isEdit&&t.widget.rtdata.groups&&t.widget.rtdata.groups.length){var e=!0;angular.forEach(t.widget.rtdata.groups,function(t,a){t.header.text&&$("<p>"+t.header.text+"</p>").text().trim()||t.header.media&&(t.header.media.image||t.header.media.audio)||(e=!1)}),e?t.$emit("validInput"):t.$emit("invalidInput","Enter group names");var a=0;angular.forEach(t.widget.rtdata.groups,function(t,e){a+=t.items.length}),t.widget.point=a||1,t.$emit("pointsChanged"),t.$emit("recalc_score")}},t.$watch("wsState",function(e,a){t.wsState===t.WS_STATE_CONST.EDIT?t.groups=t.widget.rtdata.groups:t.wsState===t.WS_STATE_CONST.PREVIEW&&(t.groups=angular.copy(t.widget.rtdata.groups),angular.forEach(t.groups,function(t){t.items=[]}))}),t.$watch("isEdit",function(e,a){t.wsState===t.WS_STATE_CONST.EDIT&&(t.groups=t.widget.rtdata.groups)}),t.$watch("groups",function(e,a){switch(t.checkGroupHeaderAdded(),t.wsState){case t.WS_STATE_CONST.SOLVE:e!=a&&(t.solution.groups=angular.copy(e));break;case t.WS_STATE_CONST.EDIT:t.isEdit&&e.length&&a.length!=e.length&&angular.forEach(t.groups,function(e,a){t.groupInput[a]={}})}t.$emit("recalc_score")},!0)}],link:function(t,a,r){void 0===t.widget.rtdata.groups&&t.wsState!=t.WS_STATE_CONST.SOLVE&&(t.widget.rtdata.groups=[{header:{},items:[]},{header:{},items:[]}],t.$emit("toggle-edit")),t.solution||(t.solution={}),t.updateSolutionGroups=function(e){e&&e.groups||(e.groups=[]);var a=angular.copy(t.widget.rtdata.groups);angular.forEach(a,function(t){t.items=[]}),angular.forEach(e.groups,function(t,e){var r=t.header.index;angular.forEach(a,function(e,a){e.header.index==r&&(e.items=angular.copy(t.items))})}),t.wsState==t.WS_STATE_CONST.SOLVE||t.wsState==t.WS_STATE_CONST.ASSESS?t.groups=angular.copy(a):t.wsState==t.WS_STATE_CONST.EDIT?(t.groups=t.widget.rtdata.groups,angular.forEach(t.groups,function(e,a){t.groupInput[a]={}})):(t.groups=angular.copy(t.widget.rtdata.groups),angular.forEach(t.groups,function(t){t.items=[]}))},t.$watch("solution",function(e,a){t.updateSolutionGroups(e)}),t.widget.isEmpty=function(){var e=!1;return t.widget.rtdata.groups.forEach(function(t){t&&(t.header.text||t.header.media&&(t.header.media.audio||t.header.media.image)||t.items&&t.items.length)&&(e=!0)}),!(e||t.widget.rtdata.title&&0!==t.widget.rtdata.title.length||t.widget.rtdata.audio&&t.widget.rtdata.audio.url)},t.widget.calcScore=function(){t.assessment||(t.assessment={});var a=t.widget,r=t.solution;return t.assessment=e.calcAssessment(a,r),t.assessment}}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/ws-title-cover.js":[function(require,module,exports){
"use strict";function wsTitleCoverController(e,t,a,o,r){e.coverImage=function(){return e.isEdit||void 0===e.widget.rtdata.cover||void 0===e.widget.rtdata.cover.path?"none":"url("+e.widget.rtdata.cover.path+")"},e.open=function(t,a){e.$emit("onHeaderBackgroundChangeClick",e.widget),void 0!==t&&t.stopPropagation(),r.open({templateUrl:"/templates/choose-cover-modal.html",controller:"ChooseCoverCTRL",size:a,windowClass:"choose-cover-modal",resolve:{selectedCover:function(){return e.widget.rtdata.cover}}}).result.then(function(t){e.widget.rtdata.cover=t,e.$emit("onHeaderBackgroundChange",e.widget)},function(){console.info("Modal dismissed at: "+new Date)})}}function ChooseCoverCTRL(e,t,a){e.selectedCover=a,e.covers=[{name:"None",category:[],path:"/images/cover/color-orange.png"},{name:"space",category:["math"],path:"/images/cover/00-star-space-hubble-tile-pleiades.jpg"},{name:"blueprint",category:["math"],path:"/images/cover/04_free_subtle_textures_blueprint_texture.jpg"},{name:"wood",category:["math"],path:"/images/cover/07_free_subtle_textures_beautiful_wood_texture_2_psd.jpg"},{name:"grid",category:["math"],path:"/images/cover/10_free_subtle_textures_seamless_photoshop_grid_patterns.jpg"},{name:"web",category:["math"],path:"/images/cover/12_free_subtle_textures_free_web_backgrounds.jpg"},{name:"1419",category:["math"],path:"/images/cover/1419-seamless-background.jpg"},{name:"1447",category:["math"],path:"/images/cover/1447-seamless-floral-background.jpg"},{name:"3687420-36136",category:["math"],path:"/images/cover/3687420-36136-colorful-seamless-background.jpg"},{name:"Christmas",category:["math"],path:"/images/cover/Abstract-Christmas-Tree-Seamless-Background-Vector.jpg"},{name:"chemistry",category:["math"],path:"/images/cover/chemistrybackground.jpg"},{name:"ColourfulPaint",category:["math"],path:"/images/cover/ColourfulPaintBlotsSeamlessBackgroundVector.jpg"},{name:"DNA",category:["math"],path:"/images/cover/DNA.jpg"},{name:"edison",category:["math"],path:"/images/cover/edison.png"},{name:"plaid",category:["math"],path:"/images/cover/plaid-patterns.jpg"},{name:"sea-animals",category:["math"],path:"/images/cover/sea-animals-seamless-background-card-31284614.jpg"},{name:"letters-alphabet-numbers",category:["math"],path:"/images/cover/seamless-background-letters-alphabet-numbers-35931344.jpg"},{name:"07",category:["math"],path:"/images/cover/seamless_pattern_07.jpg"},{name:"circuit-board",category:["math","electronics"],path:"/images/cover/seamless-pattern-of-circuit-board.png"},{name:"18",category:["math","biology"],path:"/images/cover/Seamless-Web-Background-Patterns-for-Your-Site-18.jpg"},{name:"ultraviolet-fractal",category:["math"],path:"/images/cover/ultraviolet-fractal-seamless-background.jpg"}],e.categories={};for(var o=0;o<e.covers.length;o++)for(var r=e.covers[o].category,s=0;s<r.length;s++){var c=r[s];void 0===e.categories[c]?e.categories[c]=0:e.categories[c]=e.categories[c]+1}e.selected={item:e.covers[0]},e.ok=function(){t.close(e.selectedCover)},e.cancel=function(){t.dismiss("cancel")},e.selectCover=function(a){e.selectedCover=a,t.close(e.selectedCover)},e.isSelected=function(t){return!!e.selectedCover&&e.selectedCover.name===t.name}}wsTitleCoverController.$inject=["$scope","$element","$attrs","$transclude","$uibModal"],ChooseCoverCTRL.$inject=["$scope","$uibModalInstance","selectedCover"],angular.module("wizer").controller("ChooseCoverCTRL",ChooseCoverCTRL),angular.module("wizer").directive("wstitlecover",function(){return{restrict:"E",scope:!0,replace:!1,templateUrl:"/js/worksheet/widgets/templates/widget-title-cover.html",controller:wsTitleCoverController}}),wsTitleCoverController.$inject=["$scope","$element","$attrs","$transclude","$uibModal"],ChooseCoverCTRL.$inject=["$scope","$uibModalInstance","selectedCover"];

},{}],"/home/node/app/assets/js/worksheet/widgets/wsblanks.js":[function(require,module,exports){
"use strict";var _blankitFroalaPlugin=_interopRequireDefault(require("./blankit-froala-plugin"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}angular.module("wizer").config(function(){$.FroalaEditor.DEFAULTS=$.extend($.FroalaEditor.DEFAULTS,{blankit_plugin:{}}),$.FroalaEditor.PLUGINS.blankit=_blankitFroalaPlugin.default,$.FroalaEditor.DefineIcon("Blank It",{NAME:"cog"}),$.FroalaEditor.RegisterCommand("BlankIt",{title:"BlankIt",type:"button",focus:!0,undo:!0,refreshAfterCallback:!0,callback:function(t,e){this.blankit.blankit()}}),$.FroalaEditor.RegisterShortcut(75,"BlankIt",null,!0)}).directive("blankhtml",["$compile","$parse",function(t,e){return{restrict:"E",replace:!0,controller:["$scope","$element","$attrs","$compile","$parse",function(t,e,n,a,o){t.compileContent=function(e,n){var s=o(n)(t);if(void 0!==s){var i=s.replace(/\&nbsp;/g," ");e.html(i),t.solution.blanks||(t.solution.blanks={}),e.find("wmblank").each(function(e,n){n.getAttribute("id")&&void 0!==t.widget.rtdata.seq_seed||(n.setAttribute("id","blank_"+e),n.setAttribute("ng-model","solution.blanks.blank_"+e))}),a(e.contents())(t)}else console.log("warn: No NBSPContent found in scope for",n)}}],link:function(t,e,n){t.$watch(n.content,function(){t.compileContent(e,n.content)},!0)}}}]).directive("wsblank",["$widgetScoring","$parse","$compile",function(t,e,n){return{restrict:"E",scope:{widget:"=",assessment:"=",solution:"=?",wsState:"=",isEdit:"="},replace:!1,templateUrl:"/js/worksheet/widgets/templates/wsblank.html",controller:["$scope","$element","$attrs","$transclude","$compile","WS_STATE_CONST",function(t,e,n,a,o,s){t.WS_STATE_CONST=s,t.widget&&!t.widget.rtdata.wordBank&&(t.widget.rtdata.wordBank="none"),t.blankFroalaOptions={placeholderText:"Enter Blanks text here",toolbarInline:!1,toolbarSticky:!1,pastePlain:!0,charCounterCount:!1,toolbarButtons:["BlankIt"],toolbarButtonsMD:["BlankIt"],toolbarButtonsSM:["BlankIt"],toolbarButtonsXS:["BlankIt"],toolbarBottom:!0,blankit_plugin:{elementProvider:function(e,n){var a=e.doc.createElement("wmblank");return void 0!==t.widget.rtdata.seq_seed&&(a.setAttribute("id","blank_"+ ++t.widget.rtdata.seq_seed),a.setAttribute("ng-model","widget.rtdata.solution.blanks.blank_"+t.widget.rtdata.seq_seed)),a.textContent=n,a}},htmlAllowedTags:["p","h1","h2","h3","h4","h5","h6","wmblank"],htmlAllowedAttrs:["id","ng-model","class"],pluginsEnabled:["blankit","entities"]}}],link:function(e,n,a){e.$watch("isEdit",function(t,n){0==t&&1==n?e.isSaving=!0:1==t&&0==n&&delete e.isSaving}),e.$watch("widget.rtdata.wordBank",function(t,n){e.wsState==e.WS_STATE_CONST.EDIT&&e.createAnswerList(e.widget.rtdata.solution.blanks)}),e.$watch("widget.rtdata.blankText",function(t,n){e.wsState===e.WS_STATE_CONST.EDIT&&(_.isEmpty(t)?e.$emit("invalidInput","Please enter Blanks text above."):e.$emit("validInput"))}),e.$watch("widget.rtdata.solution.blanks",function(t,n){if(e.wsState!=e.WS_STATE_CONST.EDIT&&e.createAnswerList(e.widget.rtdata.solution.blanks),t&&n&&Object.keys(t).length!=Object.keys(n).length&&e.isSaving){var a=Object.keys(e.widget.rtdata.solution.blanks).length;e.widget.point=a||1,e.$emit("pointsChanged")}},!0),e.$watch("solutions",function(t,n){e.wsState!=e.WS_STATE_CONST.PREVIEW&&e.wsState!=e.WS_STATE_CONST.EMBED||(e.modifyAnswerWordbank(e.solutions),e.wsState==e.WS_STATE_CONST.EMBED&&e.createPreviewSolution())},!0),e.$watch("solution.blanks",function(t,n){e.wsState==e.WS_STATE_CONST.EDIT&&("text"!==e.widget.rtdata.wordBank&&"click"!==e.widget.rtdata.wordBank||e.createAnswerList(e.solution.blanks),e.createPreviewSolution()),e.wsState!=e.WS_STATE_CONST.SOLVE&&e.wsState!=e.WS_STATE_CONST.EMBED&&e.wsState!=e.WS_STATE_CONST.PREVIEW||e.modifyAnswerWordbank(e.solution.blanks),t&&n&&Object.keys(t).length!=Object.keys(n).length&&e.isSaving&&e.$emit("pointsChanged")},!0),e.createPreviewSolution=function(){e.solutions={},angular.forEach(e.solution.blanks,function(t,n){e.solutions[n]=""})},e.modifyAnswerWordbank=function(t){var n=!1;angular.forEach(e.wordbankAnswers,function(t){delete t.selected}),angular.forEach(t,function(t,a){t&&(n=!1,angular.forEach(e.wordbankAnswers,function(e){!n&&e.value&&e.value.toLowerCase().trim()==t.toLowerCase().trim()&&(e.selected=!0,n=!0)}))})},e.createAnswerList=function(t){var n=[];angular.forEach(t,function(t,e){n.push({value:t})}),e.wordbankAnswers=e.shuffleWordbank(n)},e.shuffleWordbank=function(t){for(var e,n,a=t.length;0!==a;)n=Math.floor(Math.random()*a),e=t[a-=1],t[a]=t[n],t[n]=e;return t},e.widget.isEmpty=function(){return!(e.widget.rtdata.blankText&&0!==e.widget.rtdata.blankText.length||e.widget.rtdata.audio&&e.widget.rtdata.audio.url)},e.widget.calcScore=function(){e.assessment||(e.assessment={});var n=e.widget,a=e.solution,o=e.assessment,s=t.calcAssessment(n,a,o);return s&&(e.assessment=s),e.assessment},e.solution||(e.solution={}),void 0!==e.widget.rtdata.blankText||e.widget.rtdata.audio&&e.widget.rtdata.audio.url||e.wsState==e.WS_STATE_CONST.SOLVE||(e.solution.blanks={}),e.solution.blanks||(e.solution.blanks={}),void 0===e.widget.rtdata.blankText&&e.wsState==e.WS_STATE_CONST.EDIT&&e.$emit("toggle-edit")}}}]).directive("wmblank",["$q",function(t){return{restrict:"E",scope:!0,replace:!1,require:"^ngModel",templateUrl:"/js/worksheet/widgets/templates/wmblank.html",transclude:!0,controller:["$scope","$element","$attrs","$transclude","$q","$timeout",function(t,e,n,a,o,s){t.innerblankSolution="",t.blankId=n.id,t.removeAnswer=function(){t.wsState!=t.WS_STATE_CONST.EDIT&&(t.wsState==t.WS_STATE_CONST.SOLVE?t.solution.blanks[t.blankId]="":t.solutions[t.blankId]="",t.$emit("formdirty"))},a(t,function(e){e.length>0&&(t.innerblankSolution=e[0].innerHTML)}),t.getValueSize=function(){return t.blankLength},t.showAutocomplete=function(){"click"===t.widget.rtdata.wordBank&&(t.showAutocompleteInput=!0,s(function(){$(e).find('input[type="search"]').focus()},100))},t.hideAutocomplete=function(){delete t.showAutocompleteInput},t.onSelectWordbank=function(e){if(e){if(!e.value)return;var n;e.selected&&(t.wsState==t.WS_STATE_CONST.PREVIEW?angular.forEach(t.solutions,function(a,o){n||o==t.blankId||a.toLowerCase().trim()!=e.value.toLowerCase().trim()||(n=!0,t.solutions[o]="")}):angular.forEach(t.solution.blanks,function(a,o){n||o==t.blankId||a.toLowerCase().trim()!=e.value.toLowerCase().trim()||(n=!0,t.solution.blanks[o]="")})),t.wsState==t.WS_STATE_CONST.PREVIEW?t.solutions[t.blankId]=e.value:t.solution.blanks[t.blankId]=e.value,t.$emit("formdirty")}else t.removeAnswer()},t.toggleCorrectAnswer=function(){t.correctAnswer=!t.correctAnswer,t.assessment.blanks||(t.assessment.blanks={}),t.assessment.blanks[n.id]=t.correctAnswer;var e=t.widget.calcScore();e&&(t.assessment=e),t.$emit("formdirty")},t.isCorrectAnswer=function(){var e=t.wsState,n=t.WS_STATE_CONST;if((e!=n.SOLVE||t.assessment&&"draft"!=t.assessment.status)&&(e==n.SOLVE||e==n.ASSESS))return t.assessment&&t.assessment.autoAssessment||(t.assessment.autoAssessment={}),!!t.assessment.autoAssessment[t.blankId]}}],link:function(t,e,n,a){t.myModel=a,t.correctAnswer=null,t.initialValue=void 0,t.blankLength=t.innerblankSolution?t.innerblankSolution.length:20,t.$watch(n.ngModel,function(e,a){void 0!==e&&(t.innerblank=e,t.initialValue||(t.initialValue=e),t.assessment&&t.assessment.blanks?t.correctAnswer=t.assessment.blanks[n.id]:t.wsState==t.WS_STATE_CONST.ASSESS&&e&&e.length>0&&(t.correctAnswer=t.widget.rtdata.solution.blanks[n.id].toLocaleLowerCase().trim()==e.toLocaleLowerCase().trim()))}),t.widget.rtdata.solution||(t.widget.rtdata.solution={}),t.widget.rtdata.solution.blanks||(t.widget.rtdata.solution.blanks={}),t.wsState==t.WS_STATE_CONST.EDIT?t.solution.blanks[t.blankId]=t.innerblankSolution:t.widget.rtdata.solution.blanks[t.blankId]=t.innerblankSolution,t.$emit("recalc_score")}}}]);

},{"./blankit-froala-plugin":"/home/node/app/assets/js/worksheet/widgets/blankit-froala-plugin.js"}],"/home/node/app/assets/js/worksheet/widgets/wschat.js":[function(require,module,exports){
"use strict";angular.module("wizer.widgets").directive("wschat",[function(){return{restrict:"E",scope:{publicationToken:"@",widget:"=",wsState:"=",isEdit:"="},templateUrl:"/js/worksheet/widgets/templates/wschat.html",controller:["$scope","$element","$attrs","$rootScope","$sce","WS_STATE_CONST",function(t,e,i,a,d,r){t.WS_STATE_CONST=r,t.$on("teacher:chat:modified",function(){t.$emit("formdirty")})}],link:function(t,e,i){t.widget.point=0,t.widget.isEmpty=function(){return!(t.widget.rtdata.title&&t.widget.rtdata.title.length||t.widget.rtdata.chats&&t.widget.rtdata.chats.length)},t.widget.rtdata.chats&&t.widget.rtdata.chats.length||t.wsState==t.WS_STATE_CONST.SOLVE||(t.widget.rtdata.chats=[]),t.widget.rtdata.title&&t.widget.rtdata.title.length||t.widget.rtdata.chats&&t.widget.rtdata.chats.length||t.wsState==t.WS_STATE_CONST.SOLVE||t.$emit("toggle-edit")}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/wsdraw.js":[function(require,module,exports){
"use strict";angular.module("wizer.widgets").directive("wsdraw",[function(){return{restrict:"E",templateUrl:"/js/worksheet/widgets/templates/wsdraw.html",scope:{widget:"=",assessment:"=",solution:"=?",wsState:"=",isEdit:"="},controller:["$scope","$element","$attrs","$rootScope","$sce","WS_STATE_CONST",function(t,a,e,i,r,d){t.WS_STATE_CONST=d,t.widget.partialPointer||(t.widget.partialPointer=!0),t.$watch("wsState",function(a,e){t.wsState!==t.WS_STATE_CONST.EDIT&&t.wsState!==t.WS_STATE_CONST.PREVIEW||(t.solution.drawData=[])})}],link:function(t,a,e){void 0===t.widget.rtdata.drawData&&t.wsState!=t.WS_STATE_CONST.SOLVE&&(t.widget.rtdata.drawData=[],t.$emit("toggle-edit")),t.wsState!=t.WS_STATE_CONST.EDIT&&t.wsState!=t.WS_STATE_CONST.PREVIEW&&t.wsState!==t.WS_STATE_CONST.EMBED&&t.solution&&t.solution.drawData||(t.solution||(t.solution={}),t.solution.drawData=[]),t.widget.isEmpty=function(){return!(t.widget.rtdata.drawData&&t.widget.rtdata.drawData.length||t.widget.rtdata.title&&0!==t.widget.rtdata.title.length||t.widget.rtdata.description&&0!==t.widget.rtdata.description.length)}}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/wsessay.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wsessay",[function(){return{restrict:"E",scope:{widget:"=",assessment:"=",solution:"=?",wsState:"=",isEdit:"="},replace:!1,templateUrl:"/js/worksheet/widgets/templates/wsessay.html",controller:["$scope","$element","$attrs","$transclude","$sce","$http","WS_STATE_CONST","UserSvc",function(t,e,i,r,a,n,s,d){t.WS_STATE_CONST=s,t.renderHtml=function(t){return a.trustAsHtml(t)},t.widget.partialPointer||(t.widget.partialPointer=!0),t.froalaAnswerOptions={placeholderText:"Write your answer...",direction:"auto",toolbarButtons:["bold","underline","fontSize","color","emoticons","insertImage","insertLink","|","formatOL","textDirection","|","specialCharacters","subscript","superscript","undo","redo","clearFormatting"]},d.settings().then(function(e){t.usettings=e})}],link:function(t,e,i){t.froalaAnswerOptions.heightMin=55*(t.widget.rtdata.answerLines?t.widget.rtdata.answerLines:1),t.froalaAnswerOptions.height=55*(t.widget.rtdata.answerLines?t.widget.rtdata.answerLines:1),t.widget.isEmpty=function(){return!(t.widget.rtdata.title&&t.widget.rtdata.title.length||t.widget.rtdata.audio&&t.widget.rtdata.audio.url)},t.widget.titleText=function(){return t.widget.rtdata.title},t.widget.rtdata.title&&t.widget.rtdata.title.length||t.widget.rtdata.audio&&t.widget.rtdata.audio.url||t.wsState===t.WS_STATE_CONST.SOLVE?void 0!==t.widget.rtdata.content&&t.widget.rtdata.content.length>0&&(t.widget.rtdata.title+="<hr/>"+t.widget.rtdata.content,t.widget.rtdata.content=void 0):t.$emit("toggle-edit"),t.widget.rtdata.answerLines>4?t.widget.rtdata.answerLines=8:1!==t.widget.rtdata.answerLines&&(t.widget.rtdata.answerLines=4),t.$watch("isEdit",function(){!1===t.isEdit&&t.widget.rtdata.answerLines&&t.froalaAnswerOptions.froalaEditor&&(t.froalaAnswerOptions.froalaEditor("destroy"),t.froalaAnswerOptions.froalaEditor({direction:"auto",placeholderText:"Write your answer...",toolbarButtons:["bold","underline","fontSize","color","emoticons","insertImage","insertLink","|","formatOL","textDirection","|","specialCharacters","subscript","superscript","undo","redo","clearFormatting"],heightMin:55*(t.widget.rtdata.answerLines?t.widget.rtdata.answerLines:1)}))})}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/wsimage.js":[function(require,module,exports){
"use strict";function wsImageController(e,t,i,n,a,o){e.WS_STATE_CONST=o,e.isUploading=!1,e.onUploadStart=function(){e.isUploading=!0,a.spin("upload-spinner-"+e.$index)},e.onUploadError=function(t,i){e.isUploading=!1,a.stop("upload-spinner-"+e.$index)},e.onFilesSubmitted=function(t,i){e.s3upload=new S3Upload({files_element:i.target,s3_sign_put_url:"/file/signS3",onProgress:function(e,t){},onFinishS3Put:function(i){e.setUploadedImage(t[0],i)},onError:function(t){console.log("Upload error: "+t),e.onUploadError(null,t)}}),a.spin("upload-spinner-"+e.$index),e.isUploading=!0},e.setUploadedImage=function(t,i){n.get(i,{cache:!0}).success(function(){e.isUploading=!1,a.stop("upload-spinner-"+e.$index),e.widget.rtdata.image||(e.widget.rtdata.image={}),e.widget.rtdata.image.url=i,n.post("/file/s3uploadDone",{filename:t.name,imagePath:i,type:"wsimage"}).success(function(){}).error(function(e){console.log("Fail register image upload. %s",e)})}).error(function(t){e.isUploading=!1,a.stop("upload-spinner-"+e.$index),console.log("Fail to get image (%s) from s3. %s",i,t)})},e.onUploadSucess=function(t,i){var n=JSON.parse(i);if(n&&n.files.length>0){var a=n.files[0].extra.Location;e.setUploadedImage(n.files[0],a)}},e.selectImage=function(t){e.widget.rtdata.image&&e.widget.rtdata.image.url==t.url||(e.widget.rtdata.image=t,e.widget.rtdata.width=void 0,e.widget.rtdata.height=void 0)},e.imageResized=function(t,i){e.widget.rtdata.width=i.size.width,e.widget.rtdata.height=i.size.height}}wsImageController.$inject=["$scope","$element","$attrs","$http","usSpinnerService","WS_STATE_CONST"],angular.module("wizer").directive("wsimage",[function(e){return{restrict:"E",scope:{widget:"=",wsState:"=",isEdit:"="},templateUrl:"/js/worksheet/widgets/templates/wsimage.html",controller:wsImageController,link:function(e,t,i){e.widget.isEmpty=function(){return!e.widget.rtdata.image||0===e.widget.rtdata.image.length},void 0===e.widget.rtdata.image&&e.wsState!==e.WS_STATE_CONST.SOLVE&&e.$emit("toggle-edit")}}}]),wsImageController.$inject=["$scope","$element","$attrs","$http","usSpinnerService","WS_STATE_CONST"];

},{}],"/home/node/app/assets/js/worksheet/widgets/wslink.js":[function(require,module,exports){
"use strict";function wsLinkController(t,e,i,n,r,a,l,o){t.isLoading=!1,t.WS_STATE_CONST=o,t.froalaOptions={placeholderText:"Write question here..."},t.descriptionFroalaOptions={placeholderText:"Add some description here to focus your students on what's important in this link."},t.$watch("widget.rtdata.url",function(){if(t.wsState===t.WS_STATE_CONST.EDIT&&t.widget.rtdata.url&&t.widget.rtdata.url.length>0){var e=t.widget.rtdata.url;if(!e.match||e.match&&!e.match(/(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi))return null;e=t.normalizeUrl(e),t.extractPageData(e)}}),t.renderHtml=function(t){return r.trustAsHtml(t)},t.showLinkPage=function(e){t.solution.linkStats.hasOpened=!0,t.linkOpenTime=new Date,n.open({templateUrl:"/js/worksheet/widgets/templates/link-modal.html",controller:"ViewLinkpageModalCTRL",size:e,windowClass:"view-linkkpage-modal",resolve:{titleDir:function(){return t.widget.rtdata.dir},pageTitle:function(){return t.widget.rtdata.teacher_title?t.widget.rtdata.teacher_title:t.widget.rtdata.title},pageLink:function(){return t.widget.rtdata.noiframe?(t.trunsterPageLink=r.trustAsResourceUrl("/page?pageLink="+t.normalizeUrl(t.widget.rtdata.url)),t.trunsterPageLink):t.trastedUrl()}}}).result.then(function(){},function(){t.solution.linkStats.timespent+=new Date-t.linkOpenTime})},t.trastedUrl=function(){return r.trustAsResourceUrl(t.normalizeUrl(t.widget.rtdata.url))},t.normalizeUrl=function(t){var e=t;return e.match(/https?:\/\//gi)||(e="http://"+e),e},t.extractPageData=function(e){l.spin("spinner-loadpage-"+t.$index),a.extract({pageLink:e}).$promise.then(function(e){l.stop("spinner-loadpage-"+t.$index),t.widget.rtdata.noiframe=e.noiframe,t.widget.rtdata.title=e.title,t.widget.rtdata.favicon=e.favicon,t.widget.rtdata.image=e.image,t.widget.rtdata.description=e.description,t.widget.rtdata.text=e.text,t.widget.rtdata.lang=e.lang,t.widget.rtdata.dir=e.dir})}}function viewLinkPageController(t,e,i,n,r){t.trunsterPageLink=n,t.pageTitle=r,t.titleDir=i,t.close=function(){e.dismiss("close")}}wsLinkController.$inject=["$scope","$element","$attrs","$uibModal","$sce","PageExtractor","usSpinnerService","WS_STATE_CONST"],viewLinkPageController.$inject=["$scope","$uibModalInstance","titleDir","pageLink","pageTitle"],angular.module("wizer").controller("ViewLinkpageModalCTRL",viewLinkPageController),angular.module("wizer").directive("wslink",function(){return{restrict:"E",scope:{widget:"=",solution:"=?",wsState:"=",isEdit:"="},templateUrl:"/js/worksheet/widgets/templates/wslink.html",controller:wsLinkController,link:function(t,e,i){t.solution||(t.solution={}),t.solution.linkStats||(t.solution.linkStats={hasOpened:!1,timespent:0}),t.widget.isEmpty=function(){return!t.widget.rtdata.url||0===t.widget.rtdata.url.length},t.widget.timespent=function(){return t.solution.linkStats.timespent},t.widget.hasViewed=function(){return t.solution.linkStats.hasOpened},void 0===t.widget.rtdata.url&&t.wsState!=t.WS_STATE_CONST.SOLVE&&(t.widget.rtdata.url="",t.$emit("toggle-edit"))}}}),wsLinkController.$inject=["$scope","$element","$attrs","$uibModal","$sce","PageExtractor","usSpinnerService","WS_STATE_CONST"],viewLinkPageController.$inject=["$scope","$uibModalInstance","titleDir","pageLink","pageTitle"];

},{}],"/home/node/app/assets/js/worksheet/widgets/wsmatch.js":[function(require,module,exports){
"use strict";var _jsplumb=require("jsplumb"),_debounce=_interopRequireDefault(require("lodash/debounce"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}angular.module("wizer").directive("addMatchingPair",["$mdDialog","$timeout","uploadfileservice","$widgetScoring",function(t,e,i,a){return{restrict:"A",scope:{allPairs:"=",editPair:"=",seqId:"=",isEdit:"="},templateUrl:"/js/worksheet/widgets/templates/match-pair.html",controller:["$scope","$element","$attrs","$mdDialog","$timeout","uploadfileservice",function(t,e,i,a,n,o){t.emptyPair={target:{type:"txt",value:""},match:{type:"txt",value:""}},t.addMediaConfig={left:{isOpen:!1,isShow:!1},right:{isOpen:!1,isShow:!1}},t.matchPair=null!=t.editPair?t.editPair:angular.copy(t.emptyPair),t.matchPair.target.index=(new Date).getTime(),t.matchPair.match.index=(new Date).getTime()+1,t.showAddMedia=function(e){t.addMediaConfig[e].isShow=!0},t.hideAddMedia=function(e){e?t.addMediaConfig[e].isShow=!1:(t.addMediaConfig.left.isShow=!1,t.addMediaConfig.right.isShow=!1)},t.openRecordAudioDialog=function(e,i){var n,o=angular.element(document.body);t.hideAddMedia(),(n="left"===i?t.matchPair.target:t.matchPair.match).media||(n.media={}),a.show({parent:o,targetEvent:e,templateUrl:"/templates/audio-record-dialog.html",locals:{audioData:n.media,audioName:"audio"},controller:["$scope","audioData","audioName",function(t,e,i){t.audioData=e,t.audioName=i}]})},t.savePair=function(e){e&&n(function(){t.addMediaConfig[e].isShow=!1},100),(t.matchPair.target.value||t.matchPair.target.media&&(t.matchPair.target.media.audio||t.matchPair.target.media.image))&&(t.matchPair.match.value||t.matchPair.match.media&&(t.matchPair.match.media.audio||t.matchPair.match.media.image))&&(delete t.matchPair.target.index,delete t.matchPair.match.index,t.editPair||(t.matchPair.seqid=t.seqId,t.seqId++,t.allPairs.push(angular.copy(t.matchPair)),t.matchPair=angular.copy(t.emptyPair),t.matchPair.target.index=(new Date).getTime(),t.matchPair.match.index=(new Date).getTime()+1),t.$emit("formdirty"))},t.isUploading=function(t){return o.isUploading(t,t.index)},t.onUploadStart=function(t,e){o.onUploadStart(t,e)},t.onUploadError=function(t,e,i,a){o.onUploadError(t,e,i,a)},t.onFilesSubmitted=function(e,i,a,n){t.hideAddMedia(),e.length&&o.onFilesSubmitted(e,i,a,n).then(function(e){t.setUploadedImage(e.file,e.url,a,n)},function(e){t.onUploadError(null,e,a,n)})},t.$on("audio-added",function(e){t.savePair()}),t.setUploadedImage=function(e,i,a,n){o.setUploadedImage(e,i,a,n).then(function(e){a.media||(a.media={}),a.media.image=e,t.savePair()})},t.onUploadSucess=function(e,i,a,n){o.onUploadSucess(e,i,a,n).then(function(e,i){t.setUploadedImage(e,i,a,n)})},t.removeImage=function(t,e){var i=a.confirm().title("Are you sure you want to remove this image?").htmlContent("").targetEvent(e).ok("YES, DO IT!").cancel("CANCEL");a.show(i).then(function(){delete t.media.image})},t.removeAudio=function(t,e){var i=a.confirm().title("Are you sure you want to remove this audio file?").htmlContent("").targetEvent(e).ok("YES, DO IT!").cancel("CANCEL");a.show(i).then(function(){delete t.media.audio})},t.$watch("matchPair",function(e,i){t.editPair||t.checkAddPairValid()},!0),t.checkAddPairValid=function(){var e=!0;t.matchPair.target.value||t.matchPair.target.media&&(t.matchPair.target.media.audio||t.matchPair.target.media.image)||(e=!1),t.matchPair.match.value||t.matchPair.match.media&&(t.matchPair.match.media.audio||t.matchPair.match.media.image)||(e=!e),t.isEdit&&(e?t.$emit("validInputConfirm"):t.$emit("invalidInputConfirm","It seems you forgot to complete the matching pair. Are you sure you're done with this exercise?"))}}],link:function(t,i,a){t.imageUpload=function(t){e(function(){angular.element(i[0].querySelector("#image_upload_"+t)).trigger("click")},0)},t.enableAutoGrow=function(t){i.find('[name="input-left"]').prop("scrollHeight")>i.find('[name="input-left"]').prop("offsetHeight")&&i.find('[name="input-left"]').height(i.find('[name="input-left"]').prop("scrollHeight")-4),i.find('[name="input-right"]').prop("scrollHeight")>i.find('[name="input-right"]').prop("offsetHeight")&&i.find('[name="input-right"]').height(i.find('[name="input-right"]').prop("scrollHeight")-4)},t.$watch("isEdit",function(i,a){t.isEdit&&e(function(){t.enableAutoGrow()},500)})}}}]).directive("matchsourceitem",["$timeout",function(t){return{restrict:"A",replace:!0,compile:function(e,i,a){return{post:function(e,i,a,n,o){i[0].id="s_"+e.getId()+"_"+e.matchPair.target.seqid,i[0].style.top=30*e.$index,t(function(){_jsplumb.jsPlumb.ready(function(){e.jsPlumb.makeSource($(i[0]).find(".match-source-anchor")[0],{maxConnections:1,uniqueEndpoint:!1,isSource:!0,enabled:e.wsState!=e.WS_STATE_CONST.ASSESS}),e.$emit("addedJsPlumbSource")})},2e3)}}}}}]).directive("matchtargetitem",["$timeout",function(t){return{restrict:"A",replace:!0,compile:function(e,i,a){return{post:function(e,i,a,n,o){i[0].id="t_"+e.getId()+"_"+e.matchPair.match.seqid,i[0].style.top=30*e.$index,t(function(){_jsplumb.jsPlumb.ready(function(){e.jsPlumb.makeTarget($(i[0]).find(".match-target-anchor")[0],{uniqueEndpoint:!1,isTarget:!0,maxConnections:-1,enabled:e.wsState!=e.WS_STATE_CONST.ASSESS})})},2e3)}}}}}]).directive("wsmatch",["$widgetScoring",function(t){return{restrict:"E",scope:{widget:"=",assessment:"=",solution:"=?",wsState:"=",isEdit:"="},templateUrl:"/js/worksheet/widgets/templates/wsmatch.html",controller:["$scope","$element","$attrs","$uibModal","$q","$timeout","$http","$mdDialog","$window","WS_STATE_CONST",function(t,e,i,a,n,o,r,s,c,d){t.matchingWidgetId=Math.ceil(1e3*Math.random()),t.WS_STATE_CONST=d,t.repaintOnWindowResize=function(){$(window).resize((0,_debounce.default)(function(){t.jsPlumb.repaintEverything()},500))},_jsplumb.jsPlumb.ready(function(){var i=e.find(".match-widget .widget-output:not(.edit)");t.jsPlumb=_jsplumb.jsPlumb.getInstance({PaintStyle:{strokeWidth:6,stroke:"#567567",outlineStroke:"black",outlineWidth:1},MaxConnections:-1,LogEnabled:!0,Anchor:"Center",DragOptions:{cursor:"pointer",zIndex:2e3},Connector:["Bezier",{curviness:30}],Endpoint:["Dot",{radius:11}],EndpointStyle:{fill:"#0000FF"},Container:i}),t.repaintOnWindowResize(),t.jsPlumb.bind("connection",function(e){if(t.jsPlumb.revalidate(e.target),t.jsPlumb.revalidate(e.source),t.jsPlumb.getEndpoints(e.source).forEach(function(i){i.id!=e.sourceEndpoint.id?t.jsPlumb.deleteEndpoint(i):e.sourceEndpoint.connections.length>1&&e.sourceEndpoint.connections.forEach(function(i){i.id!=e.connection&&t.jsPlumb.deleteConnection(i)})}),t.jsPlumb.getEndpoints(e.target).forEach(function(i){i.id!==e.targetEndpoint.id&&t.jsPlumb.deleteEndpoint(i),e.targetEndpoint.connections.length>1&&e.targetEndpoint.connections.forEach(function(i){i.id!==e.connection&&t.jsPlumb.deleteConnection(i)})}),t.wsState===t.WS_STATE_CONST.SOLVE){t.$emit("formdirty");var i=e.source.attributes.getNamedItem("matchseqid");if(i){var a=e.target.attributes.getNamedItem("matchseqid");t.solution.targets[i.value]=a.value}}}),t.jsPlumb.bind("connectionDetached",function(e){t.wsState!==t.WS_STATE_CONST.SOLVE&&t.wsState!==t.WS_STATE_CONST.PREVIEW&&t.wsState!=t.WS_STATE_CONST.EMBED||(t.$emit("formdirty"),o(function(){var i=e.source.attributes.getNamedItem("matchseqid"),a=e.target.attributes.getNamedItem("matchseqid");i&&a&&t.solution.targets[i.value]==a.value&&delete t.solution.targets[i.value]},100))})}),t.$watch("widget.rtdata.pairs",function(e,i){t.checkPairValid()},!0),t.isSelectedSource=function(e){var i="s_"+t.getId()+"_"+e;return t.clickedSourceId===i},t.isSelectedTarget=function(e){var i="t_"+t.getId()+"_"+e;return t.clickedTargetId===i},t.onSourceClicked=function(e){t.wsState!==t.WS_STATE_CONST.SOLVE&&t.wsState!==t.WS_STATE_CONST.PREVIEW&&t.wsState!==t.WS_STATE_CONST.EMBED||(t.clickedSourceId=$(e.currentTarget).attr("id"),e.stopPropagation(),delete t.activeEvent,t.activeEvent=c.onclick=function(e){delete t.clickedSourceId,t.$digest()},t.clickedTargetId&&(angular.forEach(t.jsPlumb.getAllConnections(),function(e){if(e.sourceId.replace("handle_","")==t.clickedSourceId||e.targetId.replace("handle_","")==t.clickedTargetId){t.jsPlumb.deleteConnection(e);var i=$("#"+e.sourceId).attr("matchsourceitem");null!=i&&delete t.solution.targets[i]}}),t.createClickedConnection()))},t.onTargetClicked=function(e){t.wsState!==t.WS_STATE_CONST.SOLVE&&t.wsState!==t.WS_STATE_CONST.PREVIEW&&t.wsState!==t.WS_STATE_CONST.EMBED||(t.clickedTargetId=$(e.currentTarget).attr("id"),e.stopPropagation(),delete t.activeEvent,t.activeEvent=c.onclick=function(e){delete t.clickedTargetId,t.$digest()},t.clickedSourceId&&(angular.forEach(t.jsPlumb.getAllConnections(),function(e){if(e.sourceId.replace("handle_","")==t.clickedSourceId||e.targetId.replace("handle_","")==t.clickedTargetId){t.jsPlumb.deleteConnection(e);var i=$("#"+e.sourceId).attr("matchsourceitem");null!=i&&delete t.solution.targets[i]}}),t.createClickedConnection()))},t.createClickedConnection=function(){t.createSolutionConnection(t.clickedSourceId,t.clickedTargetId);var e=$("#"+t.clickedSourceId).attr("matchsourceitem");if(null!=e){var i=$("#"+t.clickedTargetId).attr("matchtargetitem");t.solution.targets[e]=i}delete t.activeEvent,delete t.clickedTargetId,delete t.clickedSourceId,t.$emit("formdirty")},t.checkPairValid=function(){var e=!0;angular.forEach(t.widget.rtdata.pairs,function(t,i){t.target.value||t.target.media&&(t.target.media.audio||t.target.media.image)||(e=!1),t.match.value||t.match.media&&(t.match.media.audio||t.match.media.image)||(e=!1)}),t.wsState===t.WS_STATE_CONST.EDIT&&t.isEdit&&(e?t.$emit("validInput"):t.$emit("invalidInput","Add a text or a media file to each pair.")),(!t.widget.manualPoint||_.isBoolean(t.widget.manualPoint)&&1!=t.widget.manualPoint)&&(t.widget.rtdata.pairs&&t.widget.rtdata.pairs.length?t.widget.point=t.widget.rtdata.pairs.length:t.widget.point=1),t.$emit("pointsChanged"),t.$emit("recalc_score")},t.getId=function(){return t.matchingWidgetId},t.removePair=function(e,i,a){var n=e.target,o=s.confirm().textContent("Are you sure you want to delete this pair?").ariaLabel("delete pair").targetEvent(n).ok("Yes, do it!").cancel("cancel");s.show(o).then(function(){t.widget.rtdata.pairs.splice(a,1),t.$emit("formdirty")},function(){})},t.shuffle=function(t){for(var e,i,a=t.length;0!==a;){for(var n=0;n<10&&(i=Math.floor(Math.random()*a))==a-1;)n++;e=t[a-=1].match,t[a].match=t[i].match,t[i].match=e}return t},t.initSolutionLists=function(e){t.jsPlumb&&t.jsPlumb.deleteEveryEndpoint(),t.sourceCount=0,t.matching=[],e.forEach(function(e,i){var a=angular.copy(e);a.target.seqid=a.seqid,a.match.seqid=a.seqid,t.matching.push(a)}),t.wsState!=t.WS_STATE_CONST.ASSESS&&t.shuffle(t.matching)},t.sourceCount=0,t.matching=[],t.$watch("wsState",function(e,i){if(e&&i)switch(e){case t.WS_STATE_CONST.PREVIEW:var a=document.querySelectorAll("[matchsourceitem],[matchtargetitem]");if(a)for(var n=0;n<a.length;n++)t.jsPlumb.revalidate(a[n]);t.solution.targets={},t.jsPlumb.deleteEveryEndpoint();break;case t.WS_STATE_CONST.EDIT:t.solution.targets={},t.jsPlumb&&t.jsPlumb.deleteEveryEndpoint(),t.showEditConnections()}}),t.showSolutionConnections=function(){Object.keys(t.solution.targets).forEach(function(e){var i=t.solution.targets[e],a="s_"+t.getId()+"_"+e,n="t_"+t.getId()+"_"+i;t.createSolutionConnection(a,n)})},t.createSolutionConnection=function(e,i){if(e="handle_"+e,i="handle_"+i,t.jsPlumb.select({source:e,target:i}).length>0){var a=document.querySelector("#"+e),n=document.querySelector("#"+i);return a&&t.jsPlumb.revalidate(a),void(n&&t.jsPlumb.revalidate(n))}var o=t.jsPlumb.connect({source:e,target:i});o&&o.bind("click",function(e,i){if(t.wsState===t.WS_STATE_CONST.SOLVE&&confirm("Delete connection from "+e.sourceId+" to "+e.targetId+"?")){var a=e.sourceId.match(/([0-9]+)/g),n=a[a.length-1];delete t.solution.targets[n],t.jsPlumb.deleteConnection(e)}})},t.showEditConnections=function(){o(function(){t.widget.rtdata.pairs.forEach(function(e){var i="s_"+t.getId()+"_"+e.seqid,a="t_"+t.getId()+"_"+e.seqid;if(i="handle_"+i,a="handle_"+a,t.jsPlumb.select({source:i,target:a}).length>0){var n=document.querySelector("#"+i),o=document.querySelector("#"+a);return n&&t.jsPlumb.revalidate(n),void(o&&t.jsPlumb.revalidate(o))}t.jsPlumb.connect({source:i,target:a})});var e=document.querySelectorAll("[matchsourceitem],[matchtargetitem]");if(e)for(var i=0;i<e.length;i++)t.jsPlumb.revalidate(e[i])},100)},t.$on("addedJsPlumbSource",function(e){t.sourceCount++}),t.$watch(function(){return t.matching&&t.matching.length>0&&t.matching.length==t.sourceCount?t.sourceCount:void 0},function(e,i){e==t.sourceCount&&((t.wsState==t.WS_STATE_CONST.SOLVE||t.wsState==t.WS_STATE_CONST.ASSESS)&&t.solution&&t.solution.targets?t.showSolutionConnections():t.wsState==t.WS_STATE_CONST.EDIT&&t.showEditConnections())})}],link:function(e,i,a){e.widget.isEmpty=function(){return void 0===e.widget.rtdata.pairs||0===e.widget.rtdata.pairs.length},e.isMatchCorrect=function(t){var i;if(e.wsState!=e.WS_STATE_CONST.EDIT&&e.wsState!=e.WS_STATE_CONST.PREVIEW&&e.wsState!=e.WS_STATE_CONST.EMBED&&(e.wsState!=e.WS_STATE_CONST.SOLVE||e.assessment&&"draft"!=e.assessment.status)&&e.solution.targets&&e.staticTargets&&(Object.keys(e.solution.targets).some(function(a){return e.solution.targets[a]==t&&(i=a,!0)}),null!=i&&e.solution.targets[i]&&e.solution.targets[i]==e.staticTargets[i]&&e.assessment&&e.assessment.autoAssessment)){if(e.assessment.autoAssessment[t])return!0;if(0==e.assessment.autoAssessment[t])return!1}},e.isTargetCorrect=function(t){if(e.wsState!=e.WS_STATE_CONST.EDIT&&e.wsState!=e.WS_STATE_CONST.PREVIEW&&e.wsState!==e.WS_STATE_CONST.EMBED&&(e.wsState!=e.WS_STATE_CONST.SOLVE||e.assessment&&"draft"!=e.assessment.status)&&e.solution.targets&&e.solution.targets[t]&&e.staticTargets&&e.solution.targets[t]==e.staticTargets[t]&&!angular.isUndefined(e.widget.rtdata.pairs)&&!angular.isUndefined(e.widget.rtdata.pairs[t])&&e.assessment&&e.assessment.autoAssessment){if(e.assessment.autoAssessment[t])return!0;if(0==e.assessment.autoAssessment[t])return!1}},e.widget.calcScore=function(){e.assessment||(e.assessment={}),e.assessment.autoAssessment||(e.assessment.autoAssessment={});var i=e.widget,a=e.solution,n=e.assessment;return e.assessment=t.calcAssessment(i,a,n),e.assessment},void 0===e.widget.rtdata.pairs&&e.wsState==e.WS_STATE_CONST.EDIT?(e.widget.rtdata.pairs=[],e.widget.rtdata.seqid=0,e.$emit("toggle-edit")):e.initSolutionLists(e.widget.rtdata.pairs),e.solution||(e.solution={}),e.solution.targets?e.wsState!=e.WS_STATE_CONST.SOLVE&&e.wsState!=e.WS_STATE_CONST.ASSESS||(e.staticTargets=angular.copy(e.solution.targets)):e.solution.targets={},e.$watch(a.isEdit,function(){!1===e.isEdit&&e.initSolutionLists(e.widget.rtdata.pairs)}),e.$watch("solution",function(t,i){null==t||angular.isUndefined(e.widget)||e.initSolutionLists(e.widget.rtdata.pairs)})}}}]);

},{"jsplumb":false,"lodash/debounce":"/home/node/app/node_modules/lodash/debounce.js"}],"/home/node/app/assets/js/worksheet/widgets/wstable.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wstable",["$widgetScoring",function(t){return{restrict:"E",scope:{widget:"=",assessment:"=",solution:"=?",wsState:"=",isEdit:"="},templateUrl:"/js/worksheet/widgets/templates/wstable.html",controller:["$scope","$element","$attrs","$mdDialog","$q","$timeout","$sce","$window","WS_STATE_CONST",function(t,e,a,s,o,r,n,i,l){t.WS_STATE_CONST=l,t.faqId="16",t.widget.rtdata.wordBank||(t.widget.rtdata.wordBank=!1),t.modifyTabledata=function(){angular.forEach(t.widget.rtdata.tablerows,function(t,e){angular.forEach(t.cols,function(e,a){if("string"==typeof e){var s=e;e={text:s},""===s&&(e.isAnswer=!0,e.answerId=(new Date).getTime()),t.cols[a]=e}else!e||e.text&&e.text.replace(/<(?:.|\n)*?>/gm,"").trim()||e.media&&(e.media.image||e.media.audio)||!angular.isUndefined(e.isAnswer)||(e.isAnswer=!1)})})},t.modifySolutiondata=function(){t.wsState!=t.WS_STATE_CONST.ASSESS&&t.wsState!=t.WS_STATE_CONST.PREVIEW&&t.wsState!=t.WS_STATE_CONST.SOLVE&&t.wsState!==t.WS_STATE_CONST.EMBED||(angular.forEach(t.solution.tablerows,function(t,e){t&&t.cols&&angular.forEach(t.cols,function(e,a){"string"==typeof e&&(e={text:e},t.cols[a]=e)})}),angular.forEach(t.widget.rtdata.tablerows,function(e,a){angular.forEach(e.cols,function(e,s){e.isAnswer&&(t.solution.tablerows[a]||(t.solution.tablerows[a]={}),t.solution.tablerows[a].cols||(t.solution.tablerows[a].cols={}),t.solution.tablerows[a].cols[s]||(t.solution.tablerows[a].cols[s]={text:""}))})}))},t.modifyTabledata(),t.markEmptyAsAnswer=function(){angular.forEach(t.widget.rtdata.tablerows,function(t,e){angular.forEach(t.cols,function(t,e){!t||t.text&&t.text.replace(/<(?:.|\n)*?>/gm,"").trim()||t.media&&(t.media.image||t.media.audio)||0==t.isAnswer||(t.isAnswer=!0,t.answerId||(t.answerId=(new Date).getTime()))})})},t.renderHtml=function(t){return"string"==typeof t?n.trustAsHtml(t):""},t.checkMediaAnswers=function(){var e=!1;t.widget.rtdata.tablerows.forEach(function(t,a){t.cols.forEach(function(t){!e&&t.isAnswer&&t.media&&(t.media.audio||t.media.image)&&(e=!0)})}),e&&!t.widget.rtdata.wordBank&&(t.widget.rtdata.wordBank=!0)},t.checkEmptyAnswers=function(){delete t.hasEmptyAnswer,t.widget.rtdata.wordBank&&t.widget.rtdata.tablerows.forEach(function(e,a){e.cols.forEach(function(e){!t.hasEmptyAnswer&&e.isAnswer&&(e.text&&e.text.replace(/<(?:.|\n)*?>/gm,"").trim()||e.media&&(e.media.image||e.media.audio)||(t.hasEmptyAnswer=!0))})}),t.hasEmptyAnswer&&t.widget.rtdata.wordBank?t.$emit("invalidInput","Empty table cell is not allowed when wordbank is enabled."):t.$emit("validInput")},t.getPoint=function(){var e=0;t.widget.rtdata.tablerows.forEach(function(t,a){t.cols.forEach(function(t){t.isAnswer&&e++})}),t.widget.point=0==e?1:e,t.$emit("pointsChanged")},t.getCellContent=function(t){return!!t&&!!(t.text||t.text.replace(/<(?:.|\n)*?>/gm,"").trim()||t.media&&(t.media.image||t.media.audio))},t.getEditCellPlaceholder=function(e,a){return t.widget.rtdata.showHeading&&1==e&&0==a||!t.widget.rtdata.showHeading&&0==e&&0==a?"e.g. 1+1=?":""},t.isQuestionCellEditable=function(e,a){var s=t.widget.rtdata.tablerows[e].cols[a];return s.text&&s.text.replace(/<(?:.|\n)*?>/gm,"").trim()?"answer"===t.activeTab?!(!s.isMarkedAsAnswer&&!s.isFocused):!s.isMarkedAsAnswer:"answer"!==t.activeTab||(0!=e||!t.widget.rtdata.showHeading)},t.openWordBank=function(e,a){if(t.wsState!=t.WS_STATE_CONST.EDIT&&t.wsState!=t.WS_STATE_CONST.ASSESS){var o=angular.element(document.body);s.show({parent:o,targetEvent:a,clickOutsideToClose:!0,templateUrl:"/js/worksheet/widgets/templates/wordbank-dialog.html",controller:"WordBankCtrl",locals:{answerCell:e,solution:t.solution.tablerows,tablerows:t.widget.rtdata.tablerows,state:t.wsState,stateConst:l,seqId:t.widget.seqid}})}},t.setScore=function(e,a,s){t.assessment.tablerows||(t.assessment.tablerows={}),t.assessment.tablerows[a]||(t.assessment.tablerows[a]={cols:{}}),t.assessment.tablerows[a].cols[s]=e,t.widget.calcScore(),t.$emit("formdirty")},t.getAssessmentScore=function(e,a){var s;return t.wsState==t.WS_STATE_CONST.EDIT||t.wsState==t.WS_STATE_CONST.PREVIEW||t.wsState==t.WS_STATE_CONST.SOLVE&&!t.assessment?void 0:(t.assessment&&t.assessment.tablerows&&t.assessment.tablerows[e]&&t.assessment.tablerows[e].cols&&null!=t.assessment.tablerows[e].cols[a]&&(t.assessment.tablerows[e].cols[a]?s=!0:0==t.assessment.tablerows[e].cols[a]&&(s=!1)),null==s&&t.assessment&&t.assessment.autoAssessment&&t.assessment.autoAssessment[e]&&null!=t.assessment.autoAssessment[e][a]&&(t.assessment.autoAssessment[e][a]?s=!0:0==t.assessment.autoAssessment[e][a]&&(s=!1)),s)},t.getScore=function(e,a){if(t.wsState!=t.WS_STATE_CONST.EDIT&&t.wsState!=t.WS_STATE_CONST.PREVIEW&&t.wsState!==t.WS_STATE_CONST.EMBED&&(t.wsState!=t.WS_STATE_CONST.SOLVE||t.assessment)){if(t.assessment&&t.assessment.tablerows&&t.assessment.tablerows[e]&&t.assessment.tablerows[e].cols&&null!=t.assessment.tablerows[e].cols[a])return t.assessment.tablerows[e].cols[a];var s,o=t.widget.rtdata.tablerows[e].cols[a];if(t.solution.tablerows[e]&&t.solution.tablerows[e].cols&&t.solution.tablerows[e].cols[a]&&(s=t.solution.tablerows[e].cols[a]),o&&o.media&&(o.media.audio||o.media.image))return t.widget.rtdata.wordBank?o.media.image?s&&s.media&&s.media.image&&o.media.image==s.media.image?1:0:o.media.audio.url&&s&&s.media&&s.media.audio&&s.media.audio.url&&o.media.audio.url==s.media.audio.url?1:0:void 0;if(o&&s&&null!=o.text&&null!=s.text){if(!o.text.replace(/<(?:.|\n)*?>/gm,"").trim().toLocaleLowerCase())return;return o.text.replace(/<(?:.|\n)*?>/gm,"").trim().toLocaleLowerCase()==s.text.replace(/<(?:.|\n)*?>/gm,"").trim().toLocaleLowerCase()?1:0}return 0}},t.changeAssessment=function(e,a){t.getScore(e,a)?t.setScore(0,e,a):t.setScore(1,e,a)},t.$on("answer:modified",function(e){t.checkMediaAnswers(),t.checkEmptyAnswers(),t.getPoint(),t.$emit("formdirty")}),t.$on("word-bank-changed",function(e){t.$emit("formdirty")}),t.$watch("solution",function(e,a){angular.isUndefined(e)||angular.isUndefined(t.solution.tablerows)&&(t.solution.tablerows=[]),t.modifySolutiondata()}),t.$watch("isEdit",function(e,a){t.wsState==t.WS_STATE_CONST.EDIT&&(e||1!=a||(t.markEmptyAsAnswer(),t.checkEmptyAnswers(),t.hasEmptyAnswer&&scope.$emit("toggle-edit")))}),t.$watch("widget.rtdata.wordBank",function(e,a){t.checkMediaAnswers(),t.checkEmptyAnswers()}),t.calcColumnWidth=function(t){return Math.floor(100/t)},t.showCellReduceConfirmation=function(){var t=o.defer(),e=s.confirm().title("").textContent("Are you sure you want to reduce the table's size? The content of those cells will be deleted.").ariaLabel("cell reduce confirm").ok("Yes").cancel("No");return s.show(e).then(function(){t.resolve()},function(){t.reject()}),t.promise}}],link:function(e,a,s){e.activeTab="instruction",e.changeActiveTab=function(t){t&&(e.activeTab=t)},e.widget.isEmpty=function(){var t=!1;return e.widget.rtdata.tablerows.forEach(function(e){e.cols.forEach(function(e){e&&(e.text||e.media&&(e.media.audio||e.media.image))&&(t=!0)})}),!(t||e.widget.rtdata.title&&0!==e.widget.rtdata.title.length)},e.widget.calcScore=function(){e.assessment||(e.assessment={});var a=e.widget,s=e.solution,o=e.assessment;return e.assessment=t.calcAssessment(a,s,o),e.assessment},void 0===e.widget.rtdata.tablerows&&e.wsState!=e.WS_STATE_CONST.SOLVE&&(e.widget.rtdata.tablerows=[],e.widget.rtdata.numberOfCols=3,e.widget.rtdata.numberOfRows=2,e.$emit("toggle-edit")),e.wsState!=e.WS_STATE_CONST.SOLVE&&(e.wsState,e.WS_STATE_CONST.ASSESS),e.solution||(e.solution={}),e.solution.tablerows||(e.solution.tablerows=[]),e.$watch("widget.rtdata.numberOfCols",function(t,a){if(!isNaN(e.widget.rtdata.numberOfCols)&&e.widget.rtdata.numberOfCols){if(e.widget.rtdata.tablerows&&e.widget.rtdata.tablerows.length)if(e.widget.rtdata.tablerows[0].cols.length<e.widget.rtdata.numberOfCols)e.widget.rtdata.tablerows.forEach(function(t){for(;t.cols.length!=e.widget.rtdata.numberOfCols;)t.cols.splice(t.cols.length,0,{text:""})});else if(e.widget.rtdata.tablerows[0].cols.length>e.widget.rtdata.numberOfCols)if(e.wsState==e.WS_STATE_CONST.EDIT&&e.isEdit){var s=!1;e.widget.rtdata.tablerows.forEach(function(t){if(t&&t.cols&&t.cols.length&&!s)for(var a=e.widget.rtdata.numberOfCols;a<t.cols.length;a++)!s&&(t.cols[a].text||t.cols[a].media&&(t.cols[a].media.image||t.cols[a].media.audio))&&(s=!0)}),s?e.showCellReduceConfirmation().then(function(){e.widget.rtdata.tablerows.forEach(function(t){t.cols.splice(e.widget.rtdata.numberOfCols-t.cols.length)})},function(){e.widget.rtdata.numberOfCols=e.widget.rtdata.tablerows[0].cols.length}):e.widget.rtdata.tablerows.forEach(function(t){t.cols.splice(e.widget.rtdata.numberOfCols-t.cols.length)})}else e.widget.rtdata.tablerows.forEach(function(t){t.cols.splice(e.widget.rtdata.numberOfCols-t.cols.length)});e.$emit("recalc_score")}}),e.$watch("widget.rtdata.numberOfRows",function(t,a){if(!isNaN(e.widget.rtdata.numberOfRows)&&e.widget.rtdata.numberOfRows)if(e.widget.rtdata.tablerows.length<e.widget.rtdata.numberOfRows)for(;e.widget.rtdata.tablerows.length<e.widget.rtdata.numberOfRows;){for(var s={cols:[]};s.cols.length!=e.widget.rtdata.numberOfCols;)s.cols.splice(s.cols.length,0,{text:""});e.widget.rtdata.tablerows.push(s)}else if(e.widget.rtdata.tablerows.length>e.widget.rtdata.numberOfRows)if(e.wsState==e.WS_STATE_CONST.EDIT&&e.isEdit){for(var o=!1,r=e.widget.rtdata.numberOfRows;r<e.widget.rtdata.tablerows.length;r++)e.widget.rtdata.tablerows[r]&&e.widget.rtdata.tablerows[r].cols&&e.widget.rtdata.tablerows[r].cols.length&&!o&&angular.forEach(e.widget.rtdata.tablerows[r].cols,function(t,e){(!o&&t.text||t.media&&(t.media.image||t.media.audio))&&(o=!0)});o?e.showCellReduceConfirmation().then(function(){e.widget.rtdata.tablerows.splice(e.widget.rtdata.numberOfRows-e.widget.rtdata.tablerows.length)},function(){e.widget.rtdata.numberOfRows=e.widget.rtdata.tablerows.length}):e.widget.rtdata.tablerows.splice(e.widget.rtdata.numberOfRows-e.widget.rtdata.tablerows.length)}else e.widget.rtdata.tablerows.splice(e.widget.rtdata.numberOfRows-e.widget.rtdata.tablerows.length)})}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/wstext.js":[function(require,module,exports){
"use strict";function wsTextController(t,e,r,i,n,l,s){t.WS_STATE_CONST=s,t.renderHtml=function(t){return n.trustAsHtml(t)},t.froalaOptions={placeholderText:"Write text here..."}}wsTextController.$inject=["$scope","$element","$attrs","$transclude","$sce","$http","WS_STATE_CONST"],angular.module("wizer").directive("wstext",function(){return{restrict:"E",scope:{widget:"=",wsState:"=",isEdit:"="},replace:!1,templateUrl:"/js/worksheet/widgets/templates/wstext.html",controller:wsTextController,link:function(t,e,r){t.widget.isEmpty=function(){return!(t.widget.rtdata.title&&0!==t.widget.rtdata.title.length||t.widget.rtdata.content&&0!==t.widget.rtdata.content.length||t.widget.rtdata.audio&&t.widget.rtdata.audio.url)},t.widget.isEmpty()&&t.wsState==t.WS_STATE_CONST.EDIT&&t.$emit("toggle-edit")}}}),wsTextController.$inject=["$scope","$element","$attrs","$transclude","$sce","$http","WS_STATE_CONST"];

},{}],"/home/node/app/assets/js/worksheet/widgets/wstitle.js":[function(require,module,exports){
"use strict";angular.module("wizer").directive("wstitle",[function(){return{restrict:"E",scope:{widget:"=",wsState:"=",isEdit:"="},replace:!1,templateUrl:"/js/worksheet/widgets/templates/wstitle.html",compile:function(t,e,i){return function(t,e,i,r){t.WS_STATE_CONST=r,t.widget.isEmpty=function(){return!t.widget.rtdata.titleText||0===t.widget.rtdata.titleText.length},void 0===t.widget.data.titleText&&t.wsState!==t.WS_STATE_CONST.SOLVE&&t.$emit("toggle-edit")}}}}]);

},{}],"/home/node/app/assets/js/worksheet/widgets/wsvideo.js":[function(require,module,exports){
"use strict";function youtubeSearchController(t,e,i,a,o,d,n){var r=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi;function s(t,e){return t.indexOf(e)>-1}t.WS_STATE_CONST=o,t.search="",t.videos=[],t.searchView=!0,t.$watch("search",function(e,i){e.indexOf("http")>=0?/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/.test(e)?t.$emit("validInput"):t.$emit("invalidInput","Enter a youtube video link only"):t.$emit("validInput")}),t.$watch("isEdit",function(){!1===t.isEdit&&(t.widget.rtdata.video=t.currentVideo)}),t.$watch(function(){return{search:t.search}},function(e){if(e.search){t.videos=[];if(-1==t.search.indexOf("http"))a.getYoutubeData(t.search).then(function(e){angular.forEach(e,function(e){t.pushVideo(e)})});else{var i=t.getIdFromURL(t.search);a.getYoutubeIdData(i).then(function(e){if(e){e.id={videoId:i};var a=t.pushVideo(e);t.playVideo(a)}})}}},!0),d.settings().then(function(e){t.usettings=e}),t.isUserPremium=function(){return t.usettings&&t.usettings.PERSONALIZATION},t.setTitle=function(){t.widget.rtdata.title||(t.widget.rtdata.title=t.widget.rtdata.teacher_title,t.widget.rtdata.description=t.widget.rtdata.teacher_description)},t.getIdFromURL=function(t){var e=t.replace(r,"$1");if(s(e,";")){var i=e.split(";");if(s(i[1],"%")){var a=decodeURIComponent(e.split(";")[1]);e=("//youtube.com"+a).replace(r,"$1")}else e=i[0]}else s(e,"#")&&(e=e.split("#")[0]);return e},t.pushVideo=function(e){var i={};return i.title=e.snippet.title,i.thumbnails={},Object.keys(e.snippet.thumbnails).forEach(function(t){i.thumbnails[t]=e.snippet.thumbnails[t].url}),i.url="https://www.youtube.com/watch?v="+e.id.videoId,i.videoId=e.id.videoId,t.videos.push(i),a.getYoutubeIdData(e.id.videoId).then(function(t){i.duration=t.contentDetails.duration}),i},t.logEvent=function(e,i){var a=angular.copy(i);a.widgetSeqid=t.widget.seqid,a.ytEvent=e.data,delete a.startTime},t.onPlayerIsReady=function(e){t.totalMovieDuration=e.target.getDuration(),t.widget.rtdata.startTime=t.widget.rtdata.startTime||0,t.widget.rtdata.endTime=Math.min(t.widget.rtdata.endTime||t.totalMovieDuration),t.movieDuration=t.widget.rtdata.endTime-t.widget.rtdata.startTime,t.videoCustomSectionSlider={options:{floor:0,ceil:t.totalMovieDuration,translate:t.secondsToTime}}},t.$on("slideEnded",function(){t.broadcastVideoParametersChanged(),t.$emit("formdirty")}),t.secondsToTime=function(t){function e(t){return(t<10?"0":"")+t}var i=t%60,a=Math.floor(t%3600/60),o=Math.floor(t/3600);return o>0?e(o)+":"+e(a)+":"+e(i):e(a)+":"+e(i)},t.onPlayerStateChanged=function(e){if(e.data===YT.PlayerState.ENDED||e.data===YT.PlayerState.PLAYING||e.data===YT.PlayerState.PAUSED){switch(e.data){case YT.PlayerState.ENDED:t.solution.videoState.startTime>0&&(t.solution.videoState.timeWatched+=new Date-t.solution.videoState.startTime),t.solution.videoState.startTime=0,t.solution.videoState.ended=!0,t.broadcastVideoParametersChanged();break;case YT.PlayerState.PLAYING:t.solution.videoState.ended||(t.solution.videoState.started=!0,t.solution.videoState.startTime=new Date);break;case YT.PlayerState.PAUSED:t.solution.videoState.timeWatched+=new Date-t.solution.videoState.startTime,t.solution.videoState.startTime=0}t.logEvent(e,t.solution.videoState)}},t.broadcastVideoParametersChanged=function(){t.$parent.$broadcast("selectVideo",t.widget.rtdata.video.videoId,t.onPlayerIsReady,t.onPlayerStateChanged)},t.playVideo=function(e){t.currentVideo=e,t.widget.rtdata.video=e,t.solution||(t.solution={}),t.solution.videoState||(t.solution.videoState={timeWatched:0,started:!1,ended:!1}),t.broadcastVideoParametersChanged()}}youtubeSearchController.$inject=["$scope","$attrs","$sce","youtubeSearch","WS_STATE_CONST","UserSvc","$mdDialog"],angular.module("wizer").directive("wsvideo",function(){return{restrict:"E",scope:{widget:"=",solution:"=?",sessionId:"=?",wsState:"=",isEdit:"="},templateUrl:"/js/worksheet/widgets/templates/wsvideo.html",controller:youtubeSearchController,link:function(t,e,i){t.widget.isEmpty=function(){var e=t.widget.rtdata.video?t.widget.rtdata.video.videoId:t.widget.rtdata.videoId;return!e||0===e.length},t.setTitle(),t.widget.timespent=function(){return t.solution.videoState.timeWatched},t.widget.hasViewed=function(){return $scope.movieDuration/1e3/t.solution.videoState.timeWatched>=.9},t.widget.rtdata.videoId&&!t.widget.rtdata.video&&(t.widget.rtdata.video={videoId:t.widget.rtdata.videoId}),void 0!==t.widget.rtdata.video&&t.playVideo(t.widget.rtdata.video),void 0===t.widget.rtdata.video&&t.wsState!==t.WS_STATE_CONST.SOLVE&&(t.widget.rtdata.video={},t.$emit("toggle-edit"))}}}),youtubeSearchController.$inject=["$scope","$attrs","$sce","youtubeSearch","WS_STATE_CONST","UserSvc","$mdDialog"];

},{}],"/home/node/app/assets/js/worksheet/worksheet-editor.router.js":[function(require,module,exports){
"use strict";function worksheetEditorRouter(e){e.state("worksheet.edit",{url:"/editor/:token"}).state("worksheet.editPreview",{url:"/editor/preview/:token"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.worksheetEditorRouter=worksheetEditorRouter,worksheetEditorRouter.$inject=["$stateProvider"];

},{}],"/home/node/app/assets/js/worksheet/worksheet-footer/worksheet-footer.controller.js":[function(require,module,exports){
"use strict";function WorksheetFooterController(e,t){e.widgetContent=$(".worksheet-content"),e.$watch(function(){if(e.widgetContent)return e.widgetContent.height()},function(){$.waypoints("refresh")}),e.$watch(function(){return t.parent().width()},function(t,o){e.parentWidth=t})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorksheetFooterController=WorksheetFooterController,WorksheetFooterController.$inject=["$scope","$element"];

},{}],"/home/node/app/assets/js/worksheet/worksheet.module.js":[function(require,module,exports){
"use strict";var _angularMaterial=_interopRequireDefault(require("angular-material")),_ngRedux=_interopRequireDefault(require("ng-redux"));require("../common/common.module");var _addRanking=require("./add-ranking/add-ranking"),_worksheetViewWidgets=require("./view-widgets/worksheet-view-widgets.component"),_solution=require("./solve/solution.controller"),_worksheetMenu=require("./menu/worksheet-menu.component"),_worksheetFooter=require("./worksheet-footer/worksheet-footer.controller"),_worksheetEditor=require("./worksheet-editor.router"),_viewRanking=require("./view-ranking/view-ranking"),_wsThumbnail=require("./ws-thumbnail/ws-thumbnail.component"),_rating=require("./rating/rating"),_groupsDisplayFilterSelector=require("./preview/groups-display-filter-selector.component"),_worksheetWidgetAssess=require("./assessment/worksheet-widget-assess"),_worksheetWidgetAssessComment=require("./assessment/worksheet-widget-assess-comment"),_worksheetWidgetAssessHeader=require("./assessment/worksheet-widget-assess-header"),_previewBar=require("./preview-bar/preview-bar.component"),_worksheet=require("./services/worksheet.service");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}angular.module("wizer.worksheet",[_ngRedux.default,_angularMaterial.default,"wizer.api","wizer.common","wizer.widgets","zumba.angular-waypoints"]).controller("WorksheetSolveCtrl",_solution.WorksheetSolveCtrl).controller("WSFooterCtrl",_worksheetFooter.WorksheetFooterController).component(_previewBar.PREVIEW_BAR_COMPONENT,_previewBar.PreviewBarComponent).component("worksheetMenu",(0,_worksheetMenu.worksheetMenuComponent)()).component("addRanking",(0,_addRanking.addRankingComponent)()).component("worksheetViewWidgets",_worksheetViewWidgets.WorksheetViewWidgetsComponent).component("viewRanking",(0,_viewRanking.viewRankingComponent)()).component("wsThumbnail",(0,_wsThumbnail.wsThumbnailComponent)()).component("groupsDisplayFilterSelector",(0,_groupsDisplayFilterSelector.groupDisplayFilterSelectorComponent)()).component("rankingRating",(0,_rating.ratingComponent)()).directive("worksheetwidgetassess",_worksheetWidgetAssess.worksheetWidgetAssess).directive("widgetAssessmentComment",function(){return(0,_worksheetWidgetAssessComment.worksheetWidgetAssessmentComment)()}).directive("widgetAssessmentHeader",function(){return(0,_worksheetWidgetAssessHeader.widgetAssessmentHeader)()}).service(_worksheet.WORKSHEET_SERVICE_NAME,_worksheet.WorksheetService).config(_worksheetEditor.worksheetEditorRouter);

},{"../common/common.module":"/home/node/app/assets/js/common/common.module.js","./add-ranking/add-ranking":"/home/node/app/assets/js/worksheet/add-ranking/add-ranking.js","./assessment/worksheet-widget-assess":"/home/node/app/assets/js/worksheet/assessment/worksheet-widget-assess.js","./assessment/worksheet-widget-assess-comment":"/home/node/app/assets/js/worksheet/assessment/worksheet-widget-assess-comment.js","./assessment/worksheet-widget-assess-header":"/home/node/app/assets/js/worksheet/assessment/worksheet-widget-assess-header.js","./menu/worksheet-menu.component":"/home/node/app/assets/js/worksheet/menu/worksheet-menu.component.js","./preview-bar/preview-bar.component":"/home/node/app/assets/js/worksheet/preview-bar/preview-bar.component.js","./preview/groups-display-filter-selector.component":"/home/node/app/assets/js/worksheet/preview/groups-display-filter-selector.component.js","./rating/rating":"/home/node/app/assets/js/worksheet/rating/rating.js","./services/worksheet.service":"/home/node/app/assets/js/worksheet/services/worksheet.service.js","./solve/solution.controller":"/home/node/app/assets/js/worksheet/solve/solution.controller.js","./view-ranking/view-ranking":"/home/node/app/assets/js/worksheet/view-ranking/view-ranking.js","./view-widgets/worksheet-view-widgets.component":"/home/node/app/assets/js/worksheet/view-widgets/worksheet-view-widgets.component.js","./worksheet-editor.router":"/home/node/app/assets/js/worksheet/worksheet-editor.router.js","./worksheet-footer/worksheet-footer.controller":"/home/node/app/assets/js/worksheet/worksheet-footer/worksheet-footer.controller.js","./ws-thumbnail/ws-thumbnail.component":"/home/node/app/assets/js/worksheet/ws-thumbnail/ws-thumbnail.component.js","angular-material":false,"ng-redux":false}],"/home/node/app/assets/js/worksheet/ws-thumbnail/ws-thumbnail.component.js":[function(require,module,exports){
"use strict";function wsThumbnailComponent(){return{templateUrl:"/js/worksheet/ws-thumbnail/ws-thumbnail.component.html",controller:WsThumbnailController,bindings:{worksheet:"<",covers:"<"}}}function WsThumbnailController(){var e=this;e.getThumbnailImage=function(t){var n;if(!t)return;if(t.thumbnail&&t.thumbnail.length>0)return t.thumbnail.replace("s3.amazonaws.com/","");t&&t.style&&t.style.background&&((n=e.covers[t.style.background.name])||(n=t.style.background));var a="";a=n&&n.configurable&&t.style.images&&t.style.images[0]&&t.style.images[0].path?t.style.images[0].path:n&&n.thumbnail?n.thumbnail:n&&n.path?n.path:n;return a.replace("s3.amazonaws.com/","")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.wsThumbnailComponent=wsThumbnailComponent;

},{}],"/home/node/app/assets/partials/bubbles.json":[function(require,module,exports){
module.exports=[
  {
    "name": "default-bubble",
    "position": "center",
    "width": "100%",
    "html": [
      "<div class='worksheet-title notitlebg' style='position: relative;'>",
      "<div class='jumbotron' style='border-radius: 2px; border: 1px solid #C3C3C3; margin-bottom: 0px; background-color:transparent;'>",
      "<textarea autogrow class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto'>{{worksheet.name}}</h1>",
      "</div>",
      "</div>"
    ]
  },
  {
    "name": "circular-bubble",
    "position": "center",
    "border": {
      "radius": "50%",
      "width": "0px"
    },
    "min-width": "300px",
    "min-height": "300px",
    "width": "300px",
    "height": "300px",
    "fieldstyles": {
      "padding": "0 0",
      "text_alignment": "center"
    },
    "html": [
      "<textarea flex='none' circle-autogrow ui-keypress='{13:onTitleNewLine($event)}' ",
      " ng-change='titleChanged()' ng-style=\"{ 'display' : ws_state != WS_STATE_CONST.EDIT ? 'none' : 'inline-block' }\"",
      " ng-if='ws_state == WS_STATE_CONST.EDIT' dir='auto' class='title-input worksheet-header-title'",
      " ng-class=\"{ 'titleplaceholder' : ! worksheet.name }\" placeholder='Your title here...'",
      " ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\">",
      "</textarea>",
      "<h1 ng-show='ws_state != WS_STATE_CONST.EDIT' dir='auto'",
      " class='worksheet-header-title title-input'>{{worksheet.name}}",
      "</h1>"
    ]
  },
  {
    "name": "fullwidth-center-bubble",
    "width": "100%",
    "position": "center",
    "fieldstyles": {
      "text_alignment": "center"
    }
  },
  {
    "name": "fixedwidth-center-bubble",
    "position": "center",
    "max-width": "560px",
    "min-width": "300px",
    "width": "90%",
    "fieldstyles": {
      "padding": "20px",
      "text_alignment": "center"
    }
  },
  {
    "name": "secondary_border_circular_bubble",
    "border": {
      "width": "2px",
      "style": "solid",
      "radius": "50%"
    },
    "width": "350px",
    "height": "350px",
    "shadow": "6px 7px 20px",
    "html": [
      "<div style='width: 96%;  height: 96%; margin: 8px auto; border-width: 4px; border-style :  solid; border-radius: 50%;' class='bubble-secondary-border'>",
      "<textarea autogrow class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto'>{{worksheet.name}}</h1>",
      "</div>"
    ],
    "fieldstyles": {
      "padding": "70px 10px 0px",
      "text_alignment": "center"
    },
    "mobilestyles": {
      "width": "300px",
      "height": "300px"
    },
    "position": "center"
  },
  {
    "name": "fixedwidth-left-bubble",
    "width": "80%",
    "fieldstyles": {
      "text_alignment": "left"
    },
    "position": "left"
  },
  {
    "name": "fullwidth-left-bubble",
    "width": "100%",
    "fieldstyles": {
      "text_alignment": "left"
    },
    "position": "left"
  },
  {
    "name": "math_bubble",
    "width": "80%",
    "fieldstyles": {
      "text_alignment": "center"
    },
    "tabletstyles": {
      "width": "60%"
    },
    "position": "center"
  },
  {
    "name": "diy_bubble",
    "width": "100%",
    "position": "center",
    "html": [
      "<div class='text-center' style='margin-top: 5px;'>",
      "<div style='border-width: 1px; border-style: solid; width : 60%; margin: 0px auto 10px;' class='diy-bubble-text-border text-color-border'></div>",
      "<div style='border-width: 2px; border-style: solid; width : 70%; margin: 0px auto 20px;' class='diy-bubble-text-border text-color-border'></div>",
      "</div>",
      "<textarea autogrow class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto'>{{worksheet.name}}</h1>",
      "<div class='text-center' style='margin-bottom: 5px;'>",
      "<div style='border-width: 2px; border-style: solid; width : 70%; margin: 20px auto 0px;' class='diy-bubble-text-border text-color-border'></div>",
      "<div style='border-width: 1px; border-style: solid; width : 60%; margin: 10px auto 0px;' class='diy-bubble-text-border text-color-border'></div>",
      "</div>"
    ]
  },
  {
    "name": "fairy_tale_bubble",
    "width": "100%",
    "height": "320px",
    "max-height": "100%",
    "html": [
      "<div style='position: absolute; left: -12.5%;right: -12.5%;' class='cover-full-width-bubble-wrapper'>",
      "<div style='position:absolute; width:100%;-webkit-flex-align: center;-ms-flex-align: center;-webkit-align-items: center;align-items: center;display: -webkit-box;display: -moz-box;display: -ms-flexbox; display: -webkit-flex;display: flex;'>",
      "<div style='-webkit-flex: 1;-ms-flex: 1;flex: 1;'>",
      "<div style='height: 99px;margin-top: -10px;background-image: url(\"/images/bubble/fairy-tale-bubble-pattern.png\");'></div>",
      "</div>",
      "<div style='background-image: url(\"/images/bubble/fairy-tale-bubble.png\");background-position: center;background-size: cover;height: 100%;max-width: 385px;padding: 70px 0px;'>",
      "<div style='height: 138px;width: 385px;' class='fairy-tale-bubble-box'></div>",
      "</div>",
      "<div style='-webkit-flex: 1;-ms-flex: 1;flex: 1;'>",
      "<div style='height: 99px;margin-top: -10px;background-image: url(\"/images/bubble/fairy-tale-bubble-pattern.png\");'></div>",
      "</div>",
      "</div>",
      "<div style='position: relative; padding: 100px 0px;' class='fairy-tale-bubble-content'>",
      "<textarea autogrow ng-style=\"{'position': 'relative','top': '-17px'}\" class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto'>{{worksheet.name}}</h1>",
      "</div>",
      "</div>"
    ],
    "position": "center"
  },
  {
    "name": "spring_bubble",
    "width": "100%",
    "height": "320px",
    "max-height": "100%",
    "html": [
      "<div style='position: absolute; left: -12.5%;right: -12.5%;' class='cover-full-width-bubble-wrapper'>",
      "<div style='position:absolute; width:100%;-webkit-flex-align: center;-ms-flex-align: center;-webkit-align-items: center;align-items: center;display: -webkit-box;display: -moz-box;display: -ms-flexbox; display: -webkit-flex;display: flex;'>",
      "<div style='-webkit-flex: 1;-ms-flex: 1;flex: 1;'>",
      "<div style='height: 180px;background-image: url(\"/images/bubble/spring-banner.png\"); background-size: contain;'></div>",
      "</div>",
      "<div style='background-image: url(\"/images/bubble/spring-ribbon.png\");background-position: center;background-size: cover;max-width: 360px;padding: 83px 0px;'>",
      "<div style='height: 138px;width: 360px;' class='fairy-tale-bubble-box'></div>",
      "</div>",
      "<div style='-webkit-flex: 1;-ms-flex: 1;flex: 1;'>",
      "<div style='height: 180px;background-image: url(\"/images/bubble/spring-banner.png\"); background-size: contain;'></div>",
      "</div>",
      "</div>",
      "<div style='position: relative; padding: 125px 0px;'>",
      "<textarea autogrow ng-style=\"{'position': 'relative','top': '-17px'}\" class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto'>{{worksheet.name}}</h1>",
      "</div>",
      "</div>"
    ],
    "position": "center"
  },
  {
    "name": "fixedwidth-height-center-bubble",
    "position": "center",
    "max-width": "450px",
    "min-width": "300px",
    "height": "85px",
    "width": "90%",
    "fieldstyles": {
      "padding": "5px",
      "text_alignment": "center"
    }
  },
  {
    "name": "chevron-bubble",
    "position": "center",
    "max-width": "650px",
    "min-width": "300px",
    "width": "90%",
    "shadow": "3px 10px 1px rgba(119, 119, 119, 0.6)",
    "background_image": "/images/background/chevron/paper_texture.png",
    "html": [
      "<div style='position: relative; border-width : 10px;border-style:solid; padding: 15px 35px;overflow: hidden;' class='text-color-border'>",
      "<div style='position:absolute; height:40px; width: 40px; border-radius:50%;top: -20px;left: -20px;' class='text-color-background'></div>",
      "<div style='position:absolute; height:40px; width: 40px; border-radius:50%;top: -20px;right: -20px;' class='text-color-background'></div>",
      "<div style='position:absolute; height:40px; width: 40px; border-radius:50%;bottom: -20px;left: -20px;' class='text-color-background'></div>",
      "<div style='position:absolute; height:40px; width: 40px; border-radius:50%;bottom: -20px;right: -20px;' class='text-color-background'></div>",
      "<div style='padding: 10px;border-top-width: 4px; border-bottom-width: 4px;border-top-style: solid;border-bottom-style: solid; background-color:transparent;' class='text-color-border'>",
      "<textarea autogrow class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 style='padding: 15px 0px;'ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto'>{{worksheet.name}}</h1>",
      "</div>",
      "</div>"
    ]
  },
  {
    "name": "two-color-chevron-bubble",
    "position": "center",
    "max-width": "650px",
    "min-width": "300px",
    "width": "90%",
    "shadow": "3px 10px 1px rgba(119, 119, 119, 0.6)",
    "background_image": "/images/background/chevron/paper_texture.png",
    "html": [
      "<div style='position: relative; border-width : 10px;border-style:solid; padding: 15px 35px;overflow: hidden;' class='levelOneColor-border'>",
      "<div style='position:absolute; height:40px; width: 40px; border-radius:50%;top: -20px;left: -20px;' class='border-color-background'></div>",
      "<div style='position:absolute; height:40px; width: 40px; border-radius:50%;top: -20px;right: -20px;' class='border-color-background'></div>",
      "<div style='position:absolute; height:40px; width: 40px; border-radius:50%;bottom: -20px;left: -20px;' class='border-color-background'></div>",
      "<div style='position:absolute; height:40px; width: 40px; border-radius:50%;bottom: -20px;right: -20px;' class='border-color-background'></div>",
      "<div style='padding: 10px;border-top-width: 4px; border-bottom-width: 4px;border-top-style: solid;border-bottom-style: solid; background-color:transparent;' class='levelOneColor-border'>",
      "<textarea autogrow class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 style='padding: 15px 0px;'ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto'>{{worksheet.name}}</h1>",
      "</div>",
      "</div>"
    ]
  },
  {
    "name": "mothers-day-bubble",
    "min-width": "250px",
    "max-width": "50%",
    "tabletstyles": {
      "max-width": "65%"
    },
    "mobilestyles": {
      "max-width": "80%"
    },
    "fieldstyles": {
      "padding": "10px",
      "text_alignment": "left"
    }
  },
  {
    "name": "fixedwidth_border_bubble",
    "border": {
      "width": "6px",
      "style": "solid"
    },
    "position": "center",
    "max-width": "500px",
    "min-width": "300px",
    "width": "90%",
    "fieldstyles": {
      "padding": "20px",
      "text_alignment": "center"
    }
  },
  {
    "name": "fixedwidth_secordary_border_bubble",
    "position": "center",
    "border": {
      "width": "12px",
      "style": "solid",
      "radius": "25px"
    },
    "max-width": "630px",
    "min-width": "300px",
    "width": "90%",
    "min-height": "285px",
    "html": [
      "<div style='padding:4px; height:100%;'>",
      "<div style='border-radius:13px; border-width:2px;border-style:solid;height:100%;' class='vertically-centered levelOneColor-border'>",
      "<textarea autogrow style='text-transform:uppercase;position: relative;top: -10px;' class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 style='text-transform:uppercase;'ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input full-width' dir='auto'>{{worksheet.name}}</h1>",
      "</div>",
      "</div>"
    ],
    "fieldstyles": {
      "padding": "10px",
      "text_alignment": "center"
    }
  },
  {
    "name": "fullcover-width-rectangle-bubble",
    "width": "100%",
    "min-height": "200px",
    "position": "center",
    "html": [
      "<div style='position: absolute; left: -21.4%;right: -21.4%;min-height: 200px;' class='cover-full-width-bubble-wrapper'>",
      "<div style='position: absolute;width: 100%; opacity : 0.9; top: 0px;bottom:0px' class='vertically-centered levelOneColor-background'>",
      "<textarea autogrow class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto' style='width: 100%;'>{{worksheet.name}}</h1>",
      "</div>",
      "</div>"
    ]
  },
  {
    "name": "fullcover-width-bordered-bubble",
    "width": "100%",
    "min-height": "160px",
    "position": "center",
    "html": [
      "<div style='position: absolute; left: -21.4%;right: -21.4%;min-height: 200px;' class='cover-full-width-bubble-wrapper'>",
      "<div style='position: absolute;width: 100%; background-color: #fff;border-bottom-width: 15px;border-top-width: 15px;border-left-width: 0px;border-right-width: 0px;border-style: solid;top: 0px;bottom:0px' class='vertically-centered text-color-border'>",
      "<textarea autogrow class='title-input form-control text-center worksheet-header-title' placeholder='Your title here...'",
      " ng-hide='ws_state != WS_STATE_CONST.EDIT' ng-change='titleChanged()' ui-keypress='{13:onTitleNewLine($event)}'",
      " dir='auto' ng-model='worksheet.name' ng-model-options=\"{ updateOn: 'default blur' , debounce:{ 'default':500,'blur':0} }\" ng-class='{titleplaceholder : ! worksheet.name, ",
      " hide : ws_state != WS_STATE_CONST.EDIT}'></textarea>",
      "<h1 ng-show='ws_state != WS_STATE_CONST.EDIT' class='worksheet-header-title title-input' dir='auto' style='width: 100%;'>{{worksheet.name}}</h1>",
      "</div>",
      "</div>"
    ]
  },
  {
    "name": "dashed-bordered-bubble",
    "border": {
      "radius": "10px",
      "width": "0px"
    },
    "width": "85%",
    "min-width": "300px",
    "min-height": "125px",
    "position": "center",
    "shadow": "0 0 0 6px #EEFCFF, 0 0 6px 6px #009586",
    "border": {
      "width": "2px",
      "style": "dashed",
      "radius": "8px"
    },
    "fieldstyles": {
      "padding": "30px 15px",
      "text_alignment": "center"
    }
  }
]

},{}],"/home/node/app/assets/partials/fonts.json":[function(require,module,exports){
module.exports=[
  {
    "name": "Fredoka One",
    "className": "font-fredoka-one"
  },
  {
    "name": "Alfa Slab One",
    "className": "font-alfa-slab-one"
  },
  {
    "name": "Codystar",
    "className": "font-codystar"
  },
  {
    "name": "Knewave",
    "className": "font-knewave"
  },
  {
    "name": "Londrina Shadow",
    "className": "font-londrina-shadow"
  },
  {
    "name": "Open Sans extra bold",
    "className": "font-open-sans-extra-bold"
  },
  {
    "name": "Sniglet",
    "className": "font-sniglet"
  },
  {
    "name": "Yellowtail",
    "className": "font-yellowtail"
  },
  {
    "name": "Raleway Heavy",
    "className": "font-raleway-heavy"
  },
  {
    "name": "Trocchi",
    "className": "font-trocchi"
  },
  {
    "name": "Mountains of Christmas",
    "className": "font-mountains-of-christmas"
  },
  {
    "name": "Grand Hotel",
    "className": "font-grand-hotel"
  },
  {
    "name": "Nexa rust",
    "className": "font-nexa-rust"
  },
  {
    "name": "Sunday",
    "className": "font-sunday"
  },
  {
    "name": "Sifonn",
    "className": "font-sifonn"
  },
  {
    "name": "Museo Sans Bold",
    "className": "font-museo-sans-bold"
  },
  {
    "name": "Sue Ellen Francisco",
    "className": "font-sue-ellen-francisco"
  },
  {
    "name": "Fredericka the Great",
    "className": "font-fredericka-the-great"
  },
  {
    "name": "Cabin Sketch",
    "className": "font-cabin-sketch"
  },
  {
    "name": "Quicksand",
    "className": "font-quicksand"
  },
  {
    "name": "Sofia",
    "className": "font-sofia"
  },
  {
    "name": "Gochi Hand",
    "className": "font-gochi-hand"
  },
  {
    "name": "Josefin Slab",
    "className": "font-josefin-slab"
  },
  {
    "name": "Gloria Hallelujah",
    "className": "font-gloria-hallelujah"
  },
  {
    "name": "Indie Flower",
    "className": "font-indie-flower"
  },
  {
    "name": "Amatic SC",
    "className": "font-amatic-sc"
  },
  {
    "name": "Boogaloo",
    "className": "font-boogaloo"
  },
  {
    "name": "Kalam",
    "className": "font-kalam"
  },
  {
    "name": "Old Standard TT",
    "className": "font-old-standard-tt"
  },
  {
    "name": "Open Sans Condensed",
    "className": "font-open-sans-condensed"
  },
  {
    "name": "Cookie",
    "className": "font-cookie"
  },
  {
    "name": "Permanent Marker",
    "className": "font-permanent-marker"
  },
  {
    "name": "Lobster",
    "className": "font-lobster"
  },
  {
    "name": "Andada",
    "className": "font-andada"
  },
  {
    "name": "Annie Use Your Telescope",
    "className": "font-annie-telescope"
  },
  {
    "name": "Abys",
    "className": "font-abys"
  },
  {
    "name": "League Gothic",
    "className": "font-league-gothic"
  },
  {
    "name": "Tikal Sans",
    "className": "font-tikal-sans"
  }
]

},{}],"/home/node/app/assets/partials/papers.json":[function(require,module,exports){
module.exports=[
  {
    "name": "default-paper",
    "paper": {
      "background-color": "#ffffff"
    },
    "background": {
      "background-color": "#f7f7f9"
    }
  },
  {
    "name": "fairy-tale-paper",
    "paper": {
      "background-color": "#f5f5f5"
    },
    "background": {
      "background_url": "/images/background/fairy-tale-background.jpg",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "pick-a-boo-park-paper",
    "paper": {
      "paper_url": "/images/background/pick_a_boo_paper.png",
      "repeat": "repeat",
      "size": "auto auto",
      "shadow": "0 0 0 6px #EEFCFF, 0 0 6px 6px #009586",
      "border": {
        "width": "2px",
        "radius": "7px",
        "style": "dashed",
        "class": "levelOneColor-border"
      }
    },
    "background": {
      "background-color": "#B0C044"
    }
  },
  {
    "name": "math-spring",
    "paper": {
      "background-color": "#fff",
      "shadow": "0 0 0 8px #fff, 0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)",
      "border": {
        "width": "3px",
        "radius": "50px",
        "style": "dotted",
        "color": "#ffc2db"
      }
    },
    "background": {
      "background_url": "/images/background/math-bg.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "4th-july-paper",
    "paper": {
      "background-color": "#fff",
      "shadow": "0 0 0 10px #fff, 0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)",
      "border": {
        "width": "6px",
        "radius": "20px",
        "style": "dashed",
        "class": "levelOneColor-text-color-border"
      }
    },
    "background": {
      "background-color": "#F8C485"
    }
  },
  {
    "name": "morning-glory-paper",
    "paper": {
      "paper_url": "/images/background/lined_paper.png",
      "repeat": "repeat",
      "size": "auto auto",
      "padding": "40px"
    },
    "background": {
      "background_url": "/images/background/background_cardboard_polka.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "chevron-paper-1",
    "paper": {
      "background-color": "#f5f2e8",
      "paper_url": "/images/background/chevron/paper_texture.png",
      "shadow": "-10px 10px 0px 0px rgba(119, 119, 119, 0.6)"
    },
    "background": {
      "background_url": "/images/background/chevron/chevron01-16.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "chevron-paper-2",
    "paper": {
      "background-color": "#f5f2e8",
      "paper_url": "/images/background/chevron/paper_texture.png",
      "shadow": "-10px 10px 0px 0px rgba(119, 119, 119, 0.6)"
    },
    "background": {
      "background_url": "/images/background/chevron/chevron01-15.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "chevron-paper-3",
    "paper": {
      "background-color": "#f5f2e8",
      "paper_url": "/images/background/chevron/paper_texture.png",
      "shadow": "-10px 10px 0px 0px rgba(119, 119, 119, 0.6)"
    },
    "background": {
      "background_url": "/images/background/chevron/chevron01-14.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "chevron-paper-4",
    "paper": {
      "background-color": "#f5f2e8",
      "paper_url": "/images/background/chevron/paper_texture.png",
      "shadow": "-10px 10px 0px 0px rgba(119, 119, 119, 0.6)"
    },
    "background": {
      "background_url": "/images/background/chevron/chevron01-13.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "elephant-ballons-paper",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "radius": "10px"
      }
    },
    "background": {
      "background-color": "#adc5dd"
    }
  },
  {
    "name": "air-ballons-2-paper",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "radius": "10px"
      }
    },
    "background": {
      "background-color": "#b9bfcc"
    }
  },
  {
    "name": "hot-air-ballons-paper",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "radius": "10px"
      }
    },
    "background": {
      "background-color": "#E4F3F7"
    }
  },
  {
    "name": "scrap-paper",
    "paper": {
      "background-color": "transparent",
      "paper_url": "/images/cover/scrapbooking/scrap-paper.jpg",
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px",
        "color": "transparent"
      }
    },
    "background": {
      "background-color": "#375454"
    }
  },
  {
    "name": "halloween",
    "disabled": true,
    "paper": {
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px"
      }
    },
    "background": {
      "background_url": "/images/cover/halloween/bg-bats.png",
      "repeat": "no-repeat",
      "position": "left 400px"
    }
  },
  {
    "name": "halloween2",
    "paper": {
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px"
      }
    },
    "background": {
      "background_url": "/images/cover/halloween2/pttrn.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "autumn",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px"
      }
    },
    "background": {
      "repeat": "repeat-x",
      "position": "left 400px",
      "background-color": "#FDDD90"
    }
  },
  {
    "name": "kids",
    "paper": {
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px"
      }
    },
    "background": {
      "background_url": "/images/background/kids_pttrn.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "gaudi",
    "paper": {
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px"
      }
    },
    "background": {
      "background_url": "/images/background/gaudi_bg_pttrn.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "triangle-pttrn-brown",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "width": "3px",
        "style": "solid",
        "radius": "10px",
        "color": "#702c8d"
      }
    },
    "background": {
      "background-color": "#ffeec7"
    }
  },
  {
    "name": "triangle-pttrn-green",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "width": "3px",
        "style": "solid",
        "radius": "10px",
        "color": "#3bb54a"
      }
    },
    "background": {
      "background-color": "#E2EDC1"
    }
  },
  {
    "name": "triangle-pttrn-gray",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "width": "3px",
        "style": "solid",
        "radius": "10px",
        "color": "#f15b24"
      }
    },
    "background": {
      "background-color": "#d1d1d1"
    }
  },
  {
    "name": "triangle-pttrn-yellow",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "width": "3px",
        "style": "solid",
        "radius": "10px",
        "color": "#e5da1a"
      }
    },
    "background": {
      "background-color": "#f7e5df"
    }
  },
  {
    "name": "math-splash",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "width": "3px",
        "style": "solid",
        "radius": "10px"
      }
    },
    "background": {
      "background_url": "/images/cover/math-splash/pttrn-bg.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "math",
    "paper": {
      "background-color": "#ffffff",
      "shadow": "10px 10px 0px 0px",
      "border": {
        "radius": "0px"
      }
    },
    "background": {
      "background_url": "/images/cover/corkboard_bg.jpg",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "chalkboard-background",
    "paper": {
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px",
        "color": "transparent"
      },
      "background-color": "#ffffff"
    },
    "background": {
      "background_url": "/images/cover/chalkboard_pttrn.png",
      "background-color": "#a4bdaa",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "chalks-paper",
    "paper": {
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "10px",
        "color": "transparent"
      },
      "background-color": "#ffffff"
    },
    "background": {
      "background_url": "/images/cover/chalkboard_pttrn.png",
      "background-color": "#b8afac",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "school-bag-paper",
    "paper": {
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "10px",
        "color": "transparent"
      },
      "background-color": "#ffffff"
    },
    "background": {
      "background_url": "/images/cover/chalkboard_pttrn.png",
      "background-color": "#054c92",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "worldmap",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px"
      }
    },
    "background": {
      "background_url": "/images/cover/notebook_pttrn.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "worldmap_big",
    "paper": {
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px"
      }
    },
    "background": {
      "background_url": "/images/cover/notebook_pttrn.png",
      "repeat": "repeat",
      "size": "auto auto"
    }
  },
  {
    "name": "wizerme-clouds",
    "paper": {
      "background-color": "#ffffff",
      "border": {
        "width": "1px",
        "style": "solid",
        "radius": "5px"
      }
    },
    "background": {
      "background_url": "/images/cover/notebook_pttrn.png",
      "background-color": "#7aa552",
      "background-gradient": "linear-gradient(to right, rgba(122,165,82,1) 0%, rgba(137,188,93,1) 100%)",
      "repeat": "repeat",
      "size": "auto auto"
    }
  }
]

},{}],"/home/node/app/assets/partials/widget.json":[function(require,module,exports){
module.exports=[
  {
    "name": "Open Question",
    "title": "Open Question",
    "type": "question",
    "controller": "EssayCTRL",
    "showInAssessment": true,
    "enabled": true,
    "partialPointer": true,
    "class_name": "widget-essay icon-open-q path1 path2",
    "createdAt": "2014-08-16T20:26:14.297Z",
    "updatedAt": "2014-08-16T20:26:14.297Z",
    "id": 9
  },
  {
    "name": "Multiple Choice",
    "title": "Multiple Choice Question",
    "type": "question",
    "controller": "MuQuestionCTRL",
    "showInAssessment": true,
    "enabled": true,
    "class_name": "widget-mu-choice-question icon-multiple",
    "createdAt": "2014-08-16T20:26:14.692Z",
    "updatedAt": "2014-08-16T20:26:14.692Z",
    "id": 10
  },
  {
    "name": "Blanks",
    "title": "Fill in the blanks Question",
    "type": "question",
    "controller": "FillInCTRL",
    "showInAssessment": true,
    "enabled": true,
    "class_name": "widget-fillin icon-blanks",
    "createdAt": "2014-08-16T20:26:15.593Z",
    "updatedAt": "2014-08-16T20:26:15.593Z",
    "id": 12
  },
  {
    "name": "Fill On An Image",
    "title": "Image Tagging",
    "type": "question",
    "controller": "ImageTaggingCTRL",
    "showInAssessment": true,
    "enabled": true,
    "class_name": " widget-table icon-fill-image",
    "createdAt": "2014-07-11T20:26:16.735Z",
    "updatedAt": "2014-07-11T20:26:16.735Z",
    "id": 19
  },
  {
    "name": "Matching",
    "title": "Matching Question",
    "type": "question",
    "controller": "MatchingCTRL",
    "showInAssessment": true,
    "enabled": true,
    "class_name": "widget-matching icon-matching",
    "createdAt": "2014-08-16T20:26:16.735Z",
    "updatedAt": "2014-08-16T20:26:16.735Z",
    "id": 15
  },
  {
    "name": "Table",
    "title": "Table",
    "type": "question",
    "controller": "TableCTRL",
    "showInAssessment": true,
    "enabled": true,
    "class_name": "widget-table icon-table",
    "createdAt": "2014-12-18T20:26:16.735Z",
    "updatedAt": "2014-12-18T20:26:16.735Z",
    "id": 17
  },
  {
    "name": "Sorting",
    "title": "Sorting",
    "type": "question",
    "controller": "SortingCTRL",
    "showInAssessment": true,
    "enabled": true,
    "class_name": "widget-essay icon-sorting1",
    "createdAt": "2014-08-16T20:26:14.297Z",
    "updatedAt": "2014-08-16T20:26:14.297Z",
    "id": 6
  },
  {
    "name": "Draw",
    "title": "Draw",
    "type": "question",
    "controller": "DrawCtrl",
    "showInAssessment": true,
    "enabled": true,
    "partialPointer": true,
    "class_name": "widget-draw icon-draw",
    "createdAt": "2014-08-16T20:26:13.912Z",
    "updatedAt": "2014-08-16T20:26:13.912Z",
    "id": 8
  },
  {
    "name": "Text",
    "title": "Text",
    "type": "content",
    "controller": "TextCtrl",
    "showInAssessment": false,
    "enabled": true,
    "class_name": "widget-text icon-title path1 path2",
    "createdAt": "2014-08-16T20:26:11.357Z",
    "updatedAt": "2014-08-16T20:26:11.357Z",
    "id": 2
  },
  {
    "name": "Image",
    "title": "Image",
    "type": "content",
    "controller": "ImageCtrl",
    "showInAssessment": false,
    "enabled": true,
    "class_name": "widget-image icon-image",
    "createdAt": "2014-08-16T20:26:11.734Z",
    "updatedAt": "2014-08-16T20:26:11.734Z",
    "id": 3
  },
  {
    "name": "Video",
    "title": "Video",
    "type": "content",
    "controller": "VideoCtrl",
    "showInAssessment": false,
    "enabled": true,
    "class_name": "widget-video icon-video",
    "createdAt": "2014-08-16T20:26:12.631Z",
    "updatedAt": "2014-08-16T20:26:12.631Z",
    "id": 5
  },
  {
    "name": "Link",
    "title": "Link",
    "type": "content",
    "controller": "LinkCtrl",
    "showInAssessment": false,
    "enabled": true,
    "class_name": "widget-link icon-link-w",
    "createdAt": "2014-08-16T20:26:12.141Z",
    "updatedAt": "2014-08-16T20:26:12.141Z",
    "id": 4
  },
  {
    "name": "Embed",
    "title": "Embed",
    "type": "question",
    "controller": "EmbedCTRL",
    "showInAssessment": true,
    "enabled": true,
    "partialPointer": true,
    "class_name": "widget-embed icon-embed",
    "createdAt": "2014-12-18T20:26:16.735Z",
    "updatedAt": "2014-12-18T20:26:16.735Z",
    "id": 18
  },
  {
    "name": "Discussion",
    "title": "Discussion",
    "type": "content",
    "controller": "SocialCTRL",
    "showInAssessment": true,
    "enabled": true,
    "class_name": "widget-social icon-social",
    "createdAt": "2014-08-16T20:26:15.980Z",
    "updatedAt": "2014-08-16T20:26:15.980Z",
    "id": 13
  },
  {
    "name": "Group work",
    "title": "Group work",
    "type": "content",
    "controller": "CollaborationCtrl",
    "showInAssessment": false,
    "enabled": false,
    "class_name": "widget-collaboration icon-collaboration",
    "createdAt": "2014-08-16T20:26:13.465Z",
    "updatedAt": "2014-08-16T20:26:13.465Z",
    "id": 7
  },
  {
    "name": "Annotate",
    "title": "Annotate",
    "type": "question",
    "controller": "MarkerCTRL",
    "showInAssessment": true,
    "enabled": false,
    "class_name": "widget-marker icon-marker",
    "createdAt": "2014-08-16T20:26:16.361Z",
    "updatedAt": "2014-08-16T20:26:16.361Z",
    "id": 14
  },
  {
    "name": "Graphic organizers",
    "title": "Graphic organizers",
    "type": "question",
    "controller": "GraphicCTRL",
    "showInAssessment": true,
    "enabled": false,
    "class_name": "widget-marker icon-graphic",
    "createdAt": "2014-08-16T20:26:16.361Z",
    "updatedAt": "2014-08-16T20:26:16.361Z",
    "id": 19
  },
  {
    "name": "Auto save",
    "title": "Auto save",
    "type": "question",
    "controller": "AutosaveCTRL",
    "showInAssessment": true,
    "enabled": false,
    "class_name": "widget-marker icon-save1",
    "createdAt": "2014-08-16T20:26:16.361Z",
    "updatedAt": "2014-08-16T20:26:16.361Z",
    "id": 20
  },
  {
    "name": "SubmissionMessage",
    "title": "Submission Message",
    "type": "submission",
    "controller": "SubmissionMessageCtrl",
    "showInAssessment": false,
    "enabled": true,
    "class_name": "widget-submission",
    "createdAt": "2014-08-16T20:26:17.133Z",
    "updatedAt": "2014-08-16T20:26:17.133Z",
    "id": 16
  },
  {
    "name": "Reflection",
    "title": "Reflection Question",
    "type": "content",
    "controller": "ReflectionCTRL",
    "showInAssessment": true,
    "enabled": true,
    "isPremium": false,
    "class_name": "widget-reflection fa fa-thumbs-up",
    "createdAt": "2017-11-20T20:26:17.133Z",
    "updatedAt": "2017-11-20T20:26:17.133Z",
    "id": 21
  },
  {
    "name": "Annotate",
    "title": "Annotate",
    "type": "question",
    "showInAssessment": false,
    "enabled": false,
    "isPremium": true,
    "class_name": "widget-annotate fa fa-i-cursor",
    "createdAt": "2017-11-27T20:26:17.133Z",
    "updatedAt": "2017-11-27T20:26:17.133Z",
    "id": 23
  },
  {
    "name": "Word Search Puzzle",
    "title": "Wordsearch Question",
    "type": "question",
    "showInAssessment": true,
    "enabled": true,
    "isPremium": false,
    "class_name": "widget-wordsearch fa fa-table",
    "createdAt": "2019-05-11T12:21:17.133Z",
    "updatedAt": "2019-05-11T12:21:17.133Z",
    "id": 24
  }
]

},{}],"/home/node/app/node_modules/he/he.js":[function(require,module,exports){
(function (global){(function (){
!function(r){var e="object"==typeof exports&&exports,a="object"==typeof module&&module&&module.exports==e&&module,t="object"==typeof global&&global;t.global!==t&&t.window!==t||(r=t);var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,l={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},i=/["&'<>`]/g,n={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},p=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,d=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,m={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},f={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},b={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},h=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],q=String.fromCharCode,v={}.hasOwnProperty,w=function(r,e){return v.call(r,e)},D=function(r,e){if(!r)return e;var a,t={};for(a in e)t[a]=w(r,a)?r[a]:e[a];return t},y=function(r,e){var a="";return r>=55296&&r<=57343||r>1114111?(e&&x("character reference outside the permissible Unicode range"),"�"):w(b,r)?(e&&x("disallowed character reference"),b[r]):(e&&function(r,e){for(var a=-1,t=r.length;++a<t;)if(r[a]==e)return!0;return!1}(h,r)&&x("disallowed character reference"),r>65535&&(a+=q((r-=65536)>>>10&1023|55296),r=56320|1023&r),a+=q(r))},A=function(r){return"&#x"+r.toString(16).toUpperCase()+";"},E=function(r){return"&#"+r+";"},x=function(r){throw Error("Parse error: "+r)},k=function(r,e){(e=D(e,k.options)).strict&&d.test(r)&&x("forbidden code point");var a=e.encodeEverything,t=e.useNamedReferences,n=e.allowUnsafeSymbols,p=e.decimal?E:A,g=function(r){return p(r.charCodeAt(0))};return a?(r=r.replace(s,function(r){return t&&w(l,r)?"&"+l[r]+";":g(r)}),t&&(r=r.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),t&&(r=r.replace(c,function(r){return"&"+l[r]+";"}))):t?(n||(r=r.replace(i,function(r){return"&"+l[r]+";"})),r=(r=r.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(c,function(r){return"&"+l[r]+";"})):n||(r=r.replace(i,g)),r.replace(o,function(r){var e=r.charCodeAt(0),a=r.charCodeAt(1);return p(1024*(e-55296)+a-56320+65536)}).replace(u,g)};k.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var L=function(r,e){var a=(e=D(e,L.options)).strict;return a&&p.test(r)&&x("malformed character reference"),r.replace(g,function(r,t,o,s,u,c,l,i,n){var p,d,g,b,h,q;return t?m[h=t]:o?(h=o,(q=s)&&e.isAttributeValue?(a&&"="==q&&x("`&` did not start a character reference"),r):(a&&x("named character reference was not terminated by a semicolon"),f[h]+(q||""))):u?(g=u,d=c,a&&!d&&x("character reference was not terminated by a semicolon"),p=parseInt(g,10),y(p,a)):l?(b=l,d=i,a&&!d&&x("character reference was not terminated by a semicolon"),p=parseInt(b,16),y(p,a)):(a&&x("named character reference was not terminated by a semicolon"),r)})};L.options={isAttributeValue:!1,strict:!1};var S={version:"1.2.0",encode:k,decode:L,escape:function(r){return r.replace(i,function(r){return n[r]})},unescape:L};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return S});else if(e&&!e.nodeType)if(a)a.exports=S;else for(var C in S)w(S,C)&&(e[C]=S[C]);else r.he=S}(this);

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"/home/node/app/node_modules/lodash/_Symbol.js":[function(require,module,exports){
var root=require("./_root"),Symbol=root.Symbol;module.exports=Symbol;

},{"./_root":"/home/node/app/node_modules/lodash/_root.js"}],"/home/node/app/node_modules/lodash/_baseGetTag.js":[function(require,module,exports){
var Symbol=require("./_Symbol"),getRawTag=require("./_getRawTag"),objectToString=require("./_objectToString"),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}module.exports=baseGetTag;

},{"./_Symbol":"/home/node/app/node_modules/lodash/_Symbol.js","./_getRawTag":"/home/node/app/node_modules/lodash/_getRawTag.js","./_objectToString":"/home/node/app/node_modules/lodash/_objectToString.js"}],"/home/node/app/node_modules/lodash/_baseTrim.js":[function(require,module,exports){
var trimmedEndIndex=require("./_trimmedEndIndex"),reTrimStart=/^\s+/;function baseTrim(e){return e?e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,""):e}module.exports=baseTrim;

},{"./_trimmedEndIndex":"/home/node/app/node_modules/lodash/_trimmedEndIndex.js"}],"/home/node/app/node_modules/lodash/_freeGlobal.js":[function(require,module,exports){
(function (global){(function (){
var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"/home/node/app/node_modules/lodash/_getRawTag.js":[function(require,module,exports){
var Symbol=require("./_Symbol"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;function getRawTag(t){var o=hasOwnProperty.call(t,symToStringTag),r=t[symToStringTag];try{t[symToStringTag]=void 0;var a=!0}catch(t){}var e=nativeObjectToString.call(t);return a&&(o?t[symToStringTag]=r:delete t[symToStringTag]),e}module.exports=getRawTag;

},{"./_Symbol":"/home/node/app/node_modules/lodash/_Symbol.js"}],"/home/node/app/node_modules/lodash/_objectToString.js":[function(require,module,exports){
var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString(t){return nativeObjectToString.call(t)}module.exports=objectToString;

},{}],"/home/node/app/node_modules/lodash/_root.js":[function(require,module,exports){
var freeGlobal=require("./_freeGlobal"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root;

},{"./_freeGlobal":"/home/node/app/node_modules/lodash/_freeGlobal.js"}],"/home/node/app/node_modules/lodash/_trimmedEndIndex.js":[function(require,module,exports){
var reWhitespace=/\s/;function trimmedEndIndex(e){for(var r=e.length;r--&&reWhitespace.test(e.charAt(r)););return r}module.exports=trimmedEndIndex;

},{}],"/home/node/app/node_modules/lodash/debounce.js":[function(require,module,exports){
var isObject=require("./isObject"),now=require("./now"),toNumber=require("./toNumber"),FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(n,i,t){var e,r,o,u,a,c,v=0,f=!1,m=!1,d=!0;if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);function T(i){var t=e,o=r;return e=r=void 0,v=i,u=n.apply(o,t)}function s(n){var t=n-c;return void 0===c||t>=i||t<0||m&&n-v>=o}function b(){var n=now();if(s(n))return l(n);a=setTimeout(b,function(n){var t=i-(n-c);return m?nativeMin(t,o-(n-v)):t}(n))}function l(n){return a=void 0,d&&e?T(n):(e=r=void 0,u)}function w(){var n=now(),t=s(n);if(e=arguments,r=this,c=n,t){if(void 0===a)return function(n){return v=n,a=setTimeout(b,i),f?T(n):u}(c);if(m)return clearTimeout(a),a=setTimeout(b,i),T(c)}return void 0===a&&(a=setTimeout(b,i)),u}return i=toNumber(i)||0,isObject(t)&&(f=!!t.leading,o=(m="maxWait"in t)?nativeMax(toNumber(t.maxWait)||0,i):o,d="trailing"in t?!!t.trailing:d),w.cancel=function(){void 0!==a&&clearTimeout(a),v=0,e=c=r=a=void 0},w.flush=function(){return void 0===a?u:l(now())},w}module.exports=debounce;

},{"./isObject":"/home/node/app/node_modules/lodash/isObject.js","./now":"/home/node/app/node_modules/lodash/now.js","./toNumber":"/home/node/app/node_modules/lodash/toNumber.js"}],"/home/node/app/node_modules/lodash/fromPairs.js":[function(require,module,exports){
function fromPairs(r){for(var o=-1,n=null==r?0:r.length,a={};++o<n;){var e=r[o];a[e[0]]=e[1]}return a}module.exports=fromPairs;

},{}],"/home/node/app/node_modules/lodash/isObject.js":[function(require,module,exports){
function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}module.exports=isObject;

},{}],"/home/node/app/node_modules/lodash/isObjectLike.js":[function(require,module,exports){
function isObjectLike(e){return null!=e&&"object"==typeof e}module.exports=isObjectLike;

},{}],"/home/node/app/node_modules/lodash/isSymbol.js":[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}module.exports=isSymbol;

},{"./_baseGetTag":"/home/node/app/node_modules/lodash/_baseGetTag.js","./isObjectLike":"/home/node/app/node_modules/lodash/isObjectLike.js"}],"/home/node/app/node_modules/lodash/now.js":[function(require,module,exports){
var root=require("./_root"),now=function(){return root.Date.now()};module.exports=now;

},{"./_root":"/home/node/app/node_modules/lodash/_root.js"}],"/home/node/app/node_modules/lodash/toNumber.js":[function(require,module,exports){
var baseTrim=require("./_baseTrim"),isObject=require("./isObject"),isSymbol=require("./isSymbol"),NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=isObject(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var t=reIsBinary.test(e);return t||reIsOctal.test(e)?freeParseInt(e.slice(2),t?2:8):reIsBadHex.test(e)?NAN:+e}module.exports=toNumber;

},{"./_baseTrim":"/home/node/app/node_modules/lodash/_baseTrim.js","./isObject":"/home/node/app/node_modules/lodash/isObject.js","./isSymbol":"/home/node/app/node_modules/lodash/isSymbol.js"}],"/home/node/app/node_modules/redux-thunk/lib/index.js":[function(require,module,exports){
"use strict";function createThunkMiddleware(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(u){return"function"==typeof u?u(n,r,t):e(u)}}}}exports.__esModule=!0;var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,exports.default=thunk;

},{}],"/home/node/app/node_modules/regenerator-runtime/runtime.js":[function(require,module,exports){
var runtime=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(t){u=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof g?r:g,i=Object.create(o.prototype),a=new G(n||[]);return i._invoke=function(t,r,e){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return T()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=j(a,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===l)throw n=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=p;var u=f(t,r,e);if("normal"===u.type){if(n=e.done?y:s,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=y,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function f(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l="suspendedStart",s="suspendedYield",p="executing",y="completed",v={};function g(){}function d(){}function m(){}var w={};u(w,i,function(){return this});var L=Object.getPrototypeOf,x=L&&L(L(N([])));x&&x!==e&&n.call(x,i)&&(w=x);var b=m.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach(function(r){u(t,r,function(t){return this._invoke(r,t)})})}function _(t,r){var e;this._invoke=function(o,i){function a(){return new r(function(e,a){!function e(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?r.resolve(l.__await).then(function(t){e("next",t,a,c)},function(t){e("throw",t,a,c)}):r.resolve(l).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,c)})}c(u.arg)}(o,i,e,a)})}return e=e?e.then(a,a):a()}}function j(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:T}}function T(){return{value:r,done:!0}}return d.prototype=m,u(b,"constructor",m),u(m,"constructor",d),d.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),u(_.prototype,a,function(){return this}),t.AsyncIterator=_,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new _(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(b),u(b,c,"Generator"),u(b,i,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=runtime}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}

},{}]},{},["/home/node/app/assets/js/app.js"]);
